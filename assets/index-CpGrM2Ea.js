var xE=t=>{throw TypeError(t)};var Pg=(t,e,n)=>e.has(t)||xE("Cannot "+n);var $=(t,e,n)=>(Pg(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?xE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(Pg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(Pg(t,e,"access private method"),n);var mh=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return $(t,e,r)}});function LL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function WC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KC={exports:{}},sm={},HC={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed=Symbol.for("react.element"),jL=Symbol.for("react.portal"),FL=Symbol.for("react.fragment"),UL=Symbol.for("react.strict_mode"),BL=Symbol.for("react.profiler"),$L=Symbol.for("react.provider"),zL=Symbol.for("react.context"),WL=Symbol.for("react.forward_ref"),KL=Symbol.for("react.suspense"),HL=Symbol.for("react.memo"),GL=Symbol.for("react.lazy"),EE=Symbol.iterator;function qL(t){return t===null||typeof t!="object"?null:(t=EE&&t[EE]||t["@@iterator"],typeof t=="function"?t:null)}var GC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qC=Object.assign,QC={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=QC,this.updater=n||GC}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YC(){}YC.prototype=Ul.prototype;function hw(t,e,n){this.props=t,this.context=e,this.refs=QC,this.updater=n||GC}var fw=hw.prototype=new YC;fw.constructor=hw;qC(fw,Ul.prototype);fw.isPureReactComponent=!0;var TE=Array.isArray,XC=Object.prototype.hasOwnProperty,pw={current:null},JC={key:!0,ref:!0,__self:!0,__source:!0};function ZC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XC.call(e,r)&&!JC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ed,type:t,key:i,ref:o,props:s,_owner:pw.current}}function QL(t,e){return{$$typeof:Ed,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ed}function YL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SE=/\/+/g;function Rg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YL(""+t.key):e.toString(36)}function ef(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ed:case jL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Rg(o,0):r,TE(s)?(n="",t!=null&&(n=t.replace(SE,"$&/")+"/"),ef(s,e,n,"",function(c){return c})):s!=null&&(mw(s)&&(s=QL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(SE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",TE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rg(i,a);o+=ef(i,e,n,l,s)}else if(l=qL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rg(i,a++),o+=ef(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],s=0;return ef(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},tf={transition:null},JL={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:tf,ReactCurrentOwner:pw};function eA(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!mw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ul;ve.Fragment=FL;ve.Profiler=BL;ve.PureComponent=hw;ve.StrictMode=UL;ve.Suspense=KL;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JL;ve.act=eA;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XC.call(e,l)&&!JC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ed,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:zL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$L,_context:t},t.Consumer=t};ve.createElement=ZC;ve.createFactory=function(t){var e=ZC.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:WL,render:t}};ve.isValidElement=mw;ve.lazy=function(t){return{$$typeof:GL,_payload:{_status:-1,_result:t},_init:XL}};ve.memo=function(t,e){return{$$typeof:HL,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=tf.transition;tf.transition={};try{t()}finally{tf.transition=e}};ve.unstable_act=eA;ve.useCallback=function(t,e){return nn.current.useCallback(t,e)};ve.useContext=function(t){return nn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return nn.current.useEffect(t,e)};ve.useId=function(){return nn.current.useId()};ve.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return nn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ve.useRef=function(t){return nn.current.useRef(t)};ve.useState=function(t){return nn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return nn.current.useTransition()};ve.version="18.3.1";HC.exports=ve;var v=HC.exports;const G=WC(v),tA=LL({__proto__:null,default:G},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL=v,ej=Symbol.for("react.element"),tj=Symbol.for("react.fragment"),nj=Object.prototype.hasOwnProperty,rj=ZL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sj={key:!0,ref:!0,__self:!0,__source:!0};function nA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nj.call(e,r)&&!sj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ej,type:t,key:i,ref:o,props:s,_owner:rj.current}}sm.Fragment=tj;sm.jsx=nA;sm.jsxs=nA;KC.exports=sm;var p=KC.exports,rA={exports:{}},Vn={},sA={exports:{}},iA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var Q=q-1>>>1,J=j[Q];if(0<s(J,U))j[Q]=U,j[q]=J,q=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var Q=0,J=j.length,ie=J>>>1;Q<ie;){var Ce=2*(Q+1)-1,Je=j[Ce],ye=Ce+1,He=j[ye];if(0>s(Je,q))ye<J&&0>s(He,Je)?(j[Q]=He,j[ye]=q,Q=ye):(j[Q]=Je,j[Ce]=q,Q=Ce);else if(ye<J&&0>s(He,q))j[Q]=He,j[ye]=q,Q=ye;else break e}}return U}function s(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function A(j){if(y=!1,T(j),!w)if(n(l)!==null)w=!0,re(k);else{var U=n(c);U!==null&&ne(A,U.startTime-j)}}function k(j,U){w=!1,y&&(y=!1,_(I),I=-1),m=!0;var q=f;try{for(T(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var J=Q(h.expirationTime<=U);U=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),T(U)}else r(l);h=n(l)}if(h!==null)var ie=!0;else{var Ce=n(c);Ce!==null&&ne(A,Ce.startTime-U),ie=!1}return ie}finally{h=null,f=q,m=!1}}var V=!1,b=null,I=-1,P=5,R=-1;function D(){return!(t.unstable_now()-R<P)}function M(){if(b!==null){var j=t.unstable_now();R=j;var U=!0;try{U=b(!0,j)}finally{U?N():(V=!1,b=null)}}else V=!1}var N;if(typeof x=="function")N=function(){x(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ue=K.port2;K.port1.onmessage=M,N=function(){ue.postMessage(null)}}else N=function(){S(M,0)};function re(j){b=j,V||(V=!0,N())}function ne(j,U){I=S(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,re(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return j()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=f;f=j;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(j,U,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,j={id:d++,callback:U,priorityLevel:j,startTime:q,expirationTime:J,sortIndex:-1},q>Q?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(y?(_(I),I=-1):y=!0,ne(A,q-Q))):(j.sortIndex=J,e(l,j),w||m||(w=!0,re(k))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var U=f;return function(){var q=f;f=U;try{return j.apply(this,arguments)}finally{f=q}}}})(iA);sA.exports=iA;var ij=sA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj=v,Nn=ij;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oA=new Set,Tu={};function Qo(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(Tu[t]=e,t=0;t<e.length;t++)oA.add(e[t])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=Object.prototype.hasOwnProperty,aj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IE={},bE={};function lj(t){return qy.call(bE,t)?!0:qy.call(IE,t)?!1:aj.test(t)?bE[t]=!0:(IE[t]=!0,!1)}function cj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uj(t,e,n,r){if(e===null||typeof e>"u"||cj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gw=/[\-:]([a-z])/g;function yw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gw,yw);kt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gw,yw);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gw,yw);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function vw(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uj(e,n,s,r)&&(n=null),r||s===null?lj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ts=oj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),Ta=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),aA=Symbol.for("react.provider"),lA=Symbol.for("react.context"),_w=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Xy=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),cA=Symbol.for("react.offscreen"),CE=Symbol.iterator;function xc(t){return t===null||typeof t!="object"?null:(t=CE&&t[CE]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,kg;function Lc(t){if(kg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kg=e&&e[1]||""}return`
`+kg+t}var Ng=!1;function Dg(t,e){if(!t||Ng)return"";Ng=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ng=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lc(t):""}function dj(t){switch(t.tag){case 5:return Lc(t.type);case 16:return Lc("Lazy");case 13:return Lc("Suspense");case 19:return Lc("SuspenseList");case 0:case 2:case 15:return t=Dg(t.type,!1),t;case 11:return t=Dg(t.type.render,!1),t;case 1:return t=Dg(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ta:return"Fragment";case Ea:return"Portal";case Qy:return"Profiler";case ww:return"StrictMode";case Yy:return"Suspense";case Xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lA:return(t.displayName||"Context")+".Consumer";case aA:return(t._context.displayName||"Context")+".Provider";case _w:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xw:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function hj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fj(t){var e=uA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=fj(t))}function dA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function AE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hA(t,e){e=e.checked,e!=null&&vw(t,"checked",e,!1)}function ev(t,e){hA(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,n):e.hasOwnProperty("defaultValue")&&tv(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tv(t,e,n){(e!=="number"||Ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jc=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(jc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function fA(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,mA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pj=["Webkit","ms","Moz","O"];Object.keys(Yc).forEach(function(t){pj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yc[e]=Yc[t]})});function gA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yc.hasOwnProperty(t)&&Yc[t]?(""+e).trim():e+"px"}function yA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mj=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sv(t,e){if(e){if(mj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function iv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function Ew(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var av=null,Ua=null,Ba=null;function NE(t){if(t=Id(t)){if(typeof av!="function")throw Error(W(280));var e=t.stateNode;e&&(e=cm(e),av(t.stateNode,t.type,e))}}function vA(t){Ua?Ba?Ba.push(t):Ba=[t]:Ua=t}function wA(){if(Ua){var t=Ua,e=Ba;if(Ba=Ua=null,NE(t),e)for(t=0;t<e.length;t++)NE(e[t])}}function _A(t,e){return t(e)}function xA(){}var Mg=!1;function EA(t,e,n){if(Mg)return t(e,n);Mg=!0;try{return _A(t,e,n)}finally{Mg=!1,(Ua!==null||Ba!==null)&&(xA(),wA())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=cm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var lv=!1;if(us)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{lv=!1}function gj(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Xc=!1,Uf=null,Bf=!1,cv=null,yj={onError:function(t){Xc=!0,Uf=t}};function vj(t,e,n,r,s,i,o,a,l){Xc=!1,Uf=null,gj.apply(yj,arguments)}function wj(t,e,n,r,s,i,o,a,l){if(vj.apply(this,arguments),Xc){if(Xc){var c=Uf;Xc=!1,Uf=null}else throw Error(W(198));Bf||(Bf=!0,cv=c)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DE(t){if(Yo(t)!==t)throw Error(W(188))}function _j(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return DE(s),t;if(i===r)return DE(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function SA(t){return t=_j(t),t!==null?IA(t):null}function IA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IA(t);if(e!==null)return e;t=t.sibling}return null}var bA=Nn.unstable_scheduleCallback,ME=Nn.unstable_cancelCallback,xj=Nn.unstable_shouldYield,Ej=Nn.unstable_requestPaint,ot=Nn.unstable_now,Tj=Nn.unstable_getCurrentPriorityLevel,Tw=Nn.unstable_ImmediatePriority,CA=Nn.unstable_UserBlockingPriority,$f=Nn.unstable_NormalPriority,Sj=Nn.unstable_LowPriority,AA=Nn.unstable_IdlePriority,im=null,Rr=null;function Ij(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Aj,bj=Math.log,Cj=Math.LN2;function Aj(t){return t>>>=0,t===0?32:31-(bj(t)/Cj|0)|0}var _h=64,xh=4194304;function Fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Fc(a):(i&=o,i!==0&&(r=Fc(i)))}else o=n&~s,o!==0?r=Fc(o):i!==0&&(r=Fc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function Pj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Pj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PA(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Vg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Td(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function kj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function RA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kA,Iw,NA,DA,MA,dv=!1,Eh=[],ai=null,li=null,ci=null,bu=new Map,Cu=new Map,Hs=[],Nj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VE(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(e.pointerId)}}function Tc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Id(e),e!==null&&Iw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Dj(t,e,n,r,s){switch(e){case"focusin":return ai=Tc(ai,t,e,n,r,s),!0;case"dragenter":return li=Tc(li,t,e,n,r,s),!0;case"mouseover":return ci=Tc(ci,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return bu.set(i,Tc(bu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cu.set(i,Tc(Cu.get(i)||null,t,e,n,r,s)),!0}return!1}function VA(t){var e=fo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=TA(n),e!==null){t.blockedOn=e,MA(t.priority,function(){NA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ov=r,n.target.dispatchEvent(r),ov=null}else return e=Id(n),e!==null&&Iw(e),t.blockedOn=n,!1;e.shift()}return!0}function OE(t,e,n){nf(t)&&n.delete(e)}function Mj(){dv=!1,ai!==null&&nf(ai)&&(ai=null),li!==null&&nf(li)&&(li=null),ci!==null&&nf(ci)&&(ci=null),bu.forEach(OE),Cu.forEach(OE)}function Sc(t,e){t.blockedOn===e&&(t.blockedOn=null,dv||(dv=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,Mj)))}function Au(t){function e(s){return Sc(s,t)}if(0<Eh.length){Sc(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ai!==null&&Sc(ai,t),li!==null&&Sc(li,t),ci!==null&&Sc(ci,t),bu.forEach(e),Cu.forEach(e),n=0;n<Hs.length;n++)r=Hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)VA(n),n.blockedOn===null&&Hs.shift()}var $a=Ts.ReactCurrentBatchConfig,Wf=!0;function Vj(t,e,n,r){var s=ke,i=$a.transition;$a.transition=null;try{ke=1,bw(t,e,n,r)}finally{ke=s,$a.transition=i}}function Oj(t,e,n,r){var s=ke,i=$a.transition;$a.transition=null;try{ke=4,bw(t,e,n,r)}finally{ke=s,$a.transition=i}}function bw(t,e,n,r){if(Wf){var s=hv(t,e,n,r);if(s===null)Kg(t,e,r,Kf,n),VE(t,r);else if(Dj(s,t,e,n,r))r.stopPropagation();else if(VE(t,r),e&4&&-1<Nj.indexOf(t)){for(;s!==null;){var i=Id(s);if(i!==null&&kA(i),i=hv(t,e,n,r),i===null&&Kg(t,e,r,Kf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kg(t,e,r,null,n)}}var Kf=null;function hv(t,e,n,r){if(Kf=null,t=Ew(r),t=fo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kf=t,null}function OA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tj()){case Tw:return 1;case CA:return 4;case $f:case Sj:return 16;case AA:return 536870912;default:return 16}default:return 16}}var ri=null,Cw=null,rf=null;function LA(){if(rf)return rf;var t,e=Cw,n=e.length,r,s="value"in ri?ri.value:ri.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return rf=s.slice(t,1<r?1-r:void 0)}function sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function LE(){return!1}function On(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Th:LE,this.isPropagationStopped=LE,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aw=On(Bl),Sd=Xe({},Bl,{view:0,detail:0}),Lj=On(Sd),Og,Lg,Ic,om=Xe({},Sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ic&&(Ic&&t.type==="mousemove"?(Og=t.screenX-Ic.screenX,Lg=t.screenY-Ic.screenY):Lg=Og=0,Ic=t),Og)},movementY:function(t){return"movementY"in t?t.movementY:Lg}}),jE=On(om),jj=Xe({},om,{dataTransfer:0}),Fj=On(jj),Uj=Xe({},Sd,{relatedTarget:0}),jg=On(Uj),Bj=Xe({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=On(Bj),zj=Xe({},Bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wj=On(zj),Kj=Xe({},Bl,{data:0}),FE=On(Kj),Hj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qj[t])?!!e[t]:!1}function Pw(){return Qj}var Yj=Xe({},Sd,{key:function(t){if(t.key){var e=Hj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pw,charCode:function(t){return t.type==="keypress"?sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xj=On(Yj),Jj=Xe({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UE=On(Jj),Zj=Xe({},Sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pw}),e4=On(Zj),t4=Xe({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),n4=On(t4),r4=Xe({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s4=On(r4),i4=[9,13,27,32],Rw=us&&"CompositionEvent"in window,Jc=null;us&&"documentMode"in document&&(Jc=document.documentMode);var o4=us&&"TextEvent"in window&&!Jc,jA=us&&(!Rw||Jc&&8<Jc&&11>=Jc),BE=" ",$E=!1;function FA(t,e){switch(t){case"keyup":return i4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function a4(t,e){switch(t){case"compositionend":return UA(e);case"keypress":return e.which!==32?null:($E=!0,BE);case"textInput":return t=e.data,t===BE&&$E?null:t;default:return null}}function l4(t,e){if(Sa)return t==="compositionend"||!Rw&&FA(t,e)?(t=LA(),rf=Cw=ri=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jA&&e.locale!=="ko"?null:e.data;default:return null}}var c4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c4[t.type]:e==="textarea"}function BA(t,e,n,r){vA(r),e=Hf(e,"onChange"),0<e.length&&(n=new Aw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zc=null,Pu=null;function u4(t){JA(t,0)}function am(t){var e=Ca(t);if(dA(e))return t}function d4(t,e){if(t==="change")return e}var $A=!1;if(us){var Fg;if(us){var Ug="oninput"in document;if(!Ug){var WE=document.createElement("div");WE.setAttribute("oninput","return;"),Ug=typeof WE.oninput=="function"}Fg=Ug}else Fg=!1;$A=Fg&&(!document.documentMode||9<document.documentMode)}function KE(){Zc&&(Zc.detachEvent("onpropertychange",zA),Pu=Zc=null)}function zA(t){if(t.propertyName==="value"&&am(Pu)){var e=[];BA(e,Pu,t,Ew(t)),EA(u4,e)}}function h4(t,e,n){t==="focusin"?(KE(),Zc=e,Pu=n,Zc.attachEvent("onpropertychange",zA)):t==="focusout"&&KE()}function f4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return am(Pu)}function p4(t,e){if(t==="click")return am(e)}function m4(t,e){if(t==="input"||t==="change")return am(e)}function g4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:g4;function Ru(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qy.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function HE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GE(t,e){var n=HE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HE(n)}}function WA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KA(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ff(t.document)}return e}function kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y4(t){var e=KA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WA(n.ownerDocument.documentElement,n)){if(r!==null&&kw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=GE(n,i);var o=GE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v4=us&&"documentMode"in document&&11>=document.documentMode,Ia=null,fv=null,eu=null,pv=!1;function qE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pv||Ia==null||Ia!==Ff(r)||(r=Ia,"selectionStart"in r&&kw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eu&&Ru(eu,r)||(eu=r,r=Hf(fv,"onSelect"),0<r.length&&(e=new Aw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ia)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ba={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Bg={},HA={};us&&(HA=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function lm(t){if(Bg[t])return Bg[t];if(!ba[t])return t;var e=ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HA)return Bg[t]=e[n];return t}var GA=lm("animationend"),qA=lm("animationiteration"),QA=lm("animationstart"),YA=lm("transitionend"),XA=new Map,QE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){XA.set(t,e),Qo(e,[t])}for(var $g=0;$g<QE.length;$g++){var zg=QE[$g],w4=zg.toLowerCase(),_4=zg[0].toUpperCase()+zg.slice(1);Vi(w4,"on"+_4)}Vi(GA,"onAnimationEnd");Vi(qA,"onAnimationIteration");Vi(QA,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(YA,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function YE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wj(r,e,void 0,t),t.currentTarget=null}function JA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;YE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;YE(s,a,c),i=l}}}if(Bf)throw t=cv,Bf=!1,cv=null,t}function Be(t,e){var n=e[wv];n===void 0&&(n=e[wv]=new Set);var r=t+"__bubble";n.has(r)||(ZA(e,t,2,!1),n.add(r))}function Wg(t,e,n){var r=0;e&&(r|=4),ZA(n,t,r,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function ku(t){if(!t[Ih]){t[Ih]=!0,oA.forEach(function(n){n!=="selectionchange"&&(x4.has(n)||Wg(n,!1,t),Wg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,Wg("selectionchange",!1,e))}}function ZA(t,e,n,r){switch(OA(e)){case 1:var s=Vj;break;case 4:s=Oj;break;default:s=bw}n=s.bind(null,e,n,t),s=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}EA(function(){var c=i,d=Ew(n),h=[];e:{var f=XA.get(t);if(f!==void 0){var m=Aw,w=t;switch(t){case"keypress":if(sf(n)===0)break e;case"keydown":case"keyup":m=Xj;break;case"focusin":w="focus",m=jg;break;case"focusout":w="blur",m=jg;break;case"beforeblur":case"afterblur":m=jg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Fj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e4;break;case GA:case qA:case QA:m=$j;break;case YA:m=n4;break;case"scroll":m=Lj;break;case"wheel":m=s4;break;case"copy":case"cut":case"paste":m=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=UE}var y=(e&4)!==0,S=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,T;x!==null;){T=x;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,_!==null&&(A=Iu(x,_),A!=null&&y.push(Nu(x,A,T)))),S)break;x=x.return}0<y.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ov&&(w=n.relatedTarget||n.fromElement)&&(fo(w)||w[ds]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?fo(w):null,w!==null&&(S=Yo(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(y=jE,A="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=UE,A="onPointerLeave",_="onPointerEnter",x="pointer"),S=m==null?f:Ca(m),T=w==null?f:Ca(w),f=new y(A,x+"leave",m,n,d),f.target=S,f.relatedTarget=T,A=null,fo(d)===c&&(y=new y(_,x+"enter",w,n,d),y.target=T,y.relatedTarget=S,A=y),S=A,m&&w)t:{for(y=m,_=w,x=0,T=y;T;T=aa(T))x++;for(T=0,A=_;A;A=aa(A))T++;for(;0<x-T;)y=aa(y),x--;for(;0<T-x;)_=aa(_),T--;for(;x--;){if(y===_||_!==null&&y===_.alternate)break t;y=aa(y),_=aa(_)}y=null}else y=null;m!==null&&XE(h,f,m,y,!1),w!==null&&S!==null&&XE(h,S,w,y,!0)}}e:{if(f=c?Ca(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=d4;else if(zE(f))if($A)k=m4;else{k=f4;var V=h4}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=p4);if(k&&(k=k(t,c))){BA(h,k,n,d);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&tv(f,"number",f.value)}switch(V=c?Ca(c):window,t){case"focusin":(zE(V)||V.contentEditable==="true")&&(Ia=V,fv=c,eu=null);break;case"focusout":eu=fv=Ia=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,qE(h,n,d);break;case"selectionchange":if(v4)break;case"keydown":case"keyup":qE(h,n,d)}var b;if(Rw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Sa?FA(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(jA&&n.locale!=="ko"&&(Sa||I!=="onCompositionStart"?I==="onCompositionEnd"&&Sa&&(b=LA()):(ri=d,Cw="value"in ri?ri.value:ri.textContent,Sa=!0)),V=Hf(c,I),0<V.length&&(I=new FE(I,t,null,n,d),h.push({event:I,listeners:V}),b?I.data=b:(b=UA(n),b!==null&&(I.data=b)))),(b=o4?a4(t,n):l4(t,n))&&(c=Hf(c,"onBeforeInput"),0<c.length&&(d=new FE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}JA(h,e)})}function Nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Iu(t,n),i!=null&&r.unshift(Nu(t,i,s)),i=Iu(t,e),i!=null&&r.push(Nu(t,i,s))),t=t.return}return r}function aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Iu(n,i),l!=null&&o.unshift(Nu(n,l,a))):s||(l=Iu(n,i),l!=null&&o.push(Nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var E4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function JE(t){return(typeof t=="string"?t:""+t).replace(E4,`
`).replace(T4,"")}function bh(t,e,n){if(e=JE(e),JE(t)!==e&&n)throw Error(W(425))}function Gf(){}var mv=null,gv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,S4=typeof clearTimeout=="function"?clearTimeout:void 0,ZE=typeof Promise=="function"?Promise:void 0,I4=typeof queueMicrotask=="function"?queueMicrotask:typeof ZE<"u"?function(t){return ZE.resolve(null).then(t).catch(b4)}:vv;function b4(t){setTimeout(function(){throw t})}function Hg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Au(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $l=Math.random().toString(36).slice(2),br="__reactFiber$"+$l,Du="__reactProps$"+$l,ds="__reactContainer$"+$l,wv="__reactEvents$"+$l,C4="__reactListeners$"+$l,A4="__reactHandles$"+$l;function fo(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ds]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eT(t);t!==null;){if(n=t[br])return n;t=eT(t)}return e}t=n,n=t.parentNode}return null}function Id(t){return t=t[br]||t[ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function cm(t){return t[Du]||null}var _v=[],Aa=-1;function Oi(t){return{current:t}}function $e(t){0>Aa||(t.current=_v[Aa],_v[Aa]=null,Aa--)}function Le(t,e){Aa++,_v[Aa]=t.current,t.current=e}var Ei={},Gt=Oi(Ei),mn=Oi(!1),No=Ei;function ll(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function qf(){$e(mn),$e(Gt)}function tT(t,e,n){if(Gt.current!==Ei)throw Error(W(168));Le(Gt,e),Le(mn,n)}function eP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,hj(t)||"Unknown",s));return Xe({},n,r)}function Qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,No=Gt.current,Le(Gt,t),Le(mn,mn.current),!0}function nT(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=eP(t,e,No),r.__reactInternalMemoizedMergedChildContext=t,$e(mn),$e(Gt),Le(Gt,t)):$e(mn),Le(mn,n)}var es=null,um=!1,Gg=!1;function tP(t){es===null?es=[t]:es.push(t)}function P4(t){um=!0,tP(t)}function Li(){if(!Gg&&es!==null){Gg=!0;var t=0,e=ke;try{var n=es;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,um=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),bA(Tw,Li),s}finally{ke=e,Gg=!1}}return null}var Pa=[],Ra=0,Yf=null,Xf=0,Un=[],Bn=0,Do=null,ns=1,rs="";function no(t,e){Pa[Ra++]=Xf,Pa[Ra++]=Yf,Yf=t,Xf=e}function nP(t,e,n){Un[Bn++]=ns,Un[Bn++]=rs,Un[Bn++]=Do,Do=t;var r=ns;t=rs;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ns=1<<32-ur(e)+s|n<<s|r,rs=i+t}else ns=1<<i|n<<s|r,rs=t}function Nw(t){t.return!==null&&(no(t,1),nP(t,1,0))}function Dw(t){for(;t===Yf;)Yf=Pa[--Ra],Pa[Ra]=null,Xf=Pa[--Ra],Pa[Ra]=null;for(;t===Do;)Do=Un[--Bn],Un[Bn]=null,rs=Un[--Bn],Un[Bn]=null,ns=Un[--Bn],Un[Bn]=null}var Pn=null,bn=null,We=!1,lr=null;function rP(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,bn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Do!==null?{id:ns,overflow:rs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,bn=null,!0):!1;default:return!1}}function xv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ev(t){if(We){var e=bn;if(e){var n=e;if(!rT(t,e)){if(xv(t))throw Error(W(418));e=ui(n.nextSibling);var r=Pn;e&&rT(t,e)?rP(r,n):(t.flags=t.flags&-4097|2,We=!1,Pn=t)}}else{if(xv(t))throw Error(W(418));t.flags=t.flags&-4097|2,We=!1,Pn=t}}}function sT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Ch(t){if(t!==Pn)return!1;if(!We)return sT(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=bn)){if(xv(t))throw sP(),Error(W(418));for(;e;)rP(t,e),e=ui(e.nextSibling)}if(sT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Pn?ui(t.stateNode.nextSibling):null;return!0}function sP(){for(var t=bn;t;)t=ui(t.nextSibling)}function cl(){bn=Pn=null,We=!1}function Mw(t){lr===null?lr=[t]:lr.push(t)}var R4=Ts.ReactCurrentBatchConfig;function bc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ah(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iT(t){var e=t._init;return e(t._payload)}function iP(t){function e(_,x){if(t){var T=_.deletions;T===null?(_.deletions=[x],_.flags|=16):T.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=pi(_,x),_.index=0,_.sibling=null,_}function i(_,x,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<x?(_.flags|=2,x):T):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,T,A){return x===null||x.tag!==6?(x=ey(T,_.mode,A),x.return=_,x):(x=s(x,T),x.return=_,x)}function l(_,x,T,A){var k=T.type;return k===Ta?d(_,x,T.props.children,A,T.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ws&&iT(k)===x.type)?(A=s(x,T.props),A.ref=bc(_,x,T),A.return=_,A):(A=hf(T.type,T.key,T.props,null,_.mode,A),A.ref=bc(_,x,T),A.return=_,A)}function c(_,x,T,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=ty(T,_.mode,A),x.return=_,x):(x=s(x,T.children||[]),x.return=_,x)}function d(_,x,T,A,k){return x===null||x.tag!==7?(x=Io(T,_.mode,A,k),x.return=_,x):(x=s(x,T),x.return=_,x)}function h(_,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ey(""+x,_.mode,T),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yh:return T=hf(x.type,x.key,x.props,null,_.mode,T),T.ref=bc(_,null,x),T.return=_,T;case Ea:return x=ty(x,_.mode,T),x.return=_,x;case Ws:var A=x._init;return h(_,A(x._payload),T)}if(jc(x)||xc(x))return x=Io(x,_.mode,T,null),x.return=_,x;Ah(_,x)}return null}function f(_,x,T,A){var k=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return k!==null?null:a(_,x,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yh:return T.key===k?l(_,x,T,A):null;case Ea:return T.key===k?c(_,x,T,A):null;case Ws:return k=T._init,f(_,x,k(T._payload),A)}if(jc(T)||xc(T))return k!==null?null:d(_,x,T,A,null);Ah(_,T)}return null}function m(_,x,T,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(T)||null,a(x,_,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case yh:return _=_.get(A.key===null?T:A.key)||null,l(x,_,A,k);case Ea:return _=_.get(A.key===null?T:A.key)||null,c(x,_,A,k);case Ws:var V=A._init;return m(_,x,T,V(A._payload),k)}if(jc(A)||xc(A))return _=_.get(T)||null,d(x,_,A,k,null);Ah(x,A)}return null}function w(_,x,T,A){for(var k=null,V=null,b=x,I=x=0,P=null;b!==null&&I<T.length;I++){b.index>I?(P=b,b=null):P=b.sibling;var R=f(_,b,T[I],A);if(R===null){b===null&&(b=P);break}t&&b&&R.alternate===null&&e(_,b),x=i(R,x,I),V===null?k=R:V.sibling=R,V=R,b=P}if(I===T.length)return n(_,b),We&&no(_,I),k;if(b===null){for(;I<T.length;I++)b=h(_,T[I],A),b!==null&&(x=i(b,x,I),V===null?k=b:V.sibling=b,V=b);return We&&no(_,I),k}for(b=r(_,b);I<T.length;I++)P=m(b,_,I,T[I],A),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?I:P.key),x=i(P,x,I),V===null?k=P:V.sibling=P,V=P);return t&&b.forEach(function(D){return e(_,D)}),We&&no(_,I),k}function y(_,x,T,A){var k=xc(T);if(typeof k!="function")throw Error(W(150));if(T=k.call(T),T==null)throw Error(W(151));for(var V=k=null,b=x,I=x=0,P=null,R=T.next();b!==null&&!R.done;I++,R=T.next()){b.index>I?(P=b,b=null):P=b.sibling;var D=f(_,b,R.value,A);if(D===null){b===null&&(b=P);break}t&&b&&D.alternate===null&&e(_,b),x=i(D,x,I),V===null?k=D:V.sibling=D,V=D,b=P}if(R.done)return n(_,b),We&&no(_,I),k;if(b===null){for(;!R.done;I++,R=T.next())R=h(_,R.value,A),R!==null&&(x=i(R,x,I),V===null?k=R:V.sibling=R,V=R);return We&&no(_,I),k}for(b=r(_,b);!R.done;I++,R=T.next())R=m(b,_,I,R.value,A),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?I:R.key),x=i(R,x,I),V===null?k=R:V.sibling=R,V=R);return t&&b.forEach(function(M){return e(_,M)}),We&&no(_,I),k}function S(_,x,T,A){if(typeof T=="object"&&T!==null&&T.type===Ta&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case yh:e:{for(var k=T.key,V=x;V!==null;){if(V.key===k){if(k=T.type,k===Ta){if(V.tag===7){n(_,V.sibling),x=s(V,T.props.children),x.return=_,_=x;break e}}else if(V.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ws&&iT(k)===V.type){n(_,V.sibling),x=s(V,T.props),x.ref=bc(_,V,T),x.return=_,_=x;break e}n(_,V);break}else e(_,V);V=V.sibling}T.type===Ta?(x=Io(T.props.children,_.mode,A,T.key),x.return=_,_=x):(A=hf(T.type,T.key,T.props,null,_.mode,A),A.ref=bc(_,x,T),A.return=_,_=A)}return o(_);case Ea:e:{for(V=T.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(_,x.sibling),x=s(x,T.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=ty(T,_.mode,A),x.return=_,_=x}return o(_);case Ws:return V=T._init,S(_,x,V(T._payload),A)}if(jc(T))return w(_,x,T,A);if(xc(T))return y(_,x,T,A);Ah(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,T),x.return=_,_=x):(n(_,x),x=ey(T,_.mode,A),x.return=_,_=x),o(_)):n(_,x)}return S}var ul=iP(!0),oP=iP(!1),Jf=Oi(null),Zf=null,ka=null,Vw=null;function Ow(){Vw=ka=Zf=null}function Lw(t){var e=Jf.current;$e(Jf),t._currentValue=e}function Tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){Zf=t,Vw=ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Vw!==t)if(t={context:t,memoizedValue:e,next:null},ka===null){if(Zf===null)throw Error(W(308));ka=t,Zf.dependencies={lanes:0,firstContext:t}}else ka=ka.next=t;return e}var po=null;function jw(t){po===null?po=[t]:po.push(t)}function aP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jw(e)):(n.next=s.next,s.next=n),e.interleaved=n,hs(t,r)}function hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function Fw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hs(t,n)}return s=r.interleaved,s===null?(e.next=e,jw(r)):(e.next=s.next,s.next=e),r.interleaved=e,hs(t,n)}function of(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sw(t,n)}}function oT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ep(t,e,n,r){var s=t.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Xe({},h,f);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vo|=o,t.lanes=o,t.memoizedState=h}}function aT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var bd={},kr=Oi(bd),Mu=Oi(bd),Vu=Oi(bd);function mo(t){if(t===bd)throw Error(W(174));return t}function Uw(t,e){switch(Le(Vu,e),Le(Mu,t),Le(kr,bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rv(e,t)}$e(kr),Le(kr,e)}function dl(){$e(kr),$e(Mu),$e(Vu)}function cP(t){mo(Vu.current);var e=mo(kr.current),n=rv(e,t.type);e!==n&&(Le(Mu,t),Le(kr,n))}function Bw(t){Mu.current===t&&($e(kr),$e(Mu))}var Ge=Oi(0);function tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qg=[];function $w(){for(var t=0;t<qg.length;t++)qg[t]._workInProgressVersionPrimary=null;qg.length=0}var af=Ts.ReactCurrentDispatcher,Qg=Ts.ReactCurrentBatchConfig,Mo=0,Ye=null,yt=null,Et=null,np=!1,tu=!1,Ou=0,k4=0;function Lt(){throw Error(W(321))}function zw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Ww(t,e,n,r,s,i){if(Mo=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,af.current=t===null||t.memoizedState===null?V4:O4,t=n(r,s),tu){i=0;do{if(tu=!1,Ou=0,25<=i)throw Error(W(301));i+=1,Et=yt=null,e.updateQueue=null,af.current=L4,t=n(r,s)}while(tu)}if(af.current=rp,e=yt!==null&&yt.next!==null,Mo=0,Et=yt=Ye=null,np=!1,e)throw Error(W(300));return t}function Kw(){var t=Ou!==0;return Ou=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ye.memoizedState=Et=t:Et=Et.next=t,Et}function Yn(){if(yt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Et===null?Ye.memoizedState:Et.next;if(e!==null)Et=e,yt=t;else{if(t===null)throw Error(W(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Et===null?Ye.memoizedState=Et=t:Et=Et.next=t}return Et}function Lu(t,e){return typeof e=="function"?e(t):e}function Yg(t){var e=Yn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Mo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ye.lanes|=d,Vo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,Vo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xg(t){var e=Yn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uP(){}function dP(t,e){var n=Ye,r=Yn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,Hw(pP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,ju(9,fP.bind(null,n,r,s,e),void 0,null),St===null)throw Error(W(349));Mo&30||hP(n,e,s)}return s}function hP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fP(t,e,n,r){e.value=n,e.getSnapshot=r,mP(e)&&gP(t)}function pP(t,e,n){return n(function(){mP(e)&&gP(t)})}function mP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function gP(t){var e=hs(t,1);e!==null&&dr(e,t,1,-1)}function lT(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:t},e.queue=t,t=t.dispatch=M4.bind(null,Ye,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yP(){return Yn().memoizedState}function lf(t,e,n,r){var s=_r();Ye.flags|=t,s.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function dm(t,e,n,r){var s=Yn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&zw(r,o.deps)){s.memoizedState=ju(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=ju(1|e,n,i,r)}function cT(t,e){return lf(8390656,8,t,e)}function Hw(t,e){return dm(2048,8,t,e)}function vP(t,e){return dm(4,2,t,e)}function wP(t,e){return dm(4,4,t,e)}function _P(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xP(t,e,n){return n=n!=null?n.concat([t]):null,dm(4,4,_P.bind(null,e,t),n)}function Gw(){}function EP(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TP(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SP(t,e,n){return Mo&21?(fr(n,e)||(n=PA(),Ye.lanes|=n,Vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function N4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Qg.transition;Qg.transition={};try{t(!1),e()}finally{ke=n,Qg.transition=r}}function IP(){return Yn().memoizedState}function D4(t,e,n){var r=fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bP(t))CP(e,n);else if(n=aP(t,e,n,r),n!==null){var s=en();dr(n,t,r,s),AP(n,e,r)}}function M4(t,e,n){var r=fi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bP(t))CP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=e.interleaved;l===null?(s.next=s,jw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=aP(t,e,s,r),n!==null&&(s=en(),dr(n,t,r,s),AP(n,e,r))}}function bP(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function CP(t,e){tu=np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sw(t,n)}}var rp={readContext:Qn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},V4={readContext:Qn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:cT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lf(4194308,4,_P.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return lf(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D4.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:lT,useDebugValue:Gw,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=lT(!1),e=t[0];return t=N4.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=_r();if(We){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),St===null)throw Error(W(349));Mo&30||hP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cT(pP.bind(null,r,i,t),[t]),r.flags|=2048,ju(9,fP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_r(),e=St.identifierPrefix;if(We){var n=rs,r=ns;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O4={readContext:Qn,useCallback:EP,useContext:Qn,useEffect:Hw,useImperativeHandle:xP,useInsertionEffect:vP,useLayoutEffect:wP,useMemo:TP,useReducer:Yg,useRef:yP,useState:function(){return Yg(Lu)},useDebugValue:Gw,useDeferredValue:function(t){var e=Yn();return SP(e,yt.memoizedState,t)},useTransition:function(){var t=Yg(Lu)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:uP,useSyncExternalStore:dP,useId:IP,unstable_isNewReconciler:!1},L4={readContext:Qn,useCallback:EP,useContext:Qn,useEffect:Hw,useImperativeHandle:xP,useInsertionEffect:vP,useLayoutEffect:wP,useMemo:TP,useReducer:Xg,useRef:yP,useState:function(){return Xg(Lu)},useDebugValue:Gw,useDeferredValue:function(t){var e=Yn();return yt===null?e.memoizedState=t:SP(e,yt.memoizedState,t)},useTransition:function(){var t=Xg(Lu)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:uP,useSyncExternalStore:dP,useId:IP,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hm={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=fi(t),i=as(r,s);i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(dr(e,t,s,r),of(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=fi(t),i=as(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(dr(e,t,s,r),of(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=fi(t),s=as(n,r);s.tag=2,e!=null&&(s.callback=e),e=di(t,s,r),e!==null&&(dr(e,t,r,n),of(e,t,r))}};function uT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(s,i):!0}function PP(t,e,n){var r=!1,s=Ei,i=e.contextType;return typeof i=="object"&&i!==null?i=Qn(i):(s=gn(e)?No:Gt.current,r=e.contextTypes,i=(r=r!=null)?ll(t,s):Ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function dT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hm.enqueueReplaceState(e,e.state,null)}function Iv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qn(i):(i=gn(e)?No:Gt.current,s.context=ll(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hm.enqueueReplaceState(s,s.state,null),ep(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hl(t,e){try{var n="",r=e;do n+=dj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var j4=typeof WeakMap=="function"?WeakMap:Map;function RP(t,e,n){n=as(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ip||(ip=!0,Ov=r),bv(t,e)},n}function kP(t,e,n){n=as(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bv(t,e),typeof r!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new j4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=J4.bind(null,t,e,n),e.then(t,t))}function fT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=as(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var F4=Ts.ReactCurrentOwner,dn=!1;function Xt(t,e,n,r){e.child=t===null?oP(e,null,n,r):ul(e,t.child,n,r)}function mT(t,e,n,r,s){n=n.render;var i=e.ref;return za(e,s),r=Ww(t,e,n,r,i,s),n=Kw(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(We&&n&&Nw(e),e.flags|=1,Xt(t,e,r,s),e.child)}function gT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!t_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,NP(t,e,i,r,s)):(t=hf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(o,r)&&t.ref===e.ref)return fs(t,e,s)}return e.flags|=1,t=pi(i,r),t.ref=e.ref,t.return=e,e.child=t}function NP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ru(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,fs(t,e,s)}return Cv(t,e,n,r,s)}function DP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Da,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Da,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(Da,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(Da,En),En|=r;return Xt(t,e,s,n),e.child}function MP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cv(t,e,n,r,s){var i=gn(n)?No:Gt.current;return i=ll(e,i),za(e,s),n=Ww(t,e,n,r,i,s),r=Kw(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(We&&r&&Nw(e),e.flags|=1,Xt(t,e,n,s),e.child)}function yT(t,e,n,r,s){if(gn(n)){var i=!0;Qf(e)}else i=!1;if(za(e,s),e.stateNode===null)cf(t,e),PP(e,n,r),Iv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qn(c):(c=gn(n)?No:Gt.current,c=ll(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dT(e,o,r,c),Ks=!1;var f=e.memoizedState;o.state=f,ep(e,r,o,s),l=e.memoizedState,a!==r||f!==l||mn.current||Ks?(typeof d=="function"&&(Sv(e,n,d,r),l=e.memoizedState),(a=Ks||uT(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=gn(n)?No:Gt.current,l=ll(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dT(e,o,r,l),Ks=!1,f=e.memoizedState,o.state=f,ep(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||mn.current||Ks?(typeof m=="function"&&(Sv(e,n,m,r),w=e.memoizedState),(c=Ks||uT(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Av(t,e,n,r,i,s)}function Av(t,e,n,r,s,i){MP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&nT(e,n,!1),fs(t,e,i);r=e.stateNode,F4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ul(e,t.child,null,i),e.child=ul(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&nT(e,n,!0),e.child}function VP(t){var e=t.stateNode;e.pendingContext?tT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tT(t,e.context,!1),Uw(t,e.containerInfo)}function vT(t,e,n,r,s){return cl(),Mw(s),e.flags|=256,Xt(t,e,n,r),e.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Rv(t){return{baseLanes:t,cachePool:null,transitions:null}}function OP(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ge,s&1),t===null)return Ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mm(o,r,0,null),t=Io(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rv(n),e.memoizedState=Pv,t):qw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return U4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=pi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=pi(a,i):(i=Io(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Pv,r}return i=t.child,t=i.sibling,r=pi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qw(t,e){return e=mm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&Mw(r),ul(e,t.child,null,n),t=qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jg(Error(W(422))),Ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mm({mode:"visible",children:r.children},s,0,null),i=Io(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ul(e,t.child,null,o),e.child.memoizedState=Rv(o),e.memoizedState=Pv,i);if(!(e.mode&1))return Ph(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Jg(i,r,void 0),Ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hs(t,s),dr(r,t,s,-1))}return e_(),r=Jg(Error(W(421))),Ph(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Z4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bn=ui(s.nextSibling),Pn=e,We=!0,lr=null,t!==null&&(Un[Bn++]=ns,Un[Bn++]=rs,Un[Bn++]=Do,ns=t.id,rs=t.overflow,Do=e),e=qw(e,r.children),e.flags|=4096,e)}function wT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tv(t.return,e,n)}function Zg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function LP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wT(t,n,e);else if(t.tag===19)wT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zg(e,!0,n,null,i);break;case"together":Zg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B4(t,e,n){switch(e.tag){case 3:VP(e),cl();break;case 5:cP(e);break;case 1:gn(e.type)&&Qf(e);break;case 4:Uw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Jf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?OP(t,e,n):(Le(Ge,Ge.current&1),t=fs(t,e,n),t!==null?t.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,DP(t,e,n)}return fs(t,e,n)}var jP,kv,FP,UP;jP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kv=function(){};FP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mo(kr.current);var i=null;switch(n){case"input":s=Zy(t,s),r=Zy(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=nv(t,s),r=nv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gf)}sv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};UP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cc(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $4(t,e,n){var r=e.pendingProps;switch(Dw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return gn(e.type)&&qf(),jt(e),null;case 3:return r=e.stateNode,dl(),$e(mn),$e(Gt),$w(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Fv(lr),lr=null))),kv(t,e),jt(e),null;case 5:Bw(e);var s=mo(Vu.current);if(n=e.type,t!==null&&e.stateNode!=null)FP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return jt(e),null}if(t=mo(kr.current),Ch(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[br]=e,r[Du]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Uc.length;s++)Be(Uc[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":AE(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":RE(r,i),Be("invalid",r)}sv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),s=["children",""+a]):Tu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":vh(r),PE(r,i,!0);break;case"textarea":vh(r),kE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[Du]=r,jP(t,e,!1,!1),e.stateNode=t;e:{switch(o=iv(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uc.length;s++)Be(Uc[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":AE(t,r),s=Zy(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":RE(t,r),s=nv(t,r),Be("invalid",t);break;default:s=r}sv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Su(t,l):typeof l=="number"&&Su(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&vw(t,i,l,o))}switch(n){case"input":vh(t),PE(t,r,!1);break;case"textarea":vh(t),kE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)UP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=mo(Vu.current),mo(kr.current),Ch(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(i=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return jt(e),null;case 13:if($e(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&bn!==null&&e.mode&1&&!(e.flags&128))sP(),cl(),e.flags|=98560,i=!1;else if(i=Ch(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[br]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else lr!==null&&(Fv(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?vt===0&&(vt=3):e_())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return dl(),kv(t,e),t===null&&ku(e.stateNode.containerInfo),jt(e),null;case 10:return Lw(e.type._context),jt(e),null;case 17:return gn(e.type)&&qf(),jt(e),null;case 19:if($e(Ge),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Cc(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tp(t),o!==null){for(e.flags|=128,Cc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>fl&&(e.flags|=128,r=!0,Cc(i,!1),e.lanes=4194304)}else{if(!r)if(t=tp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return jt(e),null}else 2*ot()-i.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,Cc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Ge.current,Le(Ge,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Zw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function z4(t,e){switch(Dw(e),e.tag){case 1:return gn(e.type)&&qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),$e(mn),$e(Gt),$w(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bw(e),null;case 13:if($e(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ge),null;case 4:return dl(),null;case 10:return Lw(e.type._context),null;case 22:case 23:return Zw(),null;case 24:return null;default:return null}}var Rh=!1,Wt=!1,W4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Nv(t,e,n){try{n()}catch(r){rt(t,e,r)}}var _T=!1;function K4(t,e){if(mv=Wf,t=KA(),kw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gv={focusedElem:t,selectionRange:n},Wf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:rr(e.type,y),S);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){rt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=_T,_T=!1,w}function nu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nv(e,n,i)}s=s.next}while(s!==r)}}function fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BP(t){var e=t.alternate;e!==null&&(t.alternate=null,BP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Du],delete e[wv],delete e[C4],delete e[A4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $P(t){return t.tag===5||t.tag===3||t.tag===4}function xT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$P(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gf));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}var Ct=null,or=!1;function Ms(t,e,n){for(n=n.child;n!==null;)zP(t,e,n),n=n.sibling}function zP(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:Wt||Na(n,e);case 6:var r=Ct,s=or;Ct=null,Ms(t,e,n),Ct=r,or=s,Ct!==null&&(or?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(or?(t=Ct,n=n.stateNode,t.nodeType===8?Hg(t.parentNode,n):t.nodeType===1&&Hg(t,n),Au(t)):Hg(Ct,n.stateNode));break;case 4:r=Ct,s=or,Ct=n.stateNode.containerInfo,or=!0,Ms(t,e,n),Ct=r,or=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nv(n,e,o),s=s.next}while(s!==r)}Ms(t,e,n);break;case 1:if(!Wt&&(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Ms(t,e,n);break;case 21:Ms(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Ms(t,e,n),Wt=r):Ms(t,e,n);break;default:Ms(t,e,n)}}function ET(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W4),e.forEach(function(r){var s=eF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,or=!1;break e;case 3:Ct=a.stateNode.containerInfo,or=!0;break e;case 4:Ct=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Ct===null)throw Error(W(160));zP(i,o,s),Ct=null,or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WP(e,t),e=e.sibling}function WP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),wr(t),r&4){try{nu(3,t,t.return),fm(3,t)}catch(y){rt(t,t.return,y)}try{nu(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:tr(e,t),wr(t),r&512&&n!==null&&Na(n,n.return);break;case 5:if(tr(e,t),wr(t),r&512&&n!==null&&Na(n,n.return),t.flags&32){var s=t.stateNode;try{Su(s,"")}catch(y){rt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hA(s,i),iv(a,o);var c=iv(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?yA(s,h):d==="dangerouslySetInnerHTML"?mA(s,h):d==="children"?Su(s,h):vw(s,d,h,c)}switch(a){case"input":ev(s,i);break;case"textarea":fA(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Fa(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Du]=i}catch(y){rt(t,t.return,y)}}break;case 6:if(tr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){rt(t,t.return,y)}}break;case 3:if(tr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:tr(e,t),wr(t);break;case 13:tr(e,t),wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xw=ot())),r&4&&ET(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||d,tr(e,t),Wt=c):tr(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:Na(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:Na(f,f.return);break;case 22:if(f.memoizedState!==null){ST(h);continue}}m!==null?(m.return=f,Z=m):ST(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gA("display",o))}catch(y){rt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){rt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),wr(t),r&4&&ET(t);break;case 21:break;default:tr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($P(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Su(s,""),r.flags&=-33);var i=xT(t);Vv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xT(t);Mv(t,a,o);break;default:throw Error(W(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H4(t,e,n){Z=t,KP(t)}function KP(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Rh;var c=Wt;if(Rh=o,(Wt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?IT(s):l!==null?(l.return=o,Z=l):IT(s);for(;i!==null;)Z=i,KP(i),i=i.sibling;Z=s,Rh=a,Wt=c}TT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):TT(t)}}function TT(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&aT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}aT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Au(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Wt||e.flags&512&&Dv(e)}catch(f){rt(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function ST(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function IT(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fm(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{Dv(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{Dv(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var G4=Math.ceil,sp=Ts.ReactCurrentDispatcher,Qw=Ts.ReactCurrentOwner,Hn=Ts.ReactCurrentBatchConfig,Te=0,St=null,mt=null,Rt=0,En=0,Da=Oi(0),vt=0,Fu=null,Vo=0,pm=0,Yw=0,ru=null,an=null,Xw=0,fl=1/0,Zr=null,ip=!1,Ov=null,hi=null,kh=!1,si=null,op=0,su=0,Lv=null,uf=-1,df=0;function en(){return Te&6?ot():uf!==-1?uf:uf=ot()}function fi(t){return t.mode&1?Te&2&&Rt!==0?Rt&-Rt:R4.transition!==null?(df===0&&(df=PA()),df):(t=ke,t!==0||(t=window.event,t=t===void 0?16:OA(t.type)),t):1}function dr(t,e,n,r){if(50<su)throw su=0,Lv=null,Error(W(185));Td(t,n,r),(!(Te&2)||t!==St)&&(t===St&&(!(Te&2)&&(pm|=n),vt===4&&Gs(t,Rt)),yn(t,r),n===1&&Te===0&&!(e.mode&1)&&(fl=ot()+500,um&&Li()))}function yn(t,e){var n=t.callbackNode;Rj(t,e);var r=zf(t,t===St?Rt:0);if(r===0)n!==null&&ME(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ME(n),e===1)t.tag===0?P4(bT.bind(null,t)):tP(bT.bind(null,t)),I4(function(){!(Te&6)&&Li()}),n=null;else{switch(RA(r)){case 1:n=Tw;break;case 4:n=CA;break;case 16:n=$f;break;case 536870912:n=AA;break;default:n=$f}n=ZP(n,HP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HP(t,e){if(uf=-1,df=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(Wa()&&t.callbackNode!==n)return null;var r=zf(t,t===St?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ap(t,r);else{e=r;var s=Te;Te|=2;var i=qP();(St!==t||Rt!==e)&&(Zr=null,fl=ot()+500,So(t,e));do try{Y4();break}catch(a){GP(t,a)}while(!0);Ow(),sp.current=i,Te=s,mt!==null?e=0:(St=null,Rt=0,e=vt)}if(e!==0){if(e===2&&(s=uv(t),s!==0&&(r=s,e=jv(t,s))),e===1)throw n=Fu,So(t,0),Gs(t,r),yn(t,ot()),n;if(e===6)Gs(t,r);else{if(s=t.current.alternate,!(r&30)&&!q4(s)&&(e=ap(t,r),e===2&&(i=uv(t),i!==0&&(r=i,e=jv(t,i))),e===1))throw n=Fu,So(t,0),Gs(t,r),yn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ro(t,an,Zr);break;case 3:if(Gs(t,r),(r&130023424)===r&&(e=Xw+500-ot(),10<e)){if(zf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vv(ro.bind(null,t,an,Zr),e);break}ro(t,an,Zr);break;case 4:if(Gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G4(r/1960))-r,10<r){t.timeoutHandle=vv(ro.bind(null,t,an,Zr),r);break}ro(t,an,Zr);break;case 5:ro(t,an,Zr);break;default:throw Error(W(329))}}}return yn(t,ot()),t.callbackNode===n?HP.bind(null,t):null}function jv(t,e){var n=ru;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=ap(t,e),t!==2&&(e=an,an=n,e!==null&&Fv(e)),t}function Fv(t){an===null?an=t:an.push.apply(an,t)}function q4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gs(t,e){for(e&=~Yw,e&=~pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function bT(t){if(Te&6)throw Error(W(327));Wa();var e=zf(t,0);if(!(e&1))return yn(t,ot()),null;var n=ap(t,e);if(t.tag!==0&&n===2){var r=uv(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=Fu,So(t,0),Gs(t,e),yn(t,ot()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,an,Zr),yn(t,ot()),null}function Jw(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(fl=ot()+500,um&&Li())}}function Oo(t){si!==null&&si.tag===0&&!(Te&6)&&Wa();var e=Te;Te|=1;var n=Hn.transition,r=ke;try{if(Hn.transition=null,ke=1,t)return t()}finally{ke=r,Hn.transition=n,Te=e,!(Te&6)&&Li()}}function Zw(){En=Da.current,$e(Da)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,S4(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:dl(),$e(mn),$e(Gt),$w();break;case 5:Bw(r);break;case 4:dl();break;case 13:$e(Ge);break;case 19:$e(Ge);break;case 10:Lw(r.type._context);break;case 22:case 23:Zw()}n=n.return}if(St=t,mt=t=pi(t.current,null),Rt=En=e,vt=0,Fu=null,Yw=pm=Vo=0,an=ru=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}po=null}return t}function GP(t,e){do{var n=mt;try{if(Ow(),af.current=rp,np){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}np=!1}if(Mo=0,Et=yt=Ye=null,tu=!1,Ou=0,Qw.current=null,n===null||n.return===null){vt=1,Fu=e,mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fT(o);if(m!==null){m.flags&=-257,pT(m,o,a,i,e),m.mode&1&&hT(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){hT(i,c,e),e_();break e}l=Error(W(426))}}else if(We&&a.mode&1){var S=fT(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),pT(S,o,a,i,e),Mw(hl(l,a));break e}}i=l=hl(l,a),vt!==4&&(vt=2),ru===null?ru=[i]:ru.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=RP(i,l,e);oT(i,_);break e;case 1:a=l;var x=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(hi===null||!hi.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=kP(i,a,e);oT(i,A);break e}}i=i.return}while(i!==null)}YP(n)}catch(k){e=k,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function qP(){var t=sp.current;return sp.current=rp,t===null?rp:t}function e_(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(Vo&268435455)&&!(pm&268435455)||Gs(St,Rt)}function ap(t,e){var n=Te;Te|=2;var r=qP();(St!==t||Rt!==e)&&(Zr=null,So(t,e));do try{Q4();break}catch(s){GP(t,s)}while(!0);if(Ow(),Te=n,sp.current=r,mt!==null)throw Error(W(261));return St=null,Rt=0,vt}function Q4(){for(;mt!==null;)QP(mt)}function Y4(){for(;mt!==null&&!xj();)QP(mt)}function QP(t){var e=JP(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?YP(t):mt=e,Qw.current=null}function YP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z4(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,mt=null;return}}else if(n=$4(n,e,En),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);vt===0&&(vt=5)}function ro(t,e,n){var r=ke,s=Hn.transition;try{Hn.transition=null,ke=1,X4(t,e,n,r)}finally{Hn.transition=s,ke=r}return null}function X4(t,e,n,r){do Wa();while(si!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kj(t,i),t===St&&(mt=St=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kh||(kh=!0,ZP($f,function(){return Wa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hn.transition,Hn.transition=null;var o=ke;ke=1;var a=Te;Te|=4,Qw.current=null,K4(t,n),WP(n,t),y4(gv),Wf=!!mv,gv=mv=null,t.current=n,H4(n),Ej(),Te=a,ke=o,Hn.transition=i}else t.current=n;if(kh&&(kh=!1,si=t,op=s),i=t.pendingLanes,i===0&&(hi=null),Ij(n.stateNode),yn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ip)throw ip=!1,t=Ov,Ov=null,t;return op&1&&t.tag!==0&&Wa(),i=t.pendingLanes,i&1?t===Lv?su++:(su=0,Lv=t):su=0,Li(),null}function Wa(){if(si!==null){var t=RA(op),e=Hn.transition,n=ke;try{if(Hn.transition=null,ke=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,op=0,Te&6)throw Error(W(331));var s=Te;for(Te|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:nu(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(BP(d),d===c){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nu(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Z=_;break e}Z=i.return}}var x=t.current;for(Z=x;Z!==null;){o=Z;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Z=T;else e:for(o=x;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fm(9,a)}}catch(k){rt(a,a.return,k)}if(a===o){Z=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Z=A;break e}Z=a.return}}if(Te=s,Li(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{ke=n,Hn.transition=e}}return!1}function CT(t,e,n){e=hl(n,e),e=RP(t,e,1),t=di(t,e,1),e=en(),t!==null&&(Td(t,1,e),yn(t,e))}function rt(t,e,n){if(t.tag===3)CT(t,t,n);else for(;e!==null;){if(e.tag===3){CT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))){t=hl(n,t),t=kP(e,t,1),e=di(e,t,1),t=en(),e!==null&&(Td(e,1,t),yn(e,t));break}}e=e.return}}function J4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Rt&n)===n&&(vt===4||vt===3&&(Rt&130023424)===Rt&&500>ot()-Xw?So(t,0):Yw|=n),yn(t,e)}function XP(t,e){e===0&&(t.mode&1?(e=xh,xh<<=1,!(xh&130023424)&&(xh=4194304)):e=1);var n=en();t=hs(t,e),t!==null&&(Td(t,e,n),yn(t,n))}function Z4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XP(t,n)}function eF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),XP(t,n)}var JP;JP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,B4(t,e,n);dn=!!(t.flags&131072)}else dn=!1,We&&e.flags&1048576&&nP(e,Xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cf(t,e),t=e.pendingProps;var s=ll(e,Gt.current);za(e,n),s=Ww(null,e,r,t,s,n);var i=Kw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,Qf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fw(e),s.updater=hm,e.stateNode=s,s._reactInternals=e,Iv(e,r,t,n),e=Av(null,e,r,!0,i,n)):(e.tag=0,We&&i&&Nw(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nF(r),t=rr(r,t),s){case 0:e=Cv(null,e,r,t,n);break e;case 1:e=yT(null,e,r,t,n);break e;case 11:e=mT(null,e,r,t,n);break e;case 14:e=gT(null,e,r,rr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),Cv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),yT(t,e,r,s,n);case 3:e:{if(VP(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lP(t,e),ep(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hl(Error(W(423)),e),e=vT(t,e,r,n,s);break e}else if(r!==s){s=hl(Error(W(424)),e),e=vT(t,e,r,n,s);break e}else for(bn=ui(e.stateNode.containerInfo.firstChild),Pn=e,We=!0,lr=null,n=oP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cl(),r===s){e=fs(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return cP(e),t===null&&Ev(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yv(r,s)?o=null:i!==null&&yv(r,i)&&(e.flags|=32),MP(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Ev(e),null;case 13:return OP(t,e,n);case 4:return Uw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ul(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),mT(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Jf,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!mn.current){e=fs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=as(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,za(e,n),s=Qn(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=rr(r,e.pendingProps),s=rr(r.type,s),gT(t,e,r,s,n);case 15:return NP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),cf(t,e),e.tag=1,gn(r)?(t=!0,Qf(e)):t=!1,za(e,n),PP(e,r,s),Iv(e,r,s,n),Av(null,e,r,!0,t,n);case 19:return LP(t,e,n);case 22:return DP(t,e,n)}throw Error(W(156,e.tag))};function ZP(t,e){return bA(t,e)}function tF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new tF(t,e,n,r)}function t_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nF(t){if(typeof t=="function")return t_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_w)return 11;if(t===xw)return 14}return 2}function pi(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")t_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ta:return Io(n.children,s,i,e);case ww:o=8,s|=8;break;case Qy:return t=zn(12,n,e,s|2),t.elementType=Qy,t.lanes=i,t;case Yy:return t=zn(13,n,e,s),t.elementType=Yy,t.lanes=i,t;case Xy:return t=zn(19,n,e,s),t.elementType=Xy,t.lanes=i,t;case cA:return mm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aA:o=10;break e;case lA:o=9;break e;case _w:o=11;break e;case xw:o=14;break e;case Ws:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Io(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function mm(t,e,n,r){return t=zn(22,t,r,e),t.elementType=cA,t.lanes=n,t.stateNode={isHidden:!1},t}function ey(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function ty(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vg(0),this.expirationTimes=Vg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function n_(t,e,n,r,s,i,o,a,l){return t=new rF(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fw(i),t}function sF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eR(t){if(!t)return Ei;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(gn(n))return eP(t,n,e)}return e}function tR(t,e,n,r,s,i,o,a,l){return t=n_(n,r,!0,t,s,i,o,a,l),t.context=eR(null),n=t.current,r=en(),s=fi(n),i=as(r,s),i.callback=e??null,di(n,i,s),t.current.lanes=s,Td(t,s,r),yn(t,r),t}function gm(t,e,n,r){var s=e.current,i=en(),o=fi(s);return n=eR(n),e.context===null?e.context=n:e.pendingContext=n,e=as(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(s,e,o),t!==null&&(dr(t,s,o,i),of(t,s,o)),o}function lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r_(t,e){AT(t,e),(t=t.alternate)&&AT(t,e)}function iF(){return null}var nR=typeof reportError=="function"?reportError:function(t){console.error(t)};function s_(t){this._internalRoot=t}ym.prototype.render=s_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));gm(t,e,null,null)};ym.prototype.unmount=s_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){gm(null,t,null,null)}),e[ds]=null}};function ym(t){this._internalRoot=t}ym.prototype.unstable_scheduleHydration=function(t){if(t){var e=DA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hs.length&&e!==0&&e<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&VA(t)}};function i_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PT(){}function oF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=lp(o);i.call(c)}}var o=tR(e,r,t,0,null,!1,!1,"",PT);return t._reactRootContainer=o,t[ds]=o.current,ku(t.nodeType===8?t.parentNode:t),Oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=lp(l);a.call(c)}}var l=n_(t,0,!1,null,null,!1,!1,"",PT);return t._reactRootContainer=l,t[ds]=l.current,ku(t.nodeType===8?t.parentNode:t),Oo(function(){gm(e,l,n,r)}),l}function wm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=lp(o);a.call(l)}}gm(e,o,t,s)}else o=oF(n,e,t,s,r);return lp(o)}kA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fc(e.pendingLanes);n!==0&&(Sw(e,n|1),yn(e,ot()),!(Te&6)&&(fl=ot()+500,Li()))}break;case 13:Oo(function(){var r=hs(t,1);if(r!==null){var s=en();dr(r,t,1,s)}}),r_(t,1)}};Iw=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var n=en();dr(e,t,134217728,n)}r_(t,134217728)}};NA=function(t){if(t.tag===13){var e=fi(t),n=hs(t,e);if(n!==null){var r=en();dr(n,t,e,r)}r_(t,e)}};DA=function(){return ke};MA=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};av=function(t,e,n){switch(e){case"input":if(ev(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cm(r);if(!s)throw Error(W(90));dA(r),ev(r,s)}}}break;case"textarea":fA(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};_A=Jw;xA=Oo;var aF={usingClientEntryPoint:!1,Events:[Id,Ca,cm,vA,wA,Jw]},Ac={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lF={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||iF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{im=Nh.inject(lF),Rr=Nh}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aF;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i_(e))throw Error(W(200));return sF(t,e,null,n)};Vn.createRoot=function(t,e){if(!i_(t))throw Error(W(299));var n=!1,r="",s=nR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=n_(t,1,!1,null,null,n,!1,r,s),t[ds]=e.current,ku(t.nodeType===8?t.parentNode:t),new s_(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=SA(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return Oo(t)};Vn.hydrate=function(t,e,n){if(!vm(e))throw Error(W(200));return wm(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!i_(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tR(e,null,t,1,n??null,s,!1,i,o),t[ds]=e.current,ku(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ym(e)};Vn.render=function(t,e,n){if(!vm(e))throw Error(W(200));return wm(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!vm(t))throw Error(W(40));return t._reactRootContainer?(Oo(function(){wm(null,null,t,!1,function(){t._reactRootContainer=null,t[ds]=null})}),!0):!1};Vn.unstable_batchedUpdates=Jw;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vm(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return wm(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function rR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rR)}catch(t){console.error(t)}}rR(),rA.exports=Vn;var Cd=rA.exports;const sR=WC(Cd);var iR,RT=Cd;iR=RT.createRoot,RT.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}var ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ii||(ii={}));const kT="popstate";function cF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return cp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bu(s)}return oR(e,n,null,t)}function uF(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Xo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),cp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Bu(i))}function r(s,i){o_(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return oR(e,n,r,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dF(){return Math.random().toString(36).substr(2,8)}function NT(t,e){return{usr:t.state,key:t.key,idx:e}}function cp(t,e,n,r){return n===void 0&&(n=null),Uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||dF()})}function Bu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ii.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Uu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ii.Pop;let S=d(),_=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:_})}function f(S,_){a=ii.Push;let x=cp(y.location,S,_);n&&n(x,S),c=d()+1;let T=NT(x,c),A=y.createHref(x);try{o.pushState(T,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}i&&l&&l({action:a,location:y.location,delta:1})}function m(S,_){a=ii.Replace;let x=cp(y.location,S,_);n&&n(x,S),c=d();let T=NT(x,c),A=y.createHref(x);o.replaceState(T,"",A),i&&l&&l({action:a,location:y.location,delta:0})}function w(S){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof S=="string"?S:Bu(S);return x=x.replace(/ $/,"%20"),lt(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let y={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(kT,h),l=S,()=>{s.removeEventListener(kT,h),l=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(S){return o.go(S)}};return y}var DT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DT||(DT={}));function hF(t,e,n){return n===void 0&&(n="/"),fF(t,e,n,!1)}function fF(t,e,n,r){let s=typeof e=="string"?Xo(e):e,i=a_(s.pathname||"/",n);if(i==null)return null;let o=aR(t);pF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=IF(i);a=TF(o[l],c,r)}return a}function aR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aR(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:xF(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lR(i.path))s(i,o,l)}),e}function lR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=lR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mF=/^:[\w-]+$/,gF=3,yF=2,vF=1,wF=10,_F=-2,MT=t=>t==="*";function xF(t,e){let n=t.split("/"),r=n.length;return n.some(MT)&&(r+=_F),e&&(r+=yF),n.filter(s=>!MT(s)).reduce((s,i)=>s+(mF.test(i)?gF:i===""?vF:wF),r)}function EF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function TF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=VT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=VT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:mi([i,h.pathname]),pathnameBase:PF(mi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=mi([i,h.pathnameBase]))}return o}function VT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function SF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),o_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function IF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function a_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:CF(n,e):e,search:RF(r),hash:kF(s)}}function CF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l_(t,e){let n=AF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function c_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xo(t):(s=Uu({},t),lt(!s.pathname||!s.pathname.includes("?"),ny("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),ny("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),ny("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=bF(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),PF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cR=["post","put","patch","delete"];new Set(cR);const DF=["get",...cR];new Set(DF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}const u_=v.createContext(null),MF=v.createContext(null),ji=v.createContext(null),_m=v.createContext(null),$r=v.createContext({outlet:null,matches:[],isDataRoute:!1}),uR=v.createContext(null);function VF(t,e){let{relative:n}=e===void 0?{}:e;zl()||lt(!1);let{basename:r,navigator:s}=v.useContext(ji),{hash:i,pathname:o,search:a}=hR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:mi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function zl(){return v.useContext(_m)!=null}function Ss(){return zl()||lt(!1),v.useContext(_m).location}function dR(t){v.useContext(ji).static||v.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=v.useContext($r);return t?XF():OF()}function OF(){zl()||lt(!1);let t=v.useContext(u_),{basename:e,future:n,navigator:r}=v.useContext(ji),{matches:s}=v.useContext($r),{pathname:i}=Ss(),o=JSON.stringify(l_(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return dR(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=c_(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const LF=v.createContext(null);function jF(t){let e=v.useContext($r).outlet;return e&&v.createElement(LF.Provider,{value:t},e)}function FF(){let{matches:t}=v.useContext($r),e=t[t.length-1];return e?e.params:{}}function hR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(ji),{matches:s}=v.useContext($r),{pathname:i}=Ss(),o=JSON.stringify(l_(s,r.v7_relativeSplatPath));return v.useMemo(()=>c_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function UF(t,e){return BF(t,e)}function BF(t,e,n,r){zl()||lt(!1);let{navigator:s}=v.useContext(ji),{matches:i}=v.useContext($r),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ss(),d;if(e){var h;let S=typeof e=="string"?Xo(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||lt(!1),d=S}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=hF(t,{pathname:m}),y=HF(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:mi([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:mi([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&y?v.createElement(_m.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ii.Pop}},y):y}function $F(){let t=YF(),e=NF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const zF=v.createElement($F,null);class WF extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement($r.Provider,{value:this.props.routeContext},v.createElement(uR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KF(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(u_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement($r.Provider,{value:e},r)}function HF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||lt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,y=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||zF,l&&(c<0&&f===0?(w=!0,S=null):c===f&&(w=!0,S=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let T;return m?T=y:w?T=S:h.route.Component?T=v.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,v.createElement(KF,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(WF,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var fR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fR||{}),up=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(up||{});function GF(t){let e=v.useContext(u_);return e||lt(!1),e}function qF(t){let e=v.useContext(MF);return e||lt(!1),e}function QF(t){let e=v.useContext($r);return e||lt(!1),e}function pR(t){let e=QF(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function YF(){var t;let e=v.useContext(uR),n=qF(up.UseRouteError),r=pR(up.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XF(){let{router:t}=GF(fR.UseNavigateStable),e=pR(up.UseNavigateStable),n=v.useRef(!1);return dR(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$u({fromRouteId:e},i)))},[t,e])}function JF(t){let{to:e,replace:n,state:r,relative:s}=t;zl()||lt(!1);let{future:i,static:o}=v.useContext(ji),{matches:a}=v.useContext($r),{pathname:l}=Ss(),c=Fi(),d=c_(e,l_(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function ZF(t){return jF(t.context)}function Xr(t){lt(!1)}function mR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ii.Pop,navigator:i,static:o=!1,future:a}=t;zl()&&lt(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:$u({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,y=v.useMemo(()=>{let S=a_(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:w},navigationType:s}},[l,d,h,f,m,w,s]);return y==null?null:v.createElement(ji.Provider,{value:c},v.createElement(_m.Provider,{children:n,value:y}))}function e5(t){let{children:e,location:n}=t;return UF(Uv(e),n)}new Promise(()=>{});function Uv(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Uv(r.props.children,i));return}r.type!==Xr&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function t5(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function n5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r5(t,e){return t.button===0&&(!e||e==="_self")&&!n5(t)}const s5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],i5="6";try{window.__reactRouterVersion=i5}catch{}const o5="startTransition",dp=tA[o5];function a5(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=cF({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&dp?dp(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(mR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}function l5(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=uF({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&dp?dp(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(mR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const c5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=t5(e,s5),{basename:m}=v.useContext(ji),w,y=!1;if(typeof c=="string"&&u5.test(c)&&(w=c,c5))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),k=a_(A.pathname,m);A.origin===T.origin&&k!=null?c=k+A.search+A.hash:y=!0}catch{}let S=VF(c,{relative:s}),_=d5(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(T){r&&r(T),T.defaultPrevented||_(T)}return v.createElement("a",Bv({},f,{href:w||S,onClick:y||i?r:x,ref:n,target:l}))});var OT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(OT||(OT={}));var LT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LT||(LT={}));function d5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Fi(),c=Ss(),d=hR(t,{relative:o});return v.useCallback(h=>{if(r5(h,n)){h.preventDefault();let f=r!==void 0?r:Bu(c)===Bu(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const h5=()=>{};var jT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},f5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new p5;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m5=function(t){const e=gR(t);return yR.encodeByteArray(e,!0)},vR=function(t){return m5(t).replace(/\./g,"")},wR=function(t){try{return yR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=()=>_R().__FIREBASE_DEFAULTS__,y5=()=>{if(typeof process>"u"||typeof jT>"u")return;const t=jT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wR(t[1]);return e&&JSON.parse(e)},xm=()=>{try{return h5()||g5()||y5()||v5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},w5=t=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xR=()=>{var t;return(t=xm())===null||t===void 0?void 0:t.config},ER=t=>{var e;return(e=xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TR(t){return(await fetch(t,{credentials:"include"})).ok}const iu={};function x5(){const t={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?t.emulator.push(e):t.prod.push(e);return t}function E5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FT=!1;function T5(t,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||iu[t]===e||iu[t]||FT)return;iu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=x5().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{FT=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=E5(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),S=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(S,y);const A=c();l(x,_),T.append(x,w,S,A),document.body.appendChild(T)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function SR(){var t;const e=(t=xm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A5(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IR(){return!SR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){return!SR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function P5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R5,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?k5(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Is(s,a,r)}}function k5(t,e){return t.replace(N5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N5=/\{\$([^}]+)}/g;function D5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(UT(i)&&UT(o)){if(!Lo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function UT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function $c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M5(t,e){const n=new V5(t,e);return n.subscribe.bind(n)}class V5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ry),s.error===void 0&&(s.error=ry),s.complete===void 0&&(s.complete=ry);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F5(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function j5(t){return t===so?void 0:t}function F5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const B5={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},$5=we.INFO,z5={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},W5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=z5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=$5,this._logHandler=W5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const K5=(t,e)=>e.some(n=>t instanceof n);let BT,$T;function H5(){return BT||(BT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G5(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AR=new WeakMap,$v=new WeakMap,PR=new WeakMap,sy=new WeakMap,h_=new WeakMap;function q5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AR.set(n,t)}).catch(()=>{}),h_.set(e,t),e}function Q5(t){if($v.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$v.set(t,e)}let zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y5(t){zv=t(zv)}function X5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iy(this),e,...n);return PR.set(r,e.sort?e.sort():[e]),gi(r)}:G5().includes(t)?function(...e){return t.apply(iy(this),e),gi(AR.get(this))}:function(...e){return gi(t.apply(iy(this),e))}}function J5(t){return typeof t=="function"?X5(t):(t instanceof IDBTransaction&&Q5(t),K5(t,H5())?new Proxy(t,zv):t)}function gi(t){if(t instanceof IDBRequest)return q5(t);if(sy.has(t))return sy.get(t);const e=J5(t);return e!==t&&(sy.set(t,e),h_.set(e,t)),e}const iy=t=>h_.get(t);function Z5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gi(o.result),l.oldVersion,l.newVersion,gi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e3=["get","getKey","getAll","getAllKeys","count"],t3=["put","add","delete","clear"],oy=new Map;function zT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oy.get(e))return oy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return oy.set(e,i),i}Y5(t=>({...t,get:(e,n,r)=>zT(e,n)||t.get(e,n,r),has:(e,n)=>!!zT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",WT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new d_("@firebase/app"),s3="@firebase/app-compat",i3="@firebase/analytics-compat",o3="@firebase/analytics",a3="@firebase/app-check-compat",l3="@firebase/app-check",c3="@firebase/auth",u3="@firebase/auth-compat",d3="@firebase/database",h3="@firebase/data-connect",f3="@firebase/database-compat",p3="@firebase/functions",m3="@firebase/functions-compat",g3="@firebase/installations",y3="@firebase/installations-compat",v3="@firebase/messaging",w3="@firebase/messaging-compat",_3="@firebase/performance",x3="@firebase/performance-compat",E3="@firebase/remote-config",T3="@firebase/remote-config-compat",S3="@firebase/storage",I3="@firebase/storage-compat",b3="@firebase/firestore",C3="@firebase/ai",A3="@firebase/firestore-compat",P3="firebase",R3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="[DEFAULT]",k3={[Wv]:"fire-core",[s3]:"fire-core-compat",[o3]:"fire-analytics",[i3]:"fire-analytics-compat",[l3]:"fire-app-check",[a3]:"fire-app-check-compat",[c3]:"fire-auth",[u3]:"fire-auth-compat",[d3]:"fire-rtdb",[h3]:"fire-data-connect",[f3]:"fire-rtdb-compat",[p3]:"fire-fn",[m3]:"fire-fn-compat",[g3]:"fire-iid",[y3]:"fire-iid-compat",[v3]:"fire-fcm",[w3]:"fire-fcm-compat",[_3]:"fire-perf",[x3]:"fire-perf-compat",[E3]:"fire-rc",[T3]:"fire-rc-compat",[S3]:"fire-gcs",[I3]:"fire-gcs-compat",[b3]:"fire-fst",[A3]:"fire-fst-compat",[C3]:"fire-vertex","fire-js":"fire-js",[P3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Map,N3=new Map,Hv=new Map;function KT(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(Hv.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(const n of hp.values())KT(n,t);for(const n of N3.values())KT(n,t);return!0}function f_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Ad("app","Firebase",D3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=R3;function RR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw yi.create("bad-app-name",{appName:String(s)});if(n||(n=xR()),!n)throw yi.create("no-options");const i=hp.get(s);if(i){if(Lo(n,i.options)&&Lo(r,i.config))return i;throw yi.create("duplicate-app",{appName:s})}const o=new U5(s);for(const l of Hv.values())o.addComponent(l);const a=new M3(n,r,o);return hp.set(s,a),a}function V3(t=Kv){const e=hp.get(t);if(!e&&t===Kv&&xR())return RR();if(!e)throw yi.create("no-app",{appName:t});return e}function vi(t,e,n){var r;let s=(r=k3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}pl(new jo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="firebase-heartbeat-database",L3=1,zu="firebase-heartbeat-store";let ay=null;function kR(){return ay||(ay=Z5(O3,L3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),ay}async function j3(t){try{const n=(await kR()).transaction(zu),r=await n.objectStore(zu).get(NR(t));return await n.done,r}catch(e){if(e instanceof Is)ps.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function HT(t,e){try{const r=(await kR()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,NR(t)),await r.done}catch(n){if(n instanceof Is)ps.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function NR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=1024,U3=30;class B3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>U3){const o=W3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GT(),{heartbeatsToSend:r,unsentEntries:s}=$3(this._heartbeatsCache.heartbeats),i=vR(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ps.warn(n),""}}}function GT(){return new Date().toISOString().substring(0,10)}function $3(t,e=F3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),qT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?P5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qT(t){return vR(JSON.stringify({version:2,heartbeats:t})).length}function W3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){pl(new jo("platform-logger",e=>new n3(e),"PRIVATE")),pl(new jo("heartbeat",e=>new B3(e),"PRIVATE")),vi(Wv,WT,t),vi(Wv,WT,"esm2017"),vi("fire-js","")}K3("");var Cr=function(){return Cr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cr.apply(this,arguments)};function Rd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function H3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function DR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G3=DR,MR=new Ad("auth","Firebase",DR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new d_("@firebase/auth");function q3(t,...e){fp.logLevel<=we.WARN&&fp.warn(`Auth (${Kl}): ${t}`,...e)}function ff(t,...e){fp.logLevel<=we.ERROR&&fp.error(`Auth (${Kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw m_(t,...e)}function hr(t,...e){return m_(t,...e)}function p_(t,e,n){const r=Object.assign(Object.assign({},G3()),{[e]:n});return new Ad("auth","Firebase",r).create(e,{appName:t.name})}function ls(t){return p_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),p_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MR.create(t,...e)}function le(t,e,...n){if(!t)throw m_(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function ms(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Y3(){return QT()==="http:"||QT()==="https:"}function QT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y3()||b5()||"connection"in navigator)?navigator.onLine:!0}function J3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=S5()||C5()}get(){return X3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t6=new kd(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bi(t,e,n,r,s={}){return OR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Pd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return I5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(c.credentials="include"),VR.fetch()(await LR(t,t.config.apiHost,n,a),c)})}async function OR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z3),e);try{const s=new r6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p_(t,d,c);Xn(t,d)}}catch(s){if(s instanceof Is)throw s;Xn(t,"network-request-failed",{message:String(s)})}}async function Nd(t,e,n,r,s={}){const i=await Bi(t,e,n,r,s);return"mfaPendingCredential"in i&&Xn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function LR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?g_(t.config,s):`${t.config.apiScheme}://${s}`;return e6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function n6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),t6.get())})}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hr(t,e,r);return s.customData._tokenResponse=n,s}function YT(t){return t!==void 0&&t.enterprise!==void 0}class s6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i6(t,e){return Bi(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e){return Bi(t,"POST","/v1/accounts:delete",e)}async function pp(t,e){return Bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a6(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),s=y_(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ou(ly(s.auth_time)),issuedAtTime:ou(ly(s.iat)),expirationTime:ou(ly(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ly(t){return Number(t)*1e3}function y_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=wR(n);return s?JSON.parse(s):(ff("Failed to decode base64 JWT payload"),null)}catch(s){return ff("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XT(t){const e=y_(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&l6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Wu(t,pp(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?jR(i.providerUserInfo):[],a=d6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function u6(t){const e=Dn(t);await mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jR(t){return t.map(e=>{var{providerId:n}=e,r=Rd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){const n=await OR(t,{},async()=>{const r=Pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await LR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(l.credentials="include"),VR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f6(t,e){return Bi(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=XT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await h6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ka;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Rd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a6(this,e)}reload(){return u6(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Wu(this,o6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:V,stsTokenManager:b}=n;le(T&&b,e,"internal-error");const I=Ka.fromJSON(this.name,b);le(typeof T=="string",e,"internal-error"),Vs(h,e.name),Vs(f,e.name),le(typeof A=="boolean",e,"internal-error"),le(typeof k=="boolean",e,"internal-error"),Vs(m,e.name),Vs(w,e.name),Vs(y,e.name),Vs(S,e.name),Vs(_,e.name),Vs(x,e.name);const P=new cr({uid:T,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:k,photoURL:w,phoneNumber:m,tenantId:y,stsTokenManager:I,createdAt:_,lastLoginAt:x});return V&&Array.isArray(V)&&(P.providerData=V.map(R=>Object.assign({},R))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ka;s.updateFromServerResponse(n);const i=new cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?jR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ka;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;function is(t){ms(t instanceof Function,"Expected a class definition");let e=JT.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FR.type="NONE";const ZT=FR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=pf(this.userKey,s.apiKey,i),this.fullPersistenceKey=pf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pp(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(is(ZT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||is(ZT);const o=pf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await pp(e,{idToken:d}).catch(()=>{});if(!f)break;h=await cr._fromGetAccountInfoResponse(e,f,d)}else h=cr._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ha(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ha(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KR(e))return"Blackberry";if(HR(e))return"Webos";if(BR(e))return"Safari";if((e.includes("chrome/")||$R(e))&&!e.includes("edge/"))return"Chrome";if(WR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UR(t=wt()){return/firefox\//i.test(t)}function BR(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $R(t=wt()){return/crios\//i.test(t)}function zR(t=wt()){return/iemobile/i.test(t)}function WR(t=wt()){return/android/i.test(t)}function KR(t=wt()){return/blackberry/i.test(t)}function HR(t=wt()){return/webos/i.test(t)}function v_(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p6(t=wt()){var e;return v_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m6(){return A5()&&document.documentMode===10}function GR(t=wt()){return v_(t)||WR(t)||HR(t)||KR(t)||/windows phone/i.test(t)||zR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e=[]){let n;switch(t){case"Browser":n=eS(wt());break;case"Worker":n=`${eS(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e={}){return Bi(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=6;class w6{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:v6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tS(this),this.idTokenSubscription=new tS(this),this.beforeStateQueue=new g6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pp(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(In(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(ls(this));const n=e?Dn(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y6(this),n=new w6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $i(t){return Dn(t)}class tS{constructor(e){this.auth=e,this.observer=null,this.addObserver=M5(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x6(t){Em=t}function QR(t){return Em.loadJS(t)}function E6(){return Em.recaptchaEnterpriseScript}function T6(){return Em.gapiScript}function S6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I6{constructor(){this.enterprise=new b6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class b6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const C6="recaptcha-enterprise",YR="NO_RECAPTCHA";class A6{constructor(e){this.type=C6,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{i6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new s6(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;YT(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(YR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&YT(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=E6();l.length!==0&&(l+=a),QR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function nS(t,e,n,r=!1,s=!1){const i=new A6(t);let o;if(s)o=YR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await nS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e){const n=f_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Lo(i,e??{}))return s;Xn(s,"already-initialized")}return n.initialize({options:e})}function R6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k6(t,e,n){const r=$i(t);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=XR(e),{host:o,port:a}=N6(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Lo(c,r.config.emulator)&&Lo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Wl(o)?(TR(`${i}//${o}${l}`),T5("Auth",!0)):D6()}function XR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N6(t){const e=XR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:rS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:rS(o)}}}function rS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function M6(t,e){return Bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return Nd(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function L6(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends w_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,n,"signInWithPassword",V6);case"emailLink":return O6(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,r,"signUpPassword",M6);case"emailLink":return L6(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e){return Nd(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="http://localhost";class Fo extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Rd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Fo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ga(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:j6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U6(t){const e=Bc($c(t)).link,n=e?Bc($c(e)).deep_link_id:null,r=Bc($c(t)).deep_link_id;return(r?Bc($c(r)).link:null)||r||n||e||t}class __{constructor(e){var n,r,s,i,o,a;const l=Bc($c(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=F6((s=l.mode)!==null&&s!==void 0?s:null);le(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=U6(e);try{return new __(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=__.parseLink(n);return le(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends x_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Dd{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Dd{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Dd{constructor(){super("twitter.com")}static credential(e,n){return Fo._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(t,e){return Nd(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=sS(r);return new Uo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sS(r);return new Uo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends Is{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gp(e,n,r,s)}}function JR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(t,i,e,r):i})}async function $6(t,e,n=!1){const r=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(ls(r));const s="reauthenticate";try{const i=await Wu(t,JR(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=y_(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Uo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e,n=!1){if(In(t.app))return Promise.reject(ls(t));const r="signIn",s=await JR(t,r,e),i=await Uo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function W6(t,e){return ZR($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K6(t,e,n){if(In(t.app))return Promise.reject(ls(t));const r=$i(t),o=await Qv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ek(t),l}),a=await Uo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function H6(t,e,n){return In(t.app)?Promise.reject(ls(t)):W6(Dn(t),Hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ek(t),r})}function G6(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function q6(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}function Q6(t,e,n,r){return Dn(t).onAuthStateChanged(e,n,r)}function Y6(t){return Dn(t).signOut()}const yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1e3,J6=10;class nk extends tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);m6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nk.type="LOCAL";const Z6=nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rk.type="SESSION";const sk=rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await eU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=E_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function nU(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function rU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iU(){return ik()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebaseLocalStorageDb",oU=1,vp="firebaseLocalStorage",ak="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sm(t,e){return t.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function aU(){const t=indexedDB.deleteDatabase(ok);return new Md(t).toPromise()}function Yv(){const t=indexedDB.open(ok,oU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vp,{keyPath:ak})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vp)?e(r):(r.close(),await aU(),e(await Yv()))})})}async function iS(t,e,n){const r=Sm(t,!0).put({[ak]:e,value:n});return new Md(r).toPromise()}async function lU(t,e){const n=Sm(t,!1).get(e),r=await new Md(n).toPromise();return r===void 0?null:r.value}function oS(t,e){const n=Sm(t,!0).delete(e);return new Md(n).toPromise()}const cU=800,uU=3;class lk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ik()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tm._getInstance(iU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rU(),!this.activeServiceWorker)return;this.sender=new tU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yv();return await iS(e,yp,"1"),await oS(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sm(s,!1).getAll();return new Md(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lk.type="LOCAL";const dU=lk;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){return e?is(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends w_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hU(t){return ZR(t.auth,new T_(t),t.bypassAuthState)}function fU(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),z6(n,new T_(t),t.bypassAuthState)}async function pU(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),$6(n,new T_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hU;case"linkViaPopup":case"linkViaRedirect":return pU;case"reauthViaPopup":case"reauthViaRedirect":return fU;default:Xn(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new kd(2e3,1e4);async function gU(t,e,n){if(In(t.app))return Promise.reject(hr(t,"operation-not-supported-in-this-environment"));const r=$i(t);Q3(t,e,x_);const s=ck(r,n);return new go(r,"signInViaPopup",e,s).executeNotNull()}class go extends uk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=E_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mU.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="pendingRedirect",mf=new Map;class vU extends uk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const r=await wU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wU(t,e){const n=EU(e),r=xU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _U(t,e){mf.set(t._key(),e)}function xU(t){return is(t._redirectPersistence)}function EU(t){return pf(yU,t.config.apiKey,t.name)}async function TU(t,e,n=!1){if(In(t.app))return Promise.reject(ls(t));const r=$i(t),s=ck(r,e),o=await new vU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=10*60*1e3;class IU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SU&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}}function aS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e={}){return Bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PU=/^https?/;async function RU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CU(t);for(const n of e)try{if(kU(n))return}catch{}Xn(t,"unauthorized-domain")}function kU(t){const e=Gv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PU.test(n))return!1;if(AU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new kd(3e4,6e4);function lS(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DU(t){return new Promise((e,n)=>{var r,s,i;function o(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),n(hr(t,"network-request-failed"))},timeout:NU.get()})}if(!((s=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Nr().gapi)===null||i===void 0)&&i.load)o();else{const a=S6("iframefcb");return Nr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},QR(`${T6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function MU(t){return gf=gf||DU(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new kd(5e3,15e3),OU="__/auth/iframe",LU="emulator/auth/iframe",jU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UU(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g_(e,LU):`https://${t.config.authDomain}/${OU}`,r={apiKey:e.apiKey,appName:t.name,v:Kl},s=FU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Pd(r).slice(1)}`}async function BU(t){const e=await MU(t),n=Nr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:UU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=Nr().setTimeout(()=>{i(o)},VU.get());function l(){Nr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zU=500,WU=600,KU="_blank",HU="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GU(t,e,n,r=zU,s=WU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$U),{width:r.toString(),height:s.toString(),top:i,left:o}),c=wt().toLowerCase();n&&(a=$R(c)?KU:n),UR(c)&&(e=e||HU,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(p6(c)&&a!=="_self")return qU(e||"",a),new cS(null);const h=window.open(e||"",a,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new cS(h)}function qU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="__/auth/handler",YU="emulator/auth/handler",XU=encodeURIComponent("fac");async function uS(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kl,eventId:s};if(e instanceof x_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Dd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${XU}=${encodeURIComponent(l)}`:"";return`${JU(t)}?${Pd(a).slice(1)}${c}`}function JU({config:t}){return t.emulator?g_(t,YU):`https://${t.authDomain}/${QU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="webStorageSupport";class ZU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sk,this._completeRedirectFn=TU,this._overrideRedirectResult=_U}async _openPopup(e,n,r,s){var i;ms((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await uS(e,n,r,Gv(),s);return GU(e,o,E_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await uS(e,n,r,Gv(),s);return nU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BU(e),r=new IU(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[cy];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GR()||BR()||v_()}}const eB=ZU;var dS="@firebase/auth",hS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(t){pl(new jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qR(t)},c=new _6(r,s,i,l);return R6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new jo("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new tB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(dS,hS,nB(t)),vi(dS,hS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=5*60,iB=ER("authIdTokenMaxAge")||sB;let fS=null;const oB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iB)return;const s=n==null?void 0:n.token;fS!==s&&(fS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aB(t=V3()){const e=f_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P6(t,{popupRedirectResolver:eB,persistence:[dU,Z6,sk]}),r=ER("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oB(i.toString());q6(n,o,()=>o(n.currentUser)),G6(n,a=>o(a))}}const s=w5("auth");return s&&k6(n,`http://${s}`),n}function lB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=hr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");var cB="firebase",uB="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(cB,uB,"app");var pS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,hk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function P(){}P.prototype=I.prototype,b.D=I.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(R,D,M){for(var N=Array(arguments.length-2),K=2;K<arguments.length;K++)N[K-2]=arguments[K];return I.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,I,P){P||(P=0);var R=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)R[D]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(D=0;16>D;++D)R[D]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=b.g[0],P=b.g[1],D=b.g[2];var M=b.g[3],N=I+(M^P&(D^M))+R[0]+3614090360&4294967295;I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[1]+3905402710&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[5]+1200080426&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[9]+2336552879&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[13]+4254626195&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(D^M&(P^D))+R[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[6]+3225465664&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[10]+38016083&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[14]+3275163606&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[2]+4243563512&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(P^D^M)+R[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[8]+2272392833&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[4]+1272893353&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[0]+3936430074&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[12]+3873151461&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(D^(P|~M))+R[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[7]+1126891415&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[3]+2399980690&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[15]+4264355552&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[11]+3174756917&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,I){I===void 0&&(I=b.length);for(var P=I-this.blockSize,R=this.B,D=this.h,M=0;M<I;){if(D==0)for(;M<=P;)s(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<I;)if(R[D++]=b.charCodeAt(M++),D==this.blockSize){s(this,R),D=0;break}}else for(;M<I;)if(R[D++]=b[M++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var P=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=P&255,P/=256;for(this.u(b),b=Array(16),I=P=0;4>I;++I)for(var R=0;32>R;R+=8)b[P++]=this.g[I]>>>R&255;return b};function i(b,I){var P=a;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=I(b)}function o(b,I){this.h=I;for(var P=[],R=!0,D=b.length-1;0<=D;D--){var M=b[D]|0;R&&M==I||(P[D]=M,R=!1)}this.g=P}var a={};function l(b){return-128<=b&&128>b?i(b,function(I){return new o([I|0],0>I?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return S(c(-b));for(var I=[],P=1,R=0;b>=P;R++)I[R]=b/P|0,P*=4294967296;return new o(I,0)}function d(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return S(d(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(I,8)),R=h,D=0;D<b.length;D+=8){var M=Math.min(8,b.length-D),N=parseInt(b.substring(D,D+M),I);8>M?(M=c(Math.pow(I,M)),R=R.j(M).add(c(N))):(R=R.j(P),R=R.add(c(N)))}return R}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-S(this).m();for(var b=0,I=1,P=0;P<this.g.length;P++){var R=this.i(P);b+=(0<=R?R:4294967296+R)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w(this))return"0";if(y(this))return"-"+S(this).toString(b);for(var I=c(Math.pow(b,6)),P=this,R="";;){var D=A(P,I).g;P=_(P,D.j(I));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=D,w(P))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function w(b){if(b.h!=0)return!1;for(var I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=_(this,b),y(b)?-1:w(b)?0:1};function S(b){for(var I=b.g.length,P=[],R=0;R<I;R++)P[R]=~b.g[R];return new o(P,~b.h).add(f)}t.abs=function(){return y(this)?S(this):this},t.add=function(b){for(var I=Math.max(this.g.length,b.g.length),P=[],R=0,D=0;D<=I;D++){var M=R+(this.i(D)&65535)+(b.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);R=N>>>16,M&=65535,N&=65535,P[D]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(b,I){return b.add(S(I))}t.j=function(b){if(w(this)||w(b))return h;if(y(this))return y(b)?S(this).j(S(b)):S(S(this).j(b));if(y(b))return S(this.j(S(b)));if(0>this.l(m)&&0>b.l(m))return c(this.m()*b.m());for(var I=this.g.length+b.g.length,P=[],R=0;R<2*I;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<b.g.length;D++){var M=this.i(R)>>>16,N=this.i(R)&65535,K=b.i(D)>>>16,ue=b.i(D)&65535;P[2*R+2*D]+=N*ue,x(P,2*R+2*D),P[2*R+2*D+1]+=M*ue,x(P,2*R+2*D+1),P[2*R+2*D+1]+=N*K,x(P,2*R+2*D+1),P[2*R+2*D+2]+=M*K,x(P,2*R+2*D+2)}for(R=0;R<I;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=I;R<2*I;R++)P[R]=0;return new o(P,0)};function x(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function T(b,I){this.g=b,this.h=I}function A(b,I){if(w(I))throw Error("division by zero");if(w(b))return new T(h,h);if(y(b))return I=A(S(b),I),new T(S(I.g),S(I.h));if(y(I))return I=A(b,S(I)),new T(S(I.g),I.h);if(30<b.g.length){if(y(b)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var P=f,R=I;0>=R.l(b);)P=k(P),R=k(R);var D=V(P,1),M=V(R,1);for(R=V(R,2),P=V(P,2);!w(R);){var N=M.add(R);0>=N.l(b)&&(D=D.add(P),M=N),R=V(R,1),P=V(P,1)}return I=_(b,D.j(I)),new T(D,I)}for(D=h;0<=b.l(I);){for(P=Math.max(1,Math.floor(b.m()/I.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(P),N=M.j(I);y(N)||0<N.l(b);)P-=R,M=c(P),N=M.j(I);w(M)&&(M=f),D=D.add(M),b=_(b,N)}return new T(D,b)}t.A=function(b){return A(this,b).h},t.and=function(b){for(var I=Math.max(this.g.length,b.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)&b.i(R);return new o(P,this.h&b.h)},t.or=function(b){for(var I=Math.max(this.g.length,b.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)|b.i(R);return new o(P,this.h|b.h)},t.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)^b.i(R);return new o(P,this.h^b.h)};function k(b){for(var I=b.g.length+1,P=[],R=0;R<I;R++)P[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(P,b.h)}function V(b,I){var P=I>>5;I%=32;for(var R=b.g.length-P,D=[],M=0;M<R;M++)D[M]=0<I?b.i(M+P)>>>I|b.i(M+P+1)<<32-I:b.i(M+P);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,wi=o}).apply(typeof pS<"u"?pS:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fk,zc,pk,yf,Xv,mk,gk,yk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var E=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var L=u[C];if(!(L in E))break e;E=E[L]}u=u[u.length-1],C=E[u],g=g(C),g!=C&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var E=0,C=!1,L={next:function(){if(!C&&E<u.length){var F=E++;return{value:g(F,u[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,E){return u.call.apply(u.bind,arguments)}function h(u,g,E){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function f(u,g,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function w(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(C,L,F){for(var H=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)H[Oe-2]=arguments[Oe];return g.prototype[L].apply(C,H)}}function y(u){const g=u.length;if(0<g){const E=Array(g);for(let C=0;C<g;C++)E[C]=u[C];return E}return[]}function S(u,g){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(l(C)){const L=u.length||0,F=C.length||0;u.length=L+F;for(let H=0;H<F;H++)u[L+H]=C[H]}else u.push(C)}}class _{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var k=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,g,E){for(const C in u)g.call(E,u[C],C,u)}function b(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function I(u){const g={};for(const E in u)g[E]=u[E];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let E,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(E in C)u[E]=C[E];for(let F=0;F<P.length;F++)E=P[F],Object.prototype.hasOwnProperty.call(C,E)&&(u[E]=C[E])}}function D(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function M(u){a.setTimeout(()=>{throw u},0)}function N(){var u=U;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class K{constructor(){this.h=this.g=null}add(g,E){const C=ue.get();C.set(g,E),this.h?this.h.next=C:this.g=C,this.h=C}}var ue=new _(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,j=!1,U=new K,q=()=>{const u=a.Promise.resolve(void 0);ne=()=>{u.then(Q)}};var Q=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(E){M(E)}var g=ue;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}j=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,g),a.removeEventListener("test",E,g)}catch{}return u}();function Je(u,g){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(k){e:{try{A(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ye[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Je.aa.h.call(this)}}w(Je,ie);var ye={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),vn=0;function ut(u,g,E,C,L){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!C,this.ha=L,this.key=++vn,this.da=this.fa=!1}function Nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wr(u){this.src=u,this.g={},this.h=0}Wr.prototype.add=function(u,g,E,C,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=Jn(u,g,C,L);return-1<H?(g=u[H],E||(g.fa=!1)):(g=new ut(g,this.src,F,!!C,L),g.fa=E,u.push(g)),g};function gr(u,g){var E=g.type;if(E in u.g){var C=u.g[E],L=Array.prototype.indexOf.call(C,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(C,L,1),F&&(Nt(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Jn(u,g,E,C){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==C)return L}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Cs={};function Zn(u,g,E,C,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Zn(u,g[F],E,C,L);return null}return E=ac(E),u&&u[He]?u.K(g,E,c(C)?!!C.capture:!!C,L):sc(u,g,E,!1,C,L)}function sc(u,g,E,C,L,F){if(!g)throw Error("Invalid event type");var H=c(L)?!!L.capture:!!L,Oe=As(u);if(Oe||(u[Kr]=Oe=new Wr(u)),E=Oe.add(g,E,C,H,F),E.proxy)return E;if(C=ic(),E.proxy=C,C.src=u,C.listener=E,u.addEventListener)Ce||(L=H),L===void 0&&(L=!1),u.addEventListener(g.toString(),C,L);else if(u.attachEvent)u.attachEvent(Jd(g.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ic(){function u(E){return g.call(u.src,u.listener,E)}const g=pg;return u}function dt(u,g,E,C,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)dt(u,g[F],E,C,L);else C=c(C)?!!C.capture:!!C,E=ac(E),u&&u[He]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],E=Jn(F,E,C,L),-1<E&&(Nt(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=As(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Jn(g,E,C,L)),(E=-1<u?g[u]:null)&&yr(E))}function yr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[He])gr(g.i,u);else{var E=u.type,C=u.proxy;g.removeEventListener?g.removeEventListener(E,C,u.capture):g.detachEvent?g.detachEvent(Jd(E),C):g.addListener&&g.removeListener&&g.removeListener(C),(E=As(g))?(gr(E,u),E.h==0&&(E.src=null,g[Kr]=null)):Nt(u)}}}function Jd(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function pg(u,g){if(u.da)u=!0;else{g=new Je(g,this);var E=u.listener,C=u.ha||u.src;u.fa&&yr(u),u=E.call(C,g)}return u}function As(u){return u=u[Kr],u instanceof Wr?u:null}var oc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(u){return typeof u=="function"?u:(u[oc]||(u[oc]=function(g){return u.handleEvent(g)}),u[oc])}function ht(){J.call(this),this.i=new Wr(this),this.M=this,this.F=null}w(ht,J),ht.prototype[He]=!0,ht.prototype.removeEventListener=function(u,g,E,C){dt(this,u,g,E,C)};function Ze(u,g){var E,C=u.F;if(C)for(E=[];C;C=C.F)E.push(C);if(u=u.M,C=g.type||g,typeof g=="string")g=new ie(g,u);else if(g instanceof ie)g.target=g.target||u;else{var L=g;g=new ie(C,u),R(g,L)}if(L=!0,E)for(var F=E.length-1;0<=F;F--){var H=g.g=E[F];L=Qi(H,C,!0,g)&&L}if(H=g.g=u,L=Qi(H,C,!0,g)&&L,L=Qi(H,C,!1,g)&&L,E)for(F=0;F<E.length;F++)H=g.g=E[F],L=Qi(H,C,!1,g)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],C=0;C<E.length;C++)Nt(E[C]);delete u.g[g],u.h--}}this.F=null},ht.prototype.K=function(u,g,E,C){return this.i.add(String(u),g,!1,E,C)},ht.prototype.L=function(u,g,E,C){return this.i.add(String(u),g,!0,E,C)};function Qi(u,g,E,C){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var H=g[F];if(H&&!H.da&&H.capture==E){var Oe=H.listener,bt=H.ha||H.src;H.fa&&gr(u.i,H),L=Oe.call(bt,C)!==!1&&L}}return L&&!C.defaultPrevented}function Hr(u,g,E){if(typeof u=="function")E&&(u=f(u,E));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function lc(u){u.g=Hr(()=>{u.g=null,u.i&&(u.i=!1,lc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class mg extends J{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:lc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(u){J.call(this),this.h=u,this.g={}}w(Ps,J);var cc=[];function Zd(u){V(u.g,function(g,E){this.g.hasOwnProperty(E)&&yr(g)},u),u.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Zd(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=a.JSON.stringify,vr=a.JSON.parse,gg=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function he(){}he.prototype.h=null;function De(u){return u.h||(u.h=u.i())}function Ae(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){ie.call(this,"d")}w(on,ie);function Rs(){ie.call(this,"c")}w(Rs,ie);var Gr={},N1=null;function eh(){return N1=N1||new ht}Gr.La="serverreachability";function D1(u){ie.call(this,Gr.La,u)}w(D1,ie);function uc(u){const g=eh();Ze(g,new D1(g))}Gr.STAT_EVENT="statevent";function M1(u,g){ie.call(this,Gr.STAT_EVENT,u),this.stat=g}w(M1,ie);function Qt(u){const g=eh();Ze(g,new M1(g,u))}Gr.Ma="timingevent";function V1(u,g){ie.call(this,Gr.Ma,u),this.size=g}w(V1,ie);function dc(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function hc(){this.g=!0}hc.prototype.xa=function(){this.g=!1};function pL(u,g,E,C,L,F){u.info(function(){if(u.g)if(F)for(var H="",Oe=F.split("&"),bt=0;bt<Oe.length;bt++){var Se=Oe[bt].split("=");if(1<Se.length){var Mt=Se[0];Se=Se[1];var Vt=Mt.split("_");H=2<=Vt.length&&Vt[1]=="type"?H+(Mt+"="+Se+"&"):H+(Mt+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+g+`
`+E+`
`+H})}function mL(u,g,E,C,L,F,H){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+g+`
`+E+`
`+F+" "+H})}function ra(u,g,E,C){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+yL(u,E)+(C?" "+C:"")})}function gL(u,g){u.info(function(){return"TIMEOUT: "+g})}hc.prototype.info=function(){};function yL(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var C=E[u];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Yi(E)}catch{return g}}var th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},O1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yg;function nh(){}w(nh,he),nh.prototype.g=function(){return new XMLHttpRequest},nh.prototype.i=function(){return{}},yg=new nh;function ks(u,g,E,C){this.j=u,this.i=g,this.l=E,this.R=C||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new L1}function L1(){this.i=null,this.g="",this.h=!1}var j1={},vg={};function wg(u,g,E){u.L=1,u.v=oh(qr(g)),u.m=E,u.P=!0,F1(u,null)}function F1(u,g){u.F=Date.now(),rh(u),u.A=qr(u.v);var E=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),Z1(E.i,"t",C),u.C=0,E=u.j.J,u.h=new L1,u.g=yE(u.j,E?g:null,!u.m),0<u.O&&(u.M=new mg(f(u.Y,u,u.g),u.O)),g=u.U,E=u.g,C=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(cc[0]=L.toString()),L=cc);for(var F=0;F<L.length;F++){var H=Zn(E,L[F],C||g.handleEvent,!1,g.h||g);if(!H)break;g.g[H.key]=H}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),uc(),pL(u.i,u.u,u.A,u.l,u.R,u.m)}ks.prototype.ca=function(u){u=u.target;const g=this.M;g&&Qr(u)==3?g.j():this.Y(u)},ks.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Qr(this.g);var g=this.g.Ba();const oa=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||oE(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=oa?uc(3):uc(2)),_g(this);var E=this.g.Z();this.X=E;t:if(U1(this)){var C=oE(this.g);u="";var L=C.length,F=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),fc(this);var H="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(C[g],{stream:!(F&&g==L-1)});C.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=E==200,mL(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,bt=this.g;if((Oe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Oe)){var Se=Oe;break t}}Se=null}if(E=Se)ra(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xg(this,E);else{this.o=!1,this.s=3,Qt(12),Xi(this),fc(this);break e}}if(this.P){E=!0;let er;for(;!this.J&&this.C<H.length;)if(er=vL(this,H),er==vg){Vt==4&&(this.s=4,Qt(14),E=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(er==j1){this.s=4,Qt(15),ra(this.i,this.l,H,"[Invalid Chunk]"),E=!1;break}else ra(this.i,this.l,er,null),xg(this,er);if(U1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||H.length!=0||this.h.h||(this.s=1,Qt(16),E=!1),this.o=this.o&&E,!E)ra(this.i,this.l,H,"[Invalid Chunked Response]"),Xi(this),fc(this);else if(0<H.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Cg(Mt),Mt.M=!0,Qt(11))}}else ra(this.i,this.l,H,null),xg(this,H);Vt==4&&Xi(this),this.o&&!this.J&&(Vt==4?fE(this.j,this):(this.o=!1,rh(this)))}else VL(this.g),E==400&&0<H.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Xi(this),fc(this)}}}catch{}finally{}};function U1(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vL(u,g){var E=u.C,C=g.indexOf(`
`,E);return C==-1?vg:(E=Number(g.substring(E,C)),isNaN(E)?j1:(C+=1,C+E>g.length?vg:(g=g.slice(C,C+E),u.C=C+E,g)))}ks.prototype.cancel=function(){this.J=!0,Xi(this)};function rh(u){u.S=Date.now()+u.I,B1(u,u.I)}function B1(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=dc(f(u.ba,u),g)}function _g(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ks.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(gL(this.i,this.A),this.L!=2&&(uc(),Qt(17)),Xi(this),this.s=2,fc(this)):B1(this,this.S-u)};function fc(u){u.j.G==0||u.J||fE(u.j,u)}function Xi(u){_g(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Zd(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function xg(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||Eg(E.h,u))){if(!u.K&&Eg(E.h,u)&&E.G==3){try{var C=E.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)hh(E),uh(E);else break e;bg(E),Qt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=dc(f(E.Za,E),6e3));if(1>=W1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zi(E,11)}else if((u.K||E.g==u)&&hh(E),!x(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let Se=L[g];if(E.T=Se[0],Se=Se[1],E.G==2)if(Se[0]=="c"){E.K=Se[1],E.ia=Se[2];const Mt=Se[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Vt=Se[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const oa=Se[5];oa!=null&&typeof oa=="number"&&0<oa&&(C=1.5*oa,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const er=u.g;if(er){const ph=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var F=C.h;F.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Tg(F,F.h),F.h=null))}if(C.D){const Ag=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Ag&&(C.ya=Ag,Fe(C.I,C.D,Ag))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var H=u;if(C.qa=gE(C,C.J?C.ia:null,C.W),H.K){K1(C.h,H);var Oe=H,bt=C.L;bt&&(Oe.I=bt),Oe.B&&(_g(Oe),rh(Oe)),C.g=H}else dE(C);0<E.i.length&&dh(E)}else Se[0]!="stop"&&Se[0]!="close"||Zi(E,7);else E.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Zi(E,7):Ig(E):Se[0]!="noop"&&E.l&&E.l.ta(Se),E.v=0)}}uc(4)}catch{}}var wL=class{constructor(u,g){this.g=u,this.map=g}};function $1(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function z1(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function W1(u){return u.h?1:u.g?u.g.size:0}function Eg(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Tg(u,g){u.g?u.g.add(g):u.h=g}function K1(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}$1.prototype.cancel=function(){if(this.i=H1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function H1(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return y(u.i)}function _L(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],E=u.length,C=0;C<E;C++)g.push(u[C]);return g}g=[],E=0;for(C in u)g[E++]=u[C];return g}function xL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const C in u)g[E++]=C;return g}}}function G1(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=xL(u),C=_L(u),L=C.length,F=0;F<L;F++)g.call(void 0,C[F],E&&E[F],u)}var q1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EL(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var C=u[E].indexOf("="),L=null;if(0<=C){var F=u[E].substring(0,C);L=u[E].substring(C+1)}else F=u[E];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ji(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ji){this.h=u.h,sh(this,u.j),this.o=u.o,this.g=u.g,ih(this,u.s),this.l=u.l;var g=u.i,E=new gc;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Q1(this,E),this.m=u.m}else u&&(g=String(u).match(q1))?(this.h=!1,sh(this,g[1]||"",!0),this.o=pc(g[2]||""),this.g=pc(g[3]||"",!0),ih(this,g[4]),this.l=pc(g[5]||"",!0),Q1(this,g[6]||"",!0),this.m=pc(g[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}Ji.prototype.toString=function(){var u=[],g=this.j;g&&u.push(mc(g,Y1,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(mc(g,Y1,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(mc(E,E.charAt(0)=="/"?IL:SL,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",mc(E,CL)),u.join("")};function qr(u){return new Ji(u)}function sh(u,g,E){u.j=E?pc(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ih(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Q1(u,g,E){g instanceof gc?(u.i=g,AL(u.i,u.h)):(E||(g=mc(g,bL)),u.i=new gc(g,u.h))}function Fe(u,g,E){u.i.set(g,E)}function oh(u){return Fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pc(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mc(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,TL),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function TL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Y1=/[#\/\?@]/g,SL=/[#\?:]/g,IL=/[#\?]/g,bL=/[#\?@]/g,CL=/#/g;function gc(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ns(u){u.g||(u.g=new Map,u.h=0,u.i&&EL(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=gc.prototype,t.add=function(u,g){Ns(this),this.i=null,u=sa(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function X1(u,g){Ns(u),g=sa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function J1(u,g){return Ns(u),g=sa(u,g),u.g.has(g)}t.forEach=function(u,g){Ns(this),this.g.forEach(function(E,C){E.forEach(function(L){u.call(g,L,C,this)},this)},this)},t.na=function(){Ns(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let C=0;C<g.length;C++){const L=u[C];for(let F=0;F<L.length;F++)E.push(g[C])}return E},t.V=function(u){Ns(this);let g=[];if(typeof u=="string")J1(this,u)&&(g=g.concat(this.g.get(sa(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},t.set=function(u,g){return Ns(this),this.i=null,u=sa(this,u),J1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Z1(u,g,E){X1(u,g),0<E.length&&(u.i=null,u.g.set(sa(u,g),y(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var C=g[E];const F=encodeURIComponent(String(C)),H=this.V(C);for(C=0;C<H.length;C++){var L=F;H[C]!==""&&(L+="="+encodeURIComponent(String(H[C]))),u.push(L)}}return this.i=u.join("&")};function sa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function AL(u,g){g&&!u.j&&(Ns(u),u.i=null,u.g.forEach(function(E,C){var L=C.toLowerCase();C!=L&&(X1(this,C),Z1(this,L,E))},u)),u.j=g}function PL(u,g){const E=new hc;if(a.Image){const C=new Image;C.onload=m(Ds,E,"TestLoadImage: loaded",!0,g,C),C.onerror=m(Ds,E,"TestLoadImage: error",!1,g,C),C.onabort=m(Ds,E,"TestLoadImage: abort",!1,g,C),C.ontimeout=m(Ds,E,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else g(!1)}function RL(u,g){const E=new hc,C=new AbortController,L=setTimeout(()=>{C.abort(),Ds(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:C.signal}).then(F=>{clearTimeout(L),F.ok?Ds(E,"TestPingServer: ok",!0,g):Ds(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Ds(E,"TestPingServer: error",!1,g)})}function Ds(u,g,E,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(E)}catch{}}function kL(){this.g=new gg}function NL(u,g,E){const C=E||"";try{G1(u,function(L,F){let H=L;c(L)&&(H=Yi(L)),g.push(C+F+"="+encodeURIComponent(H))})}catch(L){throw g.push(C+"type="+encodeURIComponent("_badmap")),L}}function ah(u){this.l=u.Ub||null,this.j=u.eb||!1}w(ah,he),ah.prototype.g=function(){return new lh(this.l,this.j)},ah.prototype.i=function(u){return function(){return u}}({});function lh(u,g){ht.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(lh,ht),t=lh.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,vc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function eE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?yc(this):vc(this),this.readyState==3&&eE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,yc(this))},t.Qa=function(u){this.g&&(this.response=u,yc(this))},t.ga=function(){this.g&&yc(this)};function yc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vc(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function vc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tE(u){let g="";return V(u,function(E,C){g+=C,g+=":",g+=E,g+=`\r
`}),g}function Sg(u,g,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=tE(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Fe(u,g,E))}function et(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(et,ht);var DL=/^https?$/i,ML=["POST","PUT"];t=et.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yg.g(),this.v=this.o?De(this.o):De(yg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){nE(this,F);return}if(u=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)E.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())E.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ML,g,void 0))||C||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of E)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iE(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){nE(this,F)}};function nE(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,rE(u),ch(u)}function rE(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sE(this):this.bb())},t.bb=function(){sE(this)};function sE(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Qr(u)!=4||u.Z()!=2)){if(u.u&&Qr(u)==4)Hr(u.Ea,0,u);else if(Ze(u,"readystatechange"),Qr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var C;if(C=H===0){var L=String(u.D).match(q1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!DL.test(L?L.toLowerCase():"")}E=C}if(E)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var F=2<Qr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",rE(u)}}finally{ch(u)}}}}function ch(u,g){if(u.g){iE(u);const E=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ze(u,"ready");try{E.onreadystatechange=C}catch{}}}function iE(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Qr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),vr(g)}};function oE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function VL(u){const g={};u=(u.g&&2<=Qr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(x(u[C]))continue;var E=D(u[C]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[L]||[];g[L]=F,F.push(E)}b(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wc(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function aE(u){this.Aa=0,this.i=[],this.j=new hc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wc("baseRetryDelayMs",5e3,u),this.cb=wc("retryDelaySeedMs",1e4,u),this.Wa=wc("forwardChannelMaxRetries",2,u),this.wa=wc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new $1(u&&u.concurrentRequestLimit),this.Da=new kL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aE.prototype,t.la=8,t.G=1,t.connect=function(u,g,E,C){Qt(0),this.W=u,this.H=g||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=gE(this,null,this.W),dh(this)};function Ig(u){if(lE(u),u.G==3){var g=u.U++,E=qr(u.I);if(Fe(E,"SID",u.K),Fe(E,"RID",g),Fe(E,"TYPE","terminate"),_c(u,E),g=new ks(u,u.j,g),g.L=2,g.v=oh(qr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=g.v,E=!0),E||(g.g=yE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),rh(g)}mE(u)}function uh(u){u.g&&(Cg(u),u.g.cancel(),u.g=null)}function lE(u){uh(u),u.u&&(a.clearTimeout(u.u),u.u=null),hh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function dh(u){if(!z1(u.h)&&!u.s){u.s=!0;var g=u.Ga;ne||q(),j||(ne(),j=!0),U.add(g,u),u.B=0}}function OL(u,g){return W1(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=dc(f(u.Ga,u,g),pE(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ks(this,this.j,u);let F=this.o;if(this.S&&(F?(F=I(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=uE(this,L,g),E=qr(this.I),Fe(E,"RID",u),Fe(E,"CVER",22),this.D&&Fe(E,"X-HTTP-Session-Id",this.D),_c(this,E),F&&(this.O?g="headers="+encodeURIComponent(String(tE(F)))+"&"+g:this.m&&Sg(E,this.m,F)),Tg(this.h,L),this.Ua&&Fe(E,"TYPE","init"),this.P?(Fe(E,"$req",g),Fe(E,"SID","null"),L.T=!0,wg(L,E,null)):wg(L,E,g),this.G=2}}else this.G==3&&(u?cE(this,u):this.i.length==0||z1(this.h)||cE(this))};function cE(u,g){var E;g?E=g.l:E=u.U++;const C=qr(u.I);Fe(C,"SID",u.K),Fe(C,"RID",E),Fe(C,"AID",u.T),_c(u,C),u.m&&u.o&&Sg(C,u.m,u.o),E=new ks(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=uE(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Tg(u.h,E),wg(E,C,g)}function _c(u,g){u.H&&V(u.H,function(E,C){Fe(g,C,E)}),u.l&&G1({},function(E,C){Fe(g,C,E)})}function uE(u,g,E){E=Math.min(u.i.length,E);var C=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const H=["count="+E];F==-1?0<E?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let Oe=!0;for(let bt=0;bt<E;bt++){let Se=L[bt].g;const Mt=L[bt].map;if(Se-=F,0>Se)F=Math.max(0,L[bt].g-100),Oe=!1;else try{NL(Mt,H,"req"+Se+"_")}catch{C&&C(Mt)}}if(Oe){C=H.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,C}function dE(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ne||q(),j||(ne(),j=!0),U.add(g,u),u.v=0}}function bg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=dc(f(u.Fa,u),pE(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,hE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=dc(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),uh(this),hE(this))};function Cg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function hE(u){u.g=new ks(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=qr(u.qa);Fe(g,"RID","rpc"),Fe(g,"SID",u.K),Fe(g,"AID",u.T),Fe(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Fe(g,"TO",u.ja),Fe(g,"TYPE","xmlhttp"),_c(u,g),u.m&&u.o&&Sg(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=oh(qr(g)),E.m=null,E.P=!0,F1(E,u)}t.Za=function(){this.C!=null&&(this.C=null,uh(this),bg(this),Qt(19))};function hh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function fE(u,g){var E=null;if(u.g==g){hh(u),Cg(u),u.g=null;var C=2}else if(Eg(u.h,g))E=g.D,K1(u.h,g),C=1;else return;if(u.G!=0){if(g.o)if(C==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;C=eh(),Ze(C,new V1(C,E)),dh(u)}else dE(u);else if(L=g.s,L==3||L==0&&0<g.X||!(C==1&&OL(u,g)||C==2&&bg(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),L){case 1:Zi(u,5);break;case 4:Zi(u,10);break;case 3:Zi(u,6);break;default:Zi(u,2)}}}function pE(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function Zi(u,g){if(u.j.info("Error code "+g),g==2){var E=f(u.fb,u),C=u.Xa;const L=!C;C=new Ji(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sh(C,"https"),oh(C),L?PL(C.toString(),E):RL(C.toString(),E)}else Qt(2);u.G=0,u.l&&u.l.sa(g),mE(u),lE(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function mE(u){if(u.G=0,u.ka=[],u.l){const g=H1(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ka,g),S(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function gE(u,g,E){var C=E instanceof Ji?qr(E):new Ji(E);if(C.g!="")g&&(C.g=g+"."+C.g),ih(C,C.s);else{var L=a.location;C=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new Ji(null);C&&sh(F,C),g&&(F.g=g),L&&ih(F,L),E&&(F.l=E),C=F}return E=u.D,g=u.ya,E&&g&&Fe(C,E,g),Fe(C,"VER",u.la),_c(u,C),C}function yE(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new et(new ah({eb:E})):new et(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vE(){}t=vE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fh(){}fh.prototype.g=function(u,g){return new wn(u,g)};function wn(u,g){ht.call(this),this.g=new aE(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!x(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ia(this)}w(wn,ht),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ig(this.g)},wn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Yi(u),u=E);g.i.push(new wL(g.Ya++,u)),g.G==3&&dh(g)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ig(this.g),delete this.g,wn.aa.N.call(this)};function wE(u){on.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(wE,on);function _E(){Rs.call(this),this.status=1}w(_E,Rs);function ia(u){this.g=u}w(ia,vE),ia.prototype.ua=function(){Ze(this.g,"a")},ia.prototype.ta=function(u){Ze(this.g,new wE(u))},ia.prototype.sa=function(u){Ze(this.g,new _E)},ia.prototype.ra=function(){Ze(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,yk=function(){return new fh},gk=function(){return eh()},mk=Gr,Xv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,yf=th,O1.COMPLETE="complete",pk=O1,Ae.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",ht.prototype.listen=ht.prototype.K,zc=Ae,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,fk=et}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const mS="@firebase/firestore",gS="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new d_("@firebase/firestore");function ya(){return Bo.logLevel}function z(t,...e){if(Bo.logLevel<=we.DEBUG){const n=e.map(S_);Bo.debug(`Firestore (${Gl}): ${t}`,...n)}}function at(t,...e){if(Bo.logLevel<=we.ERROR){const n=e.map(S_);Bo.error(`Firestore (${Gl}): ${t}`,...n)}}function Ti(t,...e){if(Bo.logLevel<=we.WARN){const n=e.map(S_);Bo.warn(`Firestore (${Gl}): ${t}`,...n)}}function S_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vk(t,r,n)}function vk(t,e,n){let r=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw at(r),new Error(r)}function se(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||vk(e,s,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class fB{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){se(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string",31837,{l:r}),new dB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class pB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){se(this.o===void 0,3512);const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=yB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Jv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ce(r,s);{const i=wk(),o=vB(i.encode(vS(t,n)),i.encode(vS(e,n)));return o!==0?o:ce(r,s)}}n+=r>65535?2:1}return ce(t.length,e.length)}function vS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function vB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function ml(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function _k(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ce(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),s=xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Jv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class Me extends xr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const wB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends xr{construct(e,n,r){return new qe(e,n,r)}static isValidIdentifier(e){return wB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wS}static keyField(){return new qe([wS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Me.fromString(e))}static fromName(e){return new Y(Me.fromString(e).popFirst(5))}static empty(){return new Y(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xB(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _S(t){if(!Y.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function b_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function wp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b_(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vd(t,e){if(!xk(t))throw new X(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=-62135596800,ES=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ES);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xS)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ES}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vd(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:gt("string",Re._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Re(0,0))}static max(){return new oe(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;class _p{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Zv(t){return t.fields.find(e=>e.kind===2)}function io(t){return t.fields.filter(e=>e.kind!==2)}_p.UNKNOWN_ID=-1;class vf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Hu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Hu(0,Mn.min())}}function Ek(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Mn(s,Y.empty(),e)}function Tk(t){return new Mn(t.readTime,t.key,gl)}class Mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mn(oe.min(),Y.empty(),gl)}static max(){return new Mn(oe.max(),Y.empty(),gl)}}function C_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Sk)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="SimpleDb";class Im{static open(e,n,r,s){try{return new Im(n,e.transaction(s,r))}catch(i){throw new au(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new cs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new au(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=A_(r.target.error);this.S.reject(new au(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(z(Tn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TB(n)}}class _i{static delete(e){return z(Tn,"Removing database:",e),lo(_R().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!CR())return!1;if(_i.F())return!0;const e=wt(),n=_i.M(e),r=0<n&&n<10,s=bk(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,_i.M(wt())===12.2&&at("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(z(Tn,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new au(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new X(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new au(e,o))},s.onupgradeneeded=i=>{z(Tn,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;if(this.L!==null&&this.L!==i.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${i.oldVersion}, event.newVersion=${i.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,i.oldVersion,this.version).next(()=>{z(Tn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var r;n.newVersion===null&&(Ti('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=Im.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.v(),c)).catch(c=>(a.abort(c),O.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(z(Tn,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function bk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class EB{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return lo(this.$.delete())}}class au extends X{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wi(t){return t.name==="IndexedDbTransactionError"}class TB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z(Tn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(z(Tn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lo(r)}add(e){return z(Tn,"ADD",this.store.name,e,e),lo(this.store.add(e))}get(e){return lo(this.store.get(e)).next(n=>(n===void 0&&(n=null),z(Tn,"GET",this.store.name,e,n),n))}delete(e){return z(Tn,"DELETE",this.store.name,e),lo(this.store.delete(e))}count(){return z(Tn,"COUNT",this.store.name),lo(this.store.count())}j(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new O((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.J(i,(a,l)=>{o.push(l)}).next(()=>o)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}Y(e,n){z(Tn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const s=this.cursor(r);return this.J(s,(i,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.J(s,n)}ee(e){const n=this.cursor({});return new O((r,s)=>{n.onerror=i=>{const o=A_(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}J(e,n){const r=[];return new O((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new EB(a),c=n(a.primaryKey,a.value,l);if(c instanceof O){const d=c.catch(h=>(l.done(),O.reject(h)));r.push(d)}l.isDone?s():l.W===null?a.continue():a.continue(l.W)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function lo(t){return new O((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=A_(r.target.error);n(s)}})}let TS=!1;function A_(t){const e=_i.M(wt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TS||(TS=!0,setTimeout(()=>{throw r},0)),r}}return t}const lu="IndexBackfiller";class SB{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){z(lu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.te.re();z(lu,`Documents written: ${n}`)}catch(n){Wi(n)?z(lu,"Ignoring IndexedDB error during index backfill: ",n):await zi(n)}await this.ne(6e4)})}}class IB{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ie(n,e))}ie(e,n){const r=new Set;let s=n,i=!0;return O.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z(lu,`Processing collection: ${o}`),this.se(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.oe(s,i)).next(a=>(z(lu,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}oe(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=Tk(i);C_(o,r)>0&&(r=o)}),new Mn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}hn.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=-1;function bm(t){return t==null}function Gu(t){return t===0&&1/t==-1/0}function Ck(t){return typeof t=="number"&&Number.isInteger(t)&&!Gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="";function Ht(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SS(e)),e=bB(t.get(n),e);return SS(e)}function bB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case xp:n+="";break;default:n+=i}}return n}function SS(t){return t+xp+""}function Ar(t){const e=t.length;if(se(e>=2,64408,{path:t}),e===2)return se(t.charAt(0)===xp&&t.charAt(1)==="",56145,{path:t}),Me.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(xp,i);switch((o<0||o>n)&&ee(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ee(61167,{path:t})}i=o+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="remoteDocuments",Od="owner",la="owner",qu="mutationQueues",CB="userId",ar="mutations",IS="batchId",yo="userMutationsIndex",bS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e){return[t,Ht(e)]}function Ak(t,e,n){return[t,Ht(e),n]}const AB={},yl="documentMutations",Ep="remoteDocumentsV14",PB=["prefixPath","collectionGroup","readTime","documentId"],_f="documentKeyIndex",RB=["prefixPath","collectionGroup","documentId"],Pk="collectionGroupIndex",kB=["collectionGroup","readTime","prefixPath","documentId"],Qu="remoteDocumentGlobal",e0="remoteDocumentGlobalKey",vl="targets",Rk="queryTargetsIndex",NB=["canonicalId","targetId"],wl="targetDocuments",DB=["targetId","path"],P_="documentTargetsIndex",MB=["path","targetId"],Tp="targetGlobalKey",Co="targetGlobal",Yu="collectionParents",VB=["collectionId","parent"],_l="clientMetadata",OB="clientId",Cm="bundles",LB="bundleId",Am="namedQueries",jB="name",R_="indexConfiguration",FB="indexId",t0="collectionGroupIndex",UB="collectionGroup",cu="indexState",BB=["indexId","uid"],kk="sequenceNumberIndex",$B=["uid","sequenceNumber"],uu="indexEntries",zB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nk="documentKeyIndex",WB=["indexId","uid","orderedDocumentKey"],Pm="documentOverlays",KB=["userId","collectionPath","documentId"],n0="collectionPathOverlayIndex",HB=["userId","collectionPath","largestBatchId"],Dk="collectionGroupOverlayIndex",GB=["userId","collectionGroup","largestBatchId"],k_="globals",qB="name",Mk=[qu,ar,yl,oo,vl,Od,Co,wl,_l,Qu,Yu,Cm,Am],QB=[...Mk,Pm],Vk=[qu,ar,yl,Ep,vl,Od,Co,wl,_l,Qu,Yu,Cm,Am,Pm],Ok=Vk,N_=[...Ok,R_,cu,uu],YB=N_,Lk=[...N_,k_],XB=Lk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends Ik{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function _t(t,e){const n=te(t);return _i.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AS(this.data.getIterator())}getIteratorFrom(e){return new AS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ne(this.comparator);return n.data=e,n}}class AS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ca(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Ne(qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fk("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const JB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(se(!!t,39018),typeof t=="string"){let e=0;const n=JB.exec(t);if(se(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="server_timestamp",Bk="__type__",$k="__previous_value__",zk="__local_write_time__";function D_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bk])===null||n===void 0?void 0:n.stringValue)===Uk}function Rm(t){const e=t.mapValue.fields[$k];return D_(e)?Rm(e):e}function Xu(t){const e=gs(t.mapValue.fields[zk].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Sp="(default)";class $o{constructor(e,n){this.projectId=e,this.database=n||Sp}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===Sp}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",Wk="__max__",oi={mapValue:{fields:{__type__:{stringValue:Wk}}}},V_="__vector__",xl="value",xf={nullValue:"NULL_VALUE"};function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D_(t)?4:Kk(t)?9007199254740991:km(t)?10:11:ee(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gs(s.timestampValue),a=gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ys(s.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ze(s.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ze(s.integerValue)===ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ze(s.doubleValue),a=ze(i.doubleValue);return o===a?Gu(o)===Gu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(CS(o)!==CS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Ju(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Ii(t,e){if(t===e)return 0;const n=Si(t),r=Si(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ze(i.integerValue||i.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return PS(t.timestampValue,e.timestampValue);case 4:return PS(Xu(t),Xu(e));case 5:return Jv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ys(i),l=ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ce(a[c],l[c]);if(d!==0)return d}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ce(ze(i.latitude),ze(o.latitude));return a!==0?a:ce(ze(i.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},f=o.fields||{},m=(a=h[xl])===null||a===void 0?void 0:a.arrayValue,w=(l=f[xl])===null||l===void 0?void 0:l.arrayValue,y=ce(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:RS(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===oi.mapValue&&o===oi.mapValue)return 0;if(i===oi.mapValue)return 1;if(o===oi.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Jv(l[h],d[h]);if(f!==0)return f;const m=Ii(a[l[h]],c[d[h]]);if(m!==0)return m}return ce(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{le:n})}}function PS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=gs(t),r=gs(e),s=ce(n.seconds,r.seconds);return s!==0?s:ce(n.nanos,r.nanos)}function RS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ii(n[s],r[s]);if(i)return i}return ce(n.length,r.length)}function El(t){return s0(t)}function s0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=s0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${s0(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Ef(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rm(t);return e?16+Ef(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ef(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Jo(r.fields,(i,o)=>{s+=i.length+Ef(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function O_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i0(t){return!!t&&"integerValue"in t}function Zu(t){return!!t&&"arrayValue"in t}function kS(t){return!!t&&"nullValue"in t}function NS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}function km(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[M_])===null||n===void 0?void 0:n.stringValue)===V_}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Kk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Wk}const Hk={mapValue:{fields:{[M_]:{stringValue:V_},[xl]:{arrayValue:{}}}}};function e$(t){return"nullValue"in t?xf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?O_($o.empty(),Y.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?km(t)?Hk:{mapValue:{}}:ee(35942,{value:t})}function t$(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?O_($o.empty(),Y.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Hk:"mapValue"in t?km(t)?{mapValue:{}}:oi:ee(61959,{value:t})}function DS(t,e){const n=Ii(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MS(t,e){const n=Ii(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=qe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=du(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Jo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(du(this.value))}}function Gk(t){const e=[];return Jo(t.fields,(n,r)=>{const s=new qe([n]);if(Tf(r)){const i=Gk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,oe.min(),oe.min(),oe.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new st(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new st(e,2,n,oe.min(),oe.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new st(e,3,n,oe.min(),oe.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.position=e,this.inclusive=n}}function VS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Ii(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function OS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n="asc"){this.field=e,this.dir=n}}function n$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qk=class{};class _e extends qk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r$(e,n,r):n==="array-contains"?new o$(e,r):n==="in"?new eN(e,r):n==="not-in"?new a$(e,r):n==="array-contains-any"?new l$(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s$(e,r):new i$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ii(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(Ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends qk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ve(e,n)}matches(e){return Sl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Sl(t){return t.op==="and"}function o0(t){return t.op==="or"}function L_(t){return Qk(t)&&Sl(t)}function Qk(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function a0(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+El(t.value);if(L_(t))return t.filters.map(e=>a0(e)).join(",");{const e=t.filters.map(n=>a0(n)).join(",");return`${t.op}(${e})`}}function Yk(t,e){return t instanceof _e?function(r,s){return s instanceof _e&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Yk(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function Xk(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function Jk(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(Jk).join(" ,")+"}"}(t):"Filter"}class r$ extends _e{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class s$ extends _e{constructor(e,n){super(e,"in",n),this.keys=Zk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i$ extends _e{constructor(e,n){super(e,"not-in",n),this.keys=Zk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class o$ extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zu(n)&&Ju(n.arrayValue,this.value)}}class eN extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class a$ extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class l$ extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function l0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new c$(t,e,n,r,s,i,o)}function zo(t){const e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>El(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>El(r)).join(",")),e.Pe=n}return e.Pe}function Ld(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OS(t.startAt,e.startAt)&&OS(t.endAt,e.endAt)}function bp(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Cp(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function LS(t,e,n){let r=xf,s=!0;for(const i of Cp(t,e)){let o=xf,a=!0;switch(i.op){case"<":case"<=":o=e$(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=xf}DS({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];DS({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function jS(t,e,n){let r=oi,s=!0;for(const i of Cp(t,e)){let o=oi,a=!0;switch(i.op){case">=":case">":o=t$(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=oi}MS({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];MS({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tN(t,e,n,r,s,i,o,a){return new Nm(t,e,n,r,s,i,o,a)}function Dm(t){return new Nm(t)}function FS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u$(t){return t.collectionGroup!==null}function hu(t){const e=te(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ne(qe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Ip(i,r))}),n.has(qe.keyField().canonicalString())||e.Te.push(new Ip(qe.keyField(),r))}return e.Te}function Rn(t){const e=te(t);return e.Ie||(e.Ie=d$(e,hu(t))),e.Ie}function d$(t,e){if(t.limitType==="F")return l0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ip(s.field,i)});const n=t.endAt?new Tl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tl(t.startAt.position,t.startAt.inclusive):null;return l0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c0(t,e,n){return new Nm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mm(t,e){return Ld(Rn(t),Rn(e))&&t.limitType===e.limitType}function nN(t){return`${zo(Rn(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Jk(s)).join(", ")}]`),bm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>El(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>El(s)).join(",")),`Target(${r})`}(Rn(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of hu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=VS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,hu(r),s)||r.endAt&&!function(o,a,l){const c=VS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,hu(r),s))}(t,e)}function rN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sN(t){return(e,n)=>{let r=!1;for(const s of hu(t)){const i=h$(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h$(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ii(l,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new je(Y.comparator);function Cn(){return f$}const iN=new je(Y.comparator);function Wc(...t){let e=iN;for(const n of t)e=e.insert(n.key,n);return e}function oN(t){let e=iN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pr(){return fu()}function aN(){return fu()}function fu(){return new bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const p$=new je(Y.comparator),m$=new Ne(Y.comparator);function me(...t){let e=m$;for(const n of t)e=e.add(n);return e}const g$=new Ne(ce);function j_(){return g$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function lN(t){return{integerValue:""+t}}function y$(t,e){return Ck(e)?lN(e):F_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this._=void 0}}function v$(t,e,n){return t instanceof ed?function(s,i){const o={fields:{[Bk]:{stringValue:Uk},[zk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&D_(i)&&(i=Rm(i)),i&&(o.fields[$k]=i),{mapValue:o}}(n,e):t instanceof Il?uN(t,e):t instanceof bl?dN(t,e):function(s,i){const o=cN(s,i),a=US(o)+US(s.Ee);return i0(o)&&i0(s.Ee)?lN(a):F_(s.serializer,a)}(t,e)}function w$(t,e,n){return t instanceof Il?uN(t,e):t instanceof bl?dN(t,e):n}function cN(t,e){return t instanceof td?function(r){return i0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ed extends Vm{}class Il extends Vm{constructor(e){super(),this.elements=e}}function uN(t,e){const n=hN(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class bl extends Vm{constructor(e){super(),this.elements=e}}function dN(t,e){let n=hN(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class td extends Vm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function US(t){return ze(t.integerValue||t.doubleValue)}function hN(t){return Zu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n){this.field=e,this.transform=n}}function x$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Il&&s instanceof Il||r instanceof bl&&s instanceof bl?ml(r.elements,s.elements,Fr):r instanceof td&&s instanceof td?Fr(r.Ee,s.Ee):r instanceof ed&&s instanceof ed}(t.transform,e.transform)}class E${constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Om=class{};function fN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new U_(t.key,An.none()):new ql(t.key,t.data,An.none());{const n=t.data,r=ln.empty();let s=new Ne(qe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ki(t.key,r,new Wn(s.toArray()),An.none())}}function T$(t,e,n){t instanceof ql?function(s,i,o){const a=s.value.clone(),l=$S(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(s,i,o){if(!Sf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=$S(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(pN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pu(t,e,n,r){return t instanceof ql?function(i,o,a,l){if(!Sf(i.precondition,o))return a;const c=i.value.clone(),d=zS(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(i,o,a,l){if(!Sf(i.precondition,o))return a;const c=zS(i.fieldTransforms,l,o),d=o.data;return d.setAll(pN(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Sf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cN(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function BS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ml(r,s,(i,o)=>x$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ql extends Om{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ki extends Om{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $S(t,e,n){const r=new Map;se(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,w$(o,a,n[s]))}return r}function zS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,v$(i,o,e))}return r}class U_ extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mN extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=fN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,r)=>BS(n,r))&&ml(this.baseMutations,e.baseMutations,(n,r)=>BS(n,r))}}class $_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){se(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return p$}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,xe;function b$(t){switch(t){case B.OK:return ee(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function gN(t){if(t===void 0)return at("GRPC error has no .code"),B.UNKNOWN;switch(t){case ft.OK:return B.OK;case ft.CANCELLED:return B.CANCELLED;case ft.UNKNOWN:return B.UNKNOWN;case ft.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ft.INTERNAL:return B.INTERNAL;case ft.UNAVAILABLE:return B.UNAVAILABLE;case ft.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ft.NOT_FOUND:return B.NOT_FOUND;case ft.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ft.ABORTED:return B.ABORTED;case ft.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ft.DATA_LOSS:return B.DATA_LOSS;default:return ee(39323,{code:t})}}(xe=ft||(ft={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=new wi([4294967295,4294967295],0);function WS(t){const e=wk().encode(t),n=new hk;return n.update(e),new Uint8Array(n.digest())}function KS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wi([n,r],0),new wi([s,i],0)]}class W_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kc(`Invalid padding: ${n}`);if(r<0)throw new Kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=wi.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(wi.fromNumber(r)));return s.compare(C$)===1&&(s=new wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=WS(e),[r,s]=KS(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new W_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=WS(e),[r,s]=KS(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fd(oe.min(),s,new je(ce),Cn(),me())}}class Ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ud(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class yN{constructor(e,n){this.targetId=e,this.De=n}}class vN{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class HS{constructor(){this.ve=0,this.Ce=GS(),this.Fe=ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=me(),n=me(),r=me();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new Ud(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=GS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class A${constructor(e){this.We=e,this.Ge=new Map,this.ze=Cn(),this.je=Oh(),this.Je=Oh(),this.He=new je(ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(bp(i))if(r===0){const o=new Y(i.path);this.Xe(n,o,st.newNoDocument(o,oe.min()))}else se(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof Fk)return Ti("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new W_(o,s,i)}catch(l){return Ti(l instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&bp(a.target)){const l=new Y(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,st.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=me();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new Fd(e,n,this.He,this.ze,r);return this.ze=Cn(),this.je=Oh(),this.Je=Oh(),this.He=new je(ce),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new HS,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ne(ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ne(ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new HS),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Oh(){return new je(Y.comparator)}function GS(){return new je(Y.comparator)}const P$={asc:"ASCENDING",desc:"DESCENDING"},R$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k$={and:"AND",or:"OR"};class N${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function u0(t,e){return t.useProto3Json||bm(e)?e:{value:e}}function Cl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D$(t,e){return Cl(t,e.toTimestamp())}function tn(t){return se(!!t,49232),oe.fromTimestamp(function(n){const r=gs(n);return new Re(r.seconds,r.nanos)}(t))}function K_(t,e){return d0(t,e).canonicalString()}function d0(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _N(t){const e=Me.fromString(t);return se(PN(e),10190,{key:e.toString()}),e}function Ap(t,e){return K_(t.databaseId,e.path)}function Ao(t,e){const n=_N(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(TN(n))}function xN(t,e){return K_(t.databaseId,e)}function EN(t){const e=_N(t);return e.length===4?Me.emptyPath():TN(e)}function h0(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TN(t){return se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qS(t,e,n){return{name:Ap(t,e),fields:n.value.mapValue.fields}}function M$(t,e,n){const r=Ao(t,e.name),s=tn(e.updateTime),i=e.createTime?tn(e.createTime):oe.min(),o=new ln({mapValue:{fields:e.fields}}),a=st.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function V$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(se(d===void 0||typeof d=="string",58123),ct.fromBase64String(d||"")):(se(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ct.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:gN(c.code);return new X(d,c.message||"")}(o);n=new vN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ao(t,r.document.name),i=tn(r.document.updateTime),o=r.document.createTime?tn(r.document.createTime):oe.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=st.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new If(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ao(t,r.document),i=r.readTime?tn(r.readTime):oe.min(),o=st.newNoDocument(s,i),a=r.removedTargetIds||[];n=new If([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ao(t,r.document),i=r.removedTargetIds||[];n=new If([],i,s,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new I$(s,i),a=r.targetId;n=new yN(a,o)}}return n}function Pp(t,e){let n;if(e instanceof ql)n={update:qS(t,e.key,e.value)};else if(e instanceof U_)n={delete:Ap(t,e.key)};else if(e instanceof Ki)n={update:qS(t,e.key,e.data),updateMask:B$(e.fieldMask)};else{if(!(e instanceof mN))return ee(16599,{Rt:e.type});n={verify:Ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ed)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof td)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:D$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function f0(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?An.updateTime(tn(i.updateTime)):i.exists!==void 0?An.exists(i.exists):An.none()}(e.currentDocument):An.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)se(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new ed;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new Il(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new bl(d)}else"increment"in a?l=new td(o,a.increment):ee(16584,{proto:a});const c=qe.fromServerFormat(a.fieldPath);return new _$(c,l)}(t,s)):[];if(e.update){e.update.name;const s=Ao(t,e.update.name),i=new ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Wn(c.map(d=>qe.fromServerFormat(d)))}(e.updateMask);return new Ki(s,i,o,n,r)}return new ql(s,i,n,r)}if(e.delete){const s=Ao(t,e.delete);return new U_(s,n)}if(e.verify){const s=Ao(t,e.verify);return new mN(s,n)}return ee(1463,{proto:e})}function O$(t,e){return t&&t.length>0?(se(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?tn(s.updateTime):tn(i);return o.isEqual(oe.min())&&(o=tn(i)),new E$(o,s.transformResults||[])}(n,e))):[]}function SN(t,e){return{documents:[xN(t,e.path)]}}function IN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xN(t,s);const i=function(c){if(c.length!==0)return AN(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:wa(f.field),direction:j$(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=u0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function bN(t){let e=EN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){se(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=CN(h);return f instanceof Ve&&L_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Ip(_a(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,bm(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Tl(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new Tl(m,f)}(n.endAt)),tN(e,s,o,i,a,"F",l,c)}function L$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_a(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_a(n.unaryFilter.field);return _e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_a(n.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_a(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return _e.create(_a(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(r=>CN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function j$(t){return P$[t]}function F$(t){return R$[t]}function U$(t){return k$[t]}function wa(t){return{fieldPath:t.canonicalString()}}function _a(t){return qe.fromServerFormat(t.fieldPath)}function AN(t){return t instanceof _e?function(n){if(n.op==="=="){if(NS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(kS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(kS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:F$(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(s=>AN(s));return r.length===1?r[0]:{compositeFilter:{op:U$(n.op),filters:r}}}(t):ee(54877,{filter:t})}function B$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.gt=e}}function $$(t,e){let n;if(e.document)n=M$(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Y.fromSegments(e.noDocument.path),s=Ko(e.noDocument.readTime);n=st.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee(56709);{const r=Y.fromSegments(e.unknownDocument.path),s=Ko(e.unknownDocument.version);n=st.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Re(s[0],s[1]);return oe.fromTimestamp(i)}(e.readTime)),n}function QS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Ap(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Cl(i,o.version.toTimestamp()),createTime:Cl(i,o.createTime.toTimestamp())}}(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wo(e.version)};else{if(!e.isUnknownDocument())return ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Wo(e.version)}}return r}function Rp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ko(t){const e=new Re(t.seconds,t.nanoseconds);return oe.fromTimestamp(e)}function co(t,e){const n=(e.baseMutations||[]).map(i=>f0(t.gt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>f0(t.gt,i)),s=Re.fromMillis(e.localWriteTimeMs);return new B_(e.batchId,s,n,r)}function Hc(t){const e=Ko(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ko(t.lastLimboFreeSnapshotVersion):oe.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return se(o===1,1966,{count:o}),Rn(Dm(EN(i.documents[0])))}(t.query):function(i){return Rn(bN(i))}(t.query),new os(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ct.fromBase64String(t.resumeToken))}function kN(t,e){const n=Wo(e.snapshotVersion),r=Wo(e.lastLimboFreeSnapshotVersion);let s;s=bp(e.target)?SN(t.gt,e.target):IN(t.gt,e.target).Vt;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zo(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function NN(t){const e=bN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?c0(e,e.limit,"L"):e}function uy(t,e){return new z_(e.largestBatchId,f0(t.gt,e.overlayMutation))}function YS(t,e){const n=e.path.lastSegment();return[t,Ht(e.path.popLast()),n]}function XS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Wo(r.readTime),documentKey:Ht(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${getBundleMetadata(e,n){return JS(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Ko(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return JS(e).put(function(s){return{bundleId:s.id,createTime:Wo(tn(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return ZS(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:NN(i.bundledQuery),readTime:Ko(i.readTime)}}(r)})}saveNamedQuery(e,n){return ZS(e).put(function(s){return{name:s.name,readTime:Wo(tn(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function JS(t){return _t(t,Cm)}function ZS(t){return _t(t,Am)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new Lm(e,r)}getOverlay(e,n){return Pc(e).get(YS(this.userId,n)).next(r=>r?uy(this.serializer,r):null)}getOverlays(e,n){const r=Pr();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new z_(n,o);s.push(this.wt(e,a))}),O.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Ht(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Pc(e).Y(n0,a))}),O.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Pr(),i=Ht(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pc(e).j(n0,o).next(a=>{for(const l of a){const c=uy(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Pr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Pc(e).X({index:Dk,range:a},(l,c,d)=>{const h=uy(this.serializer,c);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>i)}wt(e,n){return Pc(e).put(function(s,i,o){const[a,l,c]=YS(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Pp(s.gt,o.mutation)}}(this.serializer,this.userId,n))}}function Pc(t){return _t(t,Pm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${St(e){return _t(e,k_)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?ct.fromUint8Array(r):ct.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Gu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=gs(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(ys(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?Kk(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):km(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):ee(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const s of Object.keys(r))this.xt(s,n),this.Dt(r[s],n)}Lt(e,n){var r,s;const i=e.fields||{};this.Ct(n,53);const o=xl,a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(n,15),n.Ft(ze(a)),this.xt(o,n),this.Dt(i[o],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const s of r)this.Dt(s,n)}Bt(e,n){this.Ct(n,37),Y.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}uo.Ut=new uo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=255;function K$(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function eI(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=K$(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class H${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const s=n.codePointAt(0);this.Wt(240|s>>>18),this.Wt(128|63&s>>>12),this.Wt(128|63&s>>>6),this.Wt(128|63&s)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const s=n.codePointAt(0);this.jt(240|s>>>18),this.jt(128|63&s>>>12),this.jt(128|63&s>>>6),this.jt(128|63&s)}}this.Jt()}Zt(e){const n=this.Xt(e),r=eI(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}tn(e){const n=this.Xt(e),r=eI(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}nn(){this.rn(ua),this.rn(255)}sn(){this._n(ua),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===ua?(this.rn(ua),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===ua?(this._n(ua),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class G${constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class q${constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class Rc{constructor(){this.un=new H$,this.cn=new G$(this.un),this.ln=new q$(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,s){this.Pn=e,this.Tn=n,this.In=r,this.dn=s}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ho(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:bf(this.In),directionalValue:bf(this.dn),orderedDocumentKey:bf(n),documentKey:r.path.toArray()}}Rn(e,n,r){const s=this.An(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Os(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=tI(t.In,e.In),n!==0?n:(n=tI(t.dn,e.dn),n!==0?n:Y.comparator(t.Tn,e.Tn)))}function tI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function bf(t){return bR()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function nI(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class rI{constructor(e){this.Vn=new Ne((n,r)=>qe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(se(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=Zv(e);if(n!==void 0&&!this.yn(n))return!1;const r=io(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.yn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.wn(a,l)||!this.Sn(this.mn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.mn.length||!this.Sn(this.mn[o++],a))return!1}return!0}bn(){if(this.gn)return null;let e=new Ne(qe.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new vf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new vf(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new vf(r.field,r.dir==="asc"?0:1)));return new _p(_p.UNKNOWN_ID,this.collectionId,n,Hu.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){var e,n;if(se(t instanceof _e||t instanceof Ve,20012),t instanceof _e){if(t instanceof eN){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>_e.create(t.field,"==",i)))||[];return Ve.create(s,"or")}return t}const r=t.filters.map(s=>DN(s));return Ve.create(r,t.op)}function Q$(t){if(t.getFilters().length===0)return[];const e=g0(DN(t));return se(MN(e),7391),p0(e)||m0(e)?[e]:e.getFilters()}function p0(t){return t instanceof _e}function m0(t){return t instanceof Ve&&L_(t)}function MN(t){return p0(t)||m0(t)||function(n){if(n instanceof Ve&&o0(n)){for(const r of n.getFilters())if(!p0(r)&&!m0(r))return!1;return!0}return!1}(t)}function g0(t){if(se(t instanceof _e||t instanceof Ve,34018),t instanceof _e)return t;if(t.filters.length===1)return g0(t.filters[0]);const e=t.filters.map(r=>g0(r));let n=Ve.create(e,t.op);return n=kp(n),MN(n)?n:(se(n instanceof Ve,64498),se(Sl(n),40251),se(n.filters.length>1,57927),n.filters.reduce((r,s)=>H_(r,s)))}function H_(t,e){let n;return se(t instanceof _e||t instanceof Ve,38388),se(e instanceof _e||e instanceof Ve,25473),n=t instanceof _e?e instanceof _e?function(s,i){return Ve.create([s,i],"and")}(t,e):sI(t,e):e instanceof _e?sI(e,t):function(s,i){if(se(s.filters.length>0&&i.filters.length>0,48005),Sl(s)&&Sl(i))return Xk(s,i.getFilters());const o=o0(s)?s:i,a=o0(s)?i:s,l=o.filters.map(c=>H_(c,a));return Ve.create(l,"or")}(t,e),kp(n)}function sI(t,e){if(Sl(e))return Xk(e,t.getFilters());{const n=e.filters.map(r=>H_(t,r));return Ve.create(n,"or")}}function kp(t){if(se(t instanceof _e||t instanceof Ve,11850),t instanceof _e)return t;const e=t.getFilters();if(e.length===1)return kp(e[0]);if(Qk(t))return t;const n=e.map(s=>kp(s)),r=[];return n.forEach(s=>{s instanceof _e?r.push(s):s instanceof Ve&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this.Dn=new G_}addToCollectionParentIndex(e,n){return this.Dn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Mn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class G_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ne(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ne(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="IndexedDbIndexManager",Lh=new Uint8Array(0);class X${constructor(e,n){this.databaseId=n,this.vn=new G_,this.Cn=new bs(r=>zo(r),(r,s)=>Ld(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:r,parent:Ht(s)};return oI(e).put(i)}return O.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[_k(n),""],!1,!0);return oI(e).j(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Ar(o.parent))}return r})}addFieldIndex(e,n){const r=kc(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=ha(e);return i.next(a=>{o.put(XS(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=kc(e),s=ha(e),i=da(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=kc(e),r=da(e),s=ha(e);return n.Y().next(()=>r.Y()).next(()=>s.Y())}createTargetIndexes(e,n){return O.forEach(this.Fn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new rI(r).bn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=da(e);let s=!0;const i=new Map;return O.forEach(this.Fn(n),o=>this.Mn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=me();const a=[];return O.forEach(i,(l,c)=>{z(iI,`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(l)} to execute ${zo(n)}`);const d=function(T,A){const k=Zv(A);if(k===void 0)return null;for(const V of Cp(T,k.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null}(c,l),h=function(T,A){const k=new Map;for(const V of io(A))for(const b of Cp(T,V.fieldPath))switch(b.op){case"==":case"in":k.set(V.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return k.set(V.fieldPath.canonicalString(),b.value),Array.from(k.values())}return null}(c,l),f=function(T,A){const k=[];let V=!0;for(const b of io(A)){const I=b.kind===0?LS(T,b.fieldPath,T.startAt):jS(T,b.fieldPath,T.startAt);k.push(I.value),V&&(V=I.inclusive)}return new Tl(k,V)}(c,l),m=function(T,A){const k=[];let V=!0;for(const b of io(A)){const I=b.kind===0?jS(T,b.fieldPath,T.endAt):LS(T,b.fieldPath,T.endAt);k.push(I.value),V&&(V=I.inclusive)}return new Tl(k,V)}(c,l),w=this.xn(l,c,f),y=this.xn(l,c,m),S=this.On(l,c,h),_=this.Nn(l.indexId,d,w,f.inclusive,y,m.inclusive,S);return O.forEach(_,x=>r.H(x,n.limit).next(T=>{T.forEach(A=>{const k=Y.fromSegments(A.documentKey);o.has(k)||(o=o.add(k),a.push(k))})}))}).next(()=>a)}return O.resolve(null)})}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=Q$(Ve.create(e.filters,"and")).map(r=>l0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}Nn(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Bn(n[h/c]):Lh,m=this.Ln(e,f,r[h%c],s),w=this.kn(e,f,i[h%c],o),y=a.map(S=>this.Ln(e,f,S,!0));d.push(...this.createRange(m,w,y))}return d}Ln(e,n,r,s){const i=new ho(e,Y.empty(),n,r);return s?i:i.En()}kn(e,n,r,s){const i=new ho(e,Y.empty(),n,r);return s?i.En():i}Mn(e,n){const r=new rI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.pn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Fn(n);return O.forEach(s,i=>this.Mn(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Ne(qe.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}qn(e,n){const r=new Rc;for(const s of io(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.hn(s.kind);uo.Ut.bt(i,o)}return r.an()}Bn(e){const n=new Rc;return uo.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new Rc;return uo.Ut.bt(O_(this.databaseId,n),r.hn(function(i){const o=io(i);return o.length===0?0:o[o.length-1].kind}(e))),r.an()}On(e,n,r){if(r===null)return[];let s=[];s.push(new Rc);let i=0;for(const o of io(e)){const a=r[i++];for(const l of s)if(this.$n(n,o.fieldPath)&&Zu(a))s=this.Un(s,o,a);else{const c=l.hn(o.kind);uo.Ut.bt(a,c)}}return this.Kn(s)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new Rc;l.seed(a.an()),uo.Ut.bt(o,l.hn(n.kind)),i.push(l)}return i}$n(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=kc(e),s=ha(e);return(n?r.j(t0,IDBKeyRange.bound(n,n)):r.j()).next(i=>{const o=[];return O.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new Hu(h.sequenceNumber,new Mn(Ko(h.readTime),new Y(Ar(h.documentKey)),h.largestBatchId)):Hu.empty(),m=d.fields.map(([w,y])=>new vf(qe.fromServerFormat(w),y));return new _p(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ce(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=kc(e),i=ha(e);return this.Wn(e).next(o=>s.j(t0,IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,l=>i.put(XS(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?O.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),O.forEach(a,l=>this.Gn(e,s,l).next(c=>{const d=this.zn(i,l);return c.isEqual(d)?O.resolve():this.jn(e,i,l,c,d)}))))})}Jn(e,n,r,s){return da(e).put(s.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,s){return da(e).delete(s.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const s=da(e);let i=new Ne(Os);return s.X({index:Nk,range:IDBKeyRange.only([r.indexId,this.uid,bf(this.Qn(r,n))])},(o,a)=>{i=i.add(new ho(r.indexId,n,nI(a.arrayValue),nI(a.directionalValue)))}).next(()=>i)}zn(e,n){let r=new Ne(Os);const s=this.qn(n,e);if(s==null)return r;const i=Zv(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Zu(o))for(const a of o.arrayValue.values||[])r=r.add(new ho(n.indexId,e.key,this.Bn(a),s))}else r=r.add(new ho(n.indexId,e.key,Lh,s));return r}jn(e,n,r,s,i){z(iI,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,h,f){const m=l.getIterator(),w=c.getIterator();let y=ca(m),S=ca(w);for(;y||S;){let _=!1,x=!1;if(y&&S){const T=d(y,S);T<0?x=!0:T>0&&(_=!0)}else y!=null?x=!0:_=!0;_?(h(S),S=ca(w)):x?(f(y),y=ca(m)):(y=ca(m),S=ca(w))}}(s,i,Os,a=>{o.push(this.Jn(e,n,r,a))},a=>{o.push(this.Hn(e,n,r,a))}),O.waitFor(o)}Wn(e){let n=1;return ha(e).X({index:kk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Os(o,a)).filter((o,a,l)=>!a||Os(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Os(o,e),l=Os(o,n);if(a===0)s[0]=e.En();else if(a>0&&l<0)s.push(o),s.push(o.En());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Yn(s[o],s[o+1]))return[];const a=s[o].Rn(this.uid,Lh,Y.empty()),l=s[o+1].Rn(this.uid,Lh,Y.empty());i.push(IDBKeyRange.bound(a,l))}return i}Yn(e,n){return Os(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(aI)}getMinOffset(e,n){return O.mapArray(this.Fn(n),r=>this.Mn(e,r).next(s=>s||ee(44426))).next(aI)}}function oI(t){return _t(t,Yu)}function da(t){return _t(t,uu)}function kc(t){return _t(t,R_)}function ha(t){return _t(t,cu)}function aI(t){se(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;C_(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Mn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VN=41943040;class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e,n){const r=t.store(ar),s=t.store(yl),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(d,h,f)=>(a++,f.delete()));i.push(l.next(()=>{se(a===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=Ak(e,d.key.path,n.batchId);i.push(s.delete(h)),c.push(d.key)}return O.waitFor(i).next(()=>c)}function Np(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(VN,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);class jm{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static yt(e,n,r,s){se(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new jm(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ls(e).X({index:yo,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=xa(e),o=Ls(e);return o.add({}).next(a=>{se(typeof a=="number",49019);const l=new B_(a,n,r,s),c=function(m,w,y){const S=y.baseMutations.map(x=>Pp(m.gt,x)),_=y.mutations.map(x=>Pp(m.gt,x));return{userId:w,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:S,mutations:_}}(this.serializer,this.userId,l),d=[];let h=new Ne((f,m)=>ce(f.canonicalString(),m.canonicalString()));for(const f of s){const m=Ak(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(i.put(m,AB))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),O.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Ls(e).get(n).next(r=>r?(se(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),co(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?O.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Zn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ls(e).X({index:yo,range:s},(o,a,l)=>{a.userId===this.userId&&(se(a.batchId>=r,47524,{er:r}),i=co(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=bo;return Ls(e).X({index:yo,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,bo],[this.userId,Number.POSITIVE_INFINITY]);return Ls(e).j(yo,n).next(r=>r.map(s=>co(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wf(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return xa(e).X({range:s},(o,a,l)=>{const[c,d,h]=o,f=Ar(d);if(c===this.userId&&n.path.isEqual(f))return Ls(e).get(h).next(m=>{if(!m)throw ee(61480,{tr:o,batchId:h});se(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),i.push(co(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ce);const s=[];return n.forEach(i=>{const o=wf(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=xa(e).X({range:a},(c,d,h)=>{const[f,m,w]=c,y=Ar(m);f===this.userId&&i.path.isEqual(y)?r=r.add(w):h.done()});s.push(l)}),O.waitFor(s).next(()=>this.nr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=wf(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Ne(ce);return xa(e).X({range:o},(l,c,d)=>{const[h,f,m]=l,w=Ar(f);h===this.userId&&r.isPrefixOf(w)?w.length===s&&(a=a.add(m)):d.done()}).next(()=>this.nr(e,a))}nr(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Ls(e).get(i).next(o=>{if(o===null)throw ee(35274,{batchId:i});se(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(co(this.serializer,o))}))}),O.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return ON(e.ce,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.rr(n.batchId)}),O.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return xa(e).X({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Ar(i[1]);s.push(l)}else a.done()}).next(()=>{se(s.length===0,56720,{ir:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return LN(e,this.userId,n)}sr(e){return jN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:bo,lastStreamToken:""})}}function LN(t,e,n){const r=wf(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return xa(t).X({range:i,Z:!0},(a,l,c)=>{const[d,h,f]=a;d===e&&h===s&&(o=!0),c.done()}).next(()=>o)}function Ls(t){return _t(t,ar)}function xa(t){return _t(t,yl)}function jN(t){return _t(t,qu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ho(0)}static ur(){return new Ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next(n=>{const r=new Ho(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(n=>oe.fromTimestamp(new Re(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.cr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.lr(e,s)))}addTargetData(e,n){return this.hr(e,n).next(()=>this.cr(e).next(r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>fa(e).delete(n.targetId)).next(()=>this.cr(e)).next(r=>(se(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return fa(e).X((o,a)=>{const l=Hc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>O.waitFor(i)).next(()=>s)}forEachTarget(e,n){return fa(e).X((r,s)=>{const i=Hc(s);n(i)})}cr(e){return cI(e).get(Tp).next(n=>(se(n!==null,2888),n))}lr(e,n){return cI(e).put(Tp,n)}hr(e,n){return fa(e).put(kN(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=zo(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return fa(e).X({range:s,index:Rk},(o,a,l)=>{const c=Hc(a);Ld(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Xs(e);return n.forEach(o=>{const a=Ht(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),O.waitFor(s)}removeMatchingKeys(e,n,r){const s=Xs(e);return O.forEach(n,i=>{const o=Ht(i.path);return O.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Xs(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Xs(e);let i=me();return s.X({range:r,Z:!0},(o,a,l)=>{const c=Ar(o[1]),d=new Y(c);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=Ht(n.path),s=IDBKeyRange.bound([r],[_k(r)],!1,!0);let i=0;return Xs(e).X({index:P_,Z:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}Et(e,n){return fa(e).get(n).next(r=>r?Hc(r):null)}}function fa(t){return _t(t,vl)}function cI(t){return _t(t,Co)}function Xs(t){return _t(t,wl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="LruGarbageCollector",FN=1048576;function dI([t,e],[n,r]){const s=ce(t,n);return s===0?ce(e,r):s}class Z${constructor(e){this.Tr=e,this.buffer=new Ne(dI),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(uI,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wi(n)?z(uI,"Ignoring IndexedDB error during garbage collection: ",n):await zi(n)}await this.Rr(3e5)})}}class e9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(hn.ue);const r=new Z$(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(lI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lI):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ya()<=we.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function BN(t,e){return new e9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n){this.db=e,this.garbageCollector=BN(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,(r,s)=>n(s))}addReference(e,n,r){return jh(e,r)}removeReference(e,n,r){return jh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return jh(e,n)}Sr(e,n){return function(s,i){let o=!1;return jN(s).ee(a=>LN(s,a,i).next(l=>(l&&(o=!0),O.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.wr(e,(o,a)=>{if(a<=n){const l=this.Sr(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,oe.min()),Xs(e).delete(function(h){return[0,Ht(h.path)]}(o))))});s.push(l)}}).next(()=>O.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return jh(e,n)}wr(e,n){const r=Xs(e);let s,i=hn.ue;return r.X({index:P_},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==hn.ue&&n(new Y(Ar(s)),i),i=c,s=l):i=hn.ue}).next(()=>{i!==hn.ue&&n(new Y(Ar(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jh(t,e){return Xs(t).put(function(r,s){return{targetId:0,path:Ht(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return eo(e).put(r)}removeEntry(e,n,r){return eo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Rp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=st.newInvalidDocument(n);return eo(e).X({index:_f,range:IDBKeyRange.only(Nc(n))},(s,i)=>{r=this.Dr(n,i)}).next(()=>r)}vr(e,n){let r={size:0,document:st.newInvalidDocument(n)};return eo(e).X({index:_f,range:IDBKeyRange.only(Nc(n))},(s,i)=>{r={document:this.Dr(n,i),size:Np(i)}}).next(()=>r)}getEntries(e,n){let r=Cn();return this.Cr(e,n,(s,i)=>{const o=this.Dr(s,i);r=r.insert(s,o)}).next(()=>r)}Fr(e,n){let r=Cn(),s=new je(Y.comparator);return this.Cr(e,n,(i,o)=>{const a=this.Dr(i,o);r=r.insert(i,a),s=s.insert(i,Np(o))}).next(()=>({documents:r,Mr:s}))}Cr(e,n,r){if(n.isEmpty())return O.resolve();let s=new Ne(pI);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(Nc(s.first()),Nc(s.last())),o=s.getIterator();let a=o.getNext();return eo(e).X({index:_f,range:i},(l,c,d)=>{const h=Y.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&pI(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.G(Nc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Rp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eo(e).j(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let d=Cn();for(const h of c){const f=this.Dr(Y.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(jd(n,f)||s.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=Cn();const o=fI(n,r),a=fI(n,Mn.max());return eo(e).X({index:Pk,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const h=this.Dr(Y.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(h.key,h),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new r9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hI(e).get(e0).next(n=>(se(!!n,20021),n))}br(e,n){return hI(e).put(e0,n)}Dr(e,n){if(n){const r=$$(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(oe.min())))return r}return st.newInvalidDocument(e)}}function zN(t){return new n9(t)}class r9 extends $N{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new bs(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Ne((i,o)=>ce(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Nr.get(i);if(n.push(this.Or.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=QS(this.Or.serializer,o);s=s.add(i.path.popLast());const c=Np(l);r+=c-a.size,n.push(this.Or.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=QS(this.Or.serializer,o.convertToNoDocument(oe.min()));n.push(this.Or.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Or.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next(r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Or.Fr(e,n).next(({documents:r,Mr:s})=>(s.forEach((i,o)=>{this.Nr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function hI(t){return _t(t,Qu)}function eo(t){return _t(t,Ep)}function Nc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fI(t,e){const n=e.documentKey.path.toArray();return[t,Rp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pI(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ce(n[i],r[i]),s)return s;return s=ce(n.length,r.length),s||(s=ce(n[n.length-2],r[r.length-2]),s||ce(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&pu(r.mutation,s,Wn.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Pr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Cn();const o=fu(),a=function(){return fu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Ki)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),pu(d.mutation,c,d.mutation.getFieldMask(),Re.now())):o.set(c.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new s9(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fu();let s=new je((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Wn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=aN();d.forEach(f=>{if(!i.has(f)){const m=fN(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Pr());let a=gl,l=i;return o.next(c=>O.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,me())).next(d=>({batchId:a,changes:oN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wc();return this.indexManager.getCollectionParents(e,i).next(a=>O.forEach(a,l=>{const c=function(h,f){return new Nm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,st.newInvalidDocument(d)))});let a=Wc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&pu(d.mutation,c,Wn.empty(),Re.now()),jd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return O.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:tn(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:NN(s.bundledQuery),readTime:tn(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.overlays=new je(Y.comparator),this.kr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pr();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Pr(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Pr(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Pr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return O.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new z_(n,r));let i=this.kr.get(n);i===void 0&&(i=me(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.qr=new Ne(xt.Qr),this.$r=new Ne(xt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new xt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Y(new Me([])),r=new xt(n,e),s=new xt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Y(new Me([])),r=new xt(n,e),s=new xt(n,e+1);let i=me();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new xt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Y.comparator(e.key,n.key)||ce(e.Hr,n.Hr)}static Ur(e,n){return ce(e.Hr,n.Hr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ne(xt.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B_(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?bo:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ce);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new xt(new Y(i),0);let a=new Ne(ce);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),O.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){se(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new xt(n,0),s=this.Yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.ni=e,this.docs=function(){return new je(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():st.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cn();const o=n.path,a=new Y(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C_(Tk(d),r)<=0||(s.has(d.key)||jd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ri(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new u9(this)}getSize(e){return O.resolve(this.size)}}class u9 extends $N{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.persistence=e,this.ii=new bs(n=>zo(n),Ld),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.si=0,this.oi=new q_,this.targetCount=0,this._i=Ho.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),O.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.hr(n),O.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.ai={},this.overlays={},this.ui=new hn(0),this.ci=!1,this.ci=!0,this.li=new a9,this.referenceDelegate=e(this),this.hi=new d9(this),this.indexManager=new Y$,this.remoteDocumentCache=function(s){return new c9(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new RN(n),this.Ti=new i9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new l9(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const s=new h9(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class h9 extends Ik{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ai=new q_,this.Ri=null}static Vi(e){return new Fm(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{const s=Y.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return O.or([()=>O.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Dp{constructor(e,n){this.persistence=e,this.gi=new bs(r=>Ht(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=BN(this,n)}static Vi(e,n){return new Dp(e,n)}Ii(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return O.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?O.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ef(e.data.value)),n}Sr(e,n,r){return O.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return O.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.serializer=e}q(e,n,r,s){const i=new Im("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore(Od)}(e),function(l){l.createObjectStore(qu,{keyPath:CB}),l.createObjectStore(ar,{keyPath:IS,autoIncrement:!0}).createIndex(yo,bS,{unique:!0}),l.createObjectStore(yl)}(e),mI(e),function(l){l.createObjectStore(oo)}(e));let o=O.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore(wl),l.deleteObjectStore(vl),l.deleteObjectStore(Co)}(e),mI(e)),o=o.next(()=>function(l){const c=l.store(Co),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oe.min().toTimestamp(),targetCount:0};return c.put(Tp,d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(ar).j().next(h=>{l.deleteObjectStore(ar),l.createObjectStore(ar,{keyPath:IS,autoIncrement:!0}).createIndex(yo,bS,{unique:!0});const f=c.store(ar),m=h.map(w=>f.put(w));return O.waitFor(m)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore(_l,{keyPath:OB})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.pi(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Qu)}(e),this.yi(i)))),r<7&&s>=7&&(o=o.next(()=>this.wi(i))),r<8&&s>=8&&(o=o.next(()=>this.Si(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.bi(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(Cm,{keyPath:LB})})(e),function(l){l.createObjectStore(Am,{keyPath:jB})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(Pm,{keyPath:KB});c.createIndex(n0,HB,{unique:!1}),c.createIndex(Dk,GB,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(Ep,{keyPath:PB});c.createIndex(_f,RB),c.createIndex(Pk,kB)}(e)).next(()=>this.Di(e,i)).next(()=>e.deleteObjectStore(oo))),r<14&&s>=14&&(o=o.next(()=>this.Ci(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore(R_,{keyPath:FB,autoIncrement:!0}).createIndex(t0,UB,{unique:!1}),l.createObjectStore(cu,{keyPath:BB}).createIndex(kk,$B,{unique:!1}),l.createObjectStore(uu,{keyPath:zB}).createIndex(Nk,WB,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(cu).clear()}).next(()=>{n.objectStore(uu).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(k_,{keyPath:qB})})(e)})),r<18&&s>=18&&bR()&&(o=o.next(()=>{n.objectStore(cu).clear()}).next(()=>{n.objectStore(uu).clear()})),o}yi(e){let n=0;return e.store(oo).X((r,s)=>{n+=Np(s)}).next(()=>{const r={byteSize:n};return e.store(Qu).put(e0,r)})}pi(e){const n=e.store(qu),r=e.store(ar);return n.j().next(s=>O.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,bo],[i.userId,i.lastAcknowledgedBatchId]);return r.j(yo,o).next(a=>O.forEach(a,l=>{se(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=co(this.serializer,l);return ON(e,i.userId,c).next(()=>{})}))}))}wi(e){const n=e.store(wl),r=e.store(oo);return e.store(Co).get(Tp).next(s=>{const i=[];return r.X((o,a)=>{const l=new Me(o),c=function(h){return[0,Ht(h)]}(l);i.push(n.get(c).next(d=>d?O.resolve():(h=>n.put({targetId:0,path:Ht(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>O.waitFor(i))})}Si(e,n){e.createObjectStore(Yu,{keyPath:VB});const r=n.store(Yu),s=new G_,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Ht(l)})}};return n.store(oo).X({Z:!0},(o,a)=>{const l=new Me(o);return i(l.popLast())}).next(()=>n.store(yl).X({Z:!0},([o,a,l],c)=>{const d=Ar(a);return i(d.popLast())}))}bi(e){const n=e.store(vl);return n.X((r,s)=>{const i=Hc(s),o=kN(this.serializer,i);return n.put(o)})}Di(e,n){const r=n.store(oo),s=[];return r.X((i,o)=>{const a=n.store(Ep),l=function(h){return h.document?new Y(Me.fromString(h.document.name).popFirst(5)):h.noDocument?Y.fromSegments(h.noDocument.path):h.unknownDocument?Y.fromSegments(h.unknownDocument.path):ee(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>O.waitFor(s))}Ci(e,n){const r=n.store(ar),s=zN(this.serializer),i=new Q_(Fm.Vi,this.serializer.gt);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:me();co(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),O.forEach(a,(l,c)=>{const d=new $t(c),h=Lm.yt(this.serializer,d),f=i.getIndexManager(d),m=jm.yt(d,this.serializer,f,i.referenceDelegate);return new WN(s,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new r0(n,hn.ue),l).next()})})}}function mI(t){t.createObjectStore(wl,{keyPath:DB}).createIndex(P_,MB,{unique:!0}),t.createObjectStore(vl,{keyPath:"targetId"}).createIndex(Rk,NB,{unique:!0}),t.createObjectStore(Co)}const js="IndexedDbPersistence",dy=18e5,hy=5e3,fy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",p9="main";class Y_{constructor(e,n,r,s,i,o,a,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=i,this.window=o,this.document=a,this.Mi=c,this.xi=d,this.Oi=h,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=f=>Promise.resolve(),!Y_.C())throw new X(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new t9(this,s),this.Qi=n+p9,this.serializer=new RN(l),this.$i=new _i(this.Qi,this.Oi,new f9(this.serializer)),this.li=new W$,this.hi=new J$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zN(this.serializer),this.Ti=new z$,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&at(js,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(B.FAILED_PRECONDITION,fy);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new hn(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Yi(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(Wi(e))return z(js,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z(js,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return Dc(e).get(la).next(n=>O.resolve(this.Xi(n)))}es(e){return Fh(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,dy)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=_t(n,_l);return r.j().next(s=>{const i=this.rs(s,dy),o=s.filter(a=>i.indexOf(a)===-1);return O.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?O.resolve(!0):Dc(e).get(la).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,hy)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new X(B.FAILED_PRECONDITION,fy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fh(e).j().next(r=>this.rs(r,hy).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z(js,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[Od,_l],e=>{const n=new r0(e,hn.ue);return this.Yi(n).next(()=>this.es(n))}),this.$i.close(),this.hs()}rs(e,n){return e.filter(r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>Fh(e).j().next(n=>this.rs(n,dy).map(r=>r.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return jm.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new X$(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return Lm.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){z(js,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===18?XB:l===17?Lk:l===16?YB:l===15?N_:l===14?Ok:l===13?Vk:l===12?QB:l===11?Mk:void ee(60245)}(this.Oi);let o;return this.$i.runTransaction(e,s,i,a=>(o=new r0(a,this.ui?this.ui.next():hn.ue),n==="readwrite-primary"?this.Ji(o).next(l=>!!l||this.Hi(o)).next(l=>{if(!l)throw at(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new X(B.FAILED_PRECONDITION,Sk);return r(o)}).next(l=>this.Zi(o).next(()=>l)):this.Ts(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ts(e){return Dc(e).get(la).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,hy)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new X(B.FAILED_PRECONDITION,fy)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dc(e).put(la,n)}static C(){return _i.C()}Yi(e){const n=Dc(e);return n.get(la).next(r=>this.Xi(r)?(z(js,"Releasing primary lease."),n.delete(la)):O.resolve())}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(at(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;IR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return z(js,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return at(js,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){at("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dc(t){return _t(t,Od)}function Fh(t){return _t(t,_l)}function KN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new X_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return IR()?8:bk(wt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new m9;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ya()<=we.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(ya()<=we.DEBUG&&z("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ya()<=we.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):O.resolve())}ps(e,n){if(FS(n))return O.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=c0(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,c0(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return FS(n)||s.isEqual(oe.min())?O.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?O.resolve(null):(ya()<=we.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(n)),this.vs(e,o,n,Ek(s,gl)).next(a=>a))})}bs(e,n){let r=new Ne(sN(e));return n.forEach((s,i)=>{jd(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return ya()<=we.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",va(n)),this.gs.getDocumentsMatchingQuery(e,n,Mn.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LocalStore",g9=3e8;class y9{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new je(ce),this.Ms=new bs(i=>zo(i),Ld),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function GN(t,e,n,r){return new y9(t,e,n,r)}async function qN(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function v9(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=O.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(y=>{const S=c.docVersions.get(w);se(S!==null,48541),y.version.compareTo(S)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function QN(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function w9(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ct.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,S,_){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=g9?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(i,m))});let l=Cn(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(_9(i,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(oe.min())){const d=n.hi.getLastRemoteSnapshotVersion(i).next(h=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function _9(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z(J_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function x9(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mp(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Al(t,e,n){const r=te(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wi(o))throw o;z(J_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function y0(t,e,n){const r=te(t);let s=oe.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=te(l),f=h.Ms.get(d);return f!==void 0?O.resolve(h.Fs.get(f)):h.hi.getTargetData(c,d)}(r,o,Rn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:me())).next(a=>(JN(r,rN(e),a),{documents:a,qs:i})))}function YN(t,e){const n=te(t),r=te(n.hi),s=n.Fs.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r.Et(i,e).next(o=>o?o.target:null))}function XN(t,e){const n=te(t),r=n.xs.get(e)||oe.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.Os.getAllFromCollectionGroup(s,e,Ek(r,gl),Number.MAX_SAFE_INTEGER)).then(s=>(JN(n,e,s),s))}function JN(t,e,n){let r=t.xs.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firestore_clients";function gI(t,e){return`${ZN}_${t}_${e}`}const eD="firestore_mutations";function yI(t,e,n){let r=`${eD}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const tD="firestore_targets";function py(t,e){return`${tD}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="SharedClientState";class Vp{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static Ks(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new X(s.error.code,s.error.message))),o?new Vp(e,n,s.state,i):(at(Ir,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ks(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new X(r.error.code,r.error.message))),i?new mu(e,r.state,s):(at(Ir,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Op{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ks(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=j_();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=Ck(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new Op(e,i):(at(Ir,`Failed to parse client data for instance '${e}': ${n}`),null)}}class Z_{constructor(e,n){this.clientId=e,this.onlineState=n}static Ks(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Z_(n.clientId,n.onlineState):(at(Ir,`Failed to parse online state: ${e}`),null)}}class v0{constructor(){this.activeTargetIds=j_()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class my{constructor(e,n,r,s,i){this.window=e,this.Fi=n,this.persistenceKey=r,this.js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Js=this.Hs.bind(this),this.Ys=new je(ce),this.started=!1,this.Zs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Xs=gI(this.persistenceKey,this.js),this.eo=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ys=this.Ys.insert(this.js,new v0),this.no=new RegExp(`^${ZN}_${o}_([^_]*)$`),this.ro=new RegExp(`^${eD}_${o}_(\\d+)(?:_(.*))?$`),this.io=new RegExp(`^${tD}_${o}_(\\d+)$`),this.so=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.oo=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Js)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ps();for(const r of e){if(r===this.js)continue;const s=this.getItem(gI(this.persistenceKey,r));if(s){const i=Op.Ks(r,s);i&&(this.Ys=this.Ys.insert(i.clientId,i))}}this._o();const n=this.storage.getItem(this.so);if(n){const r=this.ao(n);r&&this.uo(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.eo,JSON.stringify(e))}getAllActiveQueryTargets(){return this.co(this.Ys)}isActiveQueryTarget(e){let n=!1;return this.Ys.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.lo(e,"pending")}updateMutationState(e,n,r){this.lo(e,n,r),this.ho(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(py(this.persistenceKey,e));if(s){const i=mu.Ks(e,s);i&&(r=i.state)}}return n&&this.Po.Gs(e),this._o(),r}removeLocalQueryTarget(e){this.Po.zs(e),this._o()}isLocalQueryTarget(e){return this.Po.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(py(this.persistenceKey,e))}updateQueryState(e,n,r){this.To(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.ho(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Io(e)}notifyBundleLoaded(e){this.Eo(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return z(Ir,"READ",e,n),n}setItem(e,n){z(Ir,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){z(Ir,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(z(Ir,"EVENT",n.key,n.newValue),n.key===this.Xs)return void at("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.no.test(n.key)){if(n.newValue==null){const r=this.Ao(n.key);return this.Ro(r,null)}{const r=this.Vo(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.mo(n.key,n.newValue);if(r)return this.fo(r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.po(n.key,n.newValue);if(r)return this.yo(r)}}else if(n.key===this.so){if(n.newValue!==null){const r=this.ao(n.newValue);if(r)return this.uo(r)}}else if(n.key===this.eo){const r=function(i){let o=hn.ue;if(i!=null)try{const a=JSON.parse(i);se(typeof a=="number",30636,{wo:i}),o=a}catch(a){at(Ir,"Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==hn.ue&&this.sequenceNumberHandler(r)}else if(n.key===this.oo){const r=this.So(n.newValue);await Promise.all(r.map(s=>this.syncEngine.bo(s)))}}}else this.Zs.push(n)})}}get Po(){return this.Ys.get(this.js)}_o(){this.setItem(this.Xs,this.Po.Ws())}lo(e,n,r){const s=new Vp(this.currentUser,e,n,r),i=yI(this.persistenceKey,this.currentUser,e);this.setItem(i,s.Ws())}ho(e){const n=yI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Io(e){const n={clientId:this.js,onlineState:e};this.storage.setItem(this.so,JSON.stringify(n))}To(e,n,r){const s=py(this.persistenceKey,e),i=new mu(e,n,r);this.setItem(s,i.Ws())}Eo(e){const n=JSON.stringify(Array.from(e));this.setItem(this.oo,n)}Ao(e){const n=this.no.exec(e);return n?n[1]:null}Vo(e,n){const r=this.Ao(e);return Op.Ks(r,n)}mo(e,n){const r=this.ro.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return Vp.Ks(new $t(i),s,n)}po(e,n){const r=this.io.exec(e),s=Number(r[1]);return mu.Ks(s,n)}ao(e){return Z_.Ks(e)}So(e){return JSON.parse(e)}async fo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Do(e.batchId,e.state,e.error);z(Ir,`Ignoring mutation for non-active user ${e.user.uid}`)}yo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Ys.insert(e,n):this.Ys.remove(e),s=this.co(this.Ys),i=this.co(r),o=[],a=[];return i.forEach(l=>{s.has(l)||o.push(l)}),s.forEach(l=>{i.has(l)||a.push(l)}),this.syncEngine.Co(o,a).then(()=>{this.Ys=r})}uo(e){this.Ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}co(e){let n=j_();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class nD{constructor(){this.Fo=new v0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new v0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="ConnectivityMonitor";class wI{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(vI,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){z(vI,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function w0(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="RestConnection",T9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S9{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Sp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=w0(),a=this.Go(e,n.toUriEncodedString());z(gy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),d=Wl(c);return this.jo(e,a,l,r,d).then(h=>(z(gy,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ti(gy,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=T9[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class b9 extends S9{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=w0();return new Promise((a,l)=>{const c=new fk;c.setWithCredentials(!0),c.listenOnce(pk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yf.NO_ERROR:const h=c.getResponseJson();z(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case yf.TIMEOUT:z(Ft,`RPC '${e}' ${o} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const f=c.getStatus();if(z(Ft,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const y=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(w.status);l(new X(y,w.message))}else l(new X(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{z(Ft,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);z(Ft,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}P_(e,n,r){const s=w0(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yk(),a=gk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");z(Ft,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const w=new I9({Ho:S=>{m?z(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(z(Ft,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),z(Ft,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Yo:()=>h.close()}),y=(S,_,x)=>{S.listen(_,T=>{try{x(T)}catch(A){setTimeout(()=>{throw A},0)}})};return y(h,zc.EventType.OPEN,()=>{m||(z(Ft,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),y(h,zc.EventType.CLOSE,()=>{m||(m=!0,z(Ft,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(h))}),y(h,zc.EventType.ERROR,S=>{m||(m=!0,Ti(Ft,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),w.__(new X(B.UNAVAILABLE,"The operation could not be completed")))}),y(h,zc.EventType.MESSAGE,S=>{var _;if(!m){const x=S.data[0];se(!!x,16349);const T=x,A=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(A){z(Ft,`RPC '${e}' stream ${s} received error:`,A);const k=A.status;let V=function(P){const R=ft[P];if(R!==void 0)return gN(R)}(k),b=A.message;V===void 0&&(V=B.INTERNAL,b="Unknown error status: "+k+" with message "+A.message),m=!0,w.__(new X(V,b)),h.close()}else z(Ft,`RPC '${e}' stream ${s} received:`,x),w.a_(x)}}),y(a,mk.STAT_EVENT,S=>{S.stat===Xv.PROXY?z(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Xv.NOPROXY&&z(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof window<"u"?window:null}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){return new N$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="PersistentStream";class iD{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sD(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return z(_I,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(z(_I,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C9 extends iD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=V$(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?tn(o.readTime):oe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=h0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=bp(l)?{documents:SN(i,l)}:{query:IN(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wN(i,o.resumeToken);const c=u0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Cl(i,o.snapshotVersion.toTimestamp());const c=u0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=L$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=h0(this.serializer),n.removeTarget=e,this.k_(n)}}class A9 extends iD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=O$(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=h0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Pp(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{}class R9 extends P9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,d0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,d0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class k9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(at(n),this._a=!1):z("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class N9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Zo(this)&&(z(Go,"Restarting streams for network reachability change."),await async function(l){const c=te(l);c.Ia.add(4),await Bd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Bm(c)}(this))})}),this.Aa=new k9(r,s)}}async function Bm(t){if(Zo(t))for(const e of t.da)await e(!0)}async function Bd(t){for(const e of t.da)await e(!1)}function $m(t,e){const n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),nx(n)?tx(n):Yl(n).x_()&&ex(n,e))}function Pl(t,e){const n=te(t),r=Yl(n);n.Ta.delete(e),r.x_()&&oD(n,e),n.Ta.size===0&&(r.x_()?r.B_():Zo(n)&&n.Aa.set("Unknown"))}function ex(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).H_(e)}function oD(t,e){t.Ra.$e(e),Yl(t).Y_(e)}function tx(t){t.Ra=new A$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.Aa.aa()}function nx(t){return Zo(t)&&!Yl(t).M_()&&t.Ta.size>0}function Zo(t){return te(t).Ia.size===0}function aD(t){t.Ra=void 0}async function D9(t){t.Aa.set("Online")}async function M9(t){t.Ta.forEach((e,n)=>{ex(t,e)})}async function V9(t,e){aD(t),nx(t)?(t.Aa.la(e),tx(t)):t.Aa.set("Unknown")}async function O9(t,e,n){if(t.Aa.set("Online"),e instanceof vN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){z(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lp(t,r)}else if(e instanceof If?t.Ra.Ye(e):e instanceof yN?t.Ra.it(e):t.Ra.et(e),!n.isEqual(oe.min()))try{const r=await QN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ta.get(c);d&&i.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ta.get(l);if(!d)return;i.Ta.set(l,d.withResumeToken(ct.EMPTY_BYTE_STRING,d.snapshotVersion)),oD(i,l);const h=new os(d.target,l,c,d.sequenceNumber);ex(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z(Go,"Failed to raise snapshot:",r),await Lp(t,r)}}async function Lp(t,e,n){if(!Wi(e))throw e;t.Ia.add(1),await Bd(t),t.Aa.set("Offline"),n||(n=()=>QN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z(Go,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Bm(t)})}function lD(t,e){return e().catch(n=>Lp(t,n,e))}async function Ql(t){const e=te(t),n=bi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:bo;for(;L9(e);)try{const s=await x9(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,j9(e,s)}catch(s){await Lp(e,s)}cD(e)&&uD(e)}function L9(t){return Zo(t)&&t.Pa.length<10}function j9(t,e){t.Pa.push(e);const n=bi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function cD(t){return Zo(t)&&!bi(t).M_()&&t.Pa.length>0}function uD(t){bi(t).start()}async function F9(t){bi(t).na()}async function U9(t){const e=bi(t);for(const n of t.Pa)e.X_(n.mutations)}async function B9(t,e,n){const r=t.Pa.shift(),s=$_.from(r,e,n);await lD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ql(t)}async function $9(t,e){e&&bi(t).Z_&&await async function(r,s){if(function(o){return b$(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();bi(r).N_(),await lD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ql(r)}}(t,e),cD(t)&&uD(t)}async function xI(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),z(Go,"RemoteStore received new credentials");const r=Zo(n);n.Ia.add(3),await Bd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Bm(n)}async function _0(t,e){const n=te(t);e?(n.Ia.delete(2),await Bm(n)):e||(n.Ia.add(2),await Bd(n),n.Aa.set("Unknown"))}function Yl(t){return t.Va||(t.Va=function(n,r,s){const i=te(n);return i.ia(),new C9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:D9.bind(null,t),e_:M9.bind(null,t),n_:V9.bind(null,t),J_:O9.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),nx(t)?tx(t):t.Aa.set("Unknown")):(await t.Va.stop(),aD(t))})),t.Va}function bi(t){return t.ma||(t.ma=function(n,r,s){const i=te(n);return i.ia(),new A9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:F9.bind(null,t),n_:$9.bind(null,t),ea:U9.bind(null,t),ta:B9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Ql(t)):(await t.ma.stop(),t.Pa.length>0&&(z(Go,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new rx(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sx(t,e){if(at("AsyncQueue",`${e}: ${t}`),Wi(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.fa=new je(Y.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Rl(e,n,qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class W9{constructor(){this.queries=TI(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=TI(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new X(B.ABORTED,"Firestore shutting down"))}}function TI(){return new bs(t=>nN(t),Mm)}async function K9(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new z9,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=sx(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&ix(n)}async function H9(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G9(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&ix(n)}function q9(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function ix(t){t.Da.forEach(e=>{e.next()})}var x0,SI;(SI=x0||(x0={})).Fa="default",SI.Cache="cache";class Q9{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==x0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.key=e}}class hD{constructor(e){this.key=e}}class Y9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=me(),this.mutatedKeys=me(),this.Xa=sN(e),this.eu=new qa(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new EI,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=jd(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?w!==y&&(r.track({type:3,doc:m}),S=!0):this.iu(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,w){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:S})}};return y(m)-y(w)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Rl(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new EI,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new hD(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new dD(r))}),n}uu(e){this.Ha=e.qs,this.Za=me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Rl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Xl="SyncEngine";class X9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J9{constructor(e){this.key=e,this.lu=!1}}class Z9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new bs(a=>nN(a),Mm),this.Tu=new Map,this.Iu=new Set,this.du=new je(Y.comparator),this.Eu=new Map,this.Au=new q_,this.Ru={},this.Vu=new Map,this.mu=Ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ez(t,e,n=!0){const r=zm(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await fD(r,e,n,!0),s}async function tz(t,e){const n=zm(t);await fD(n,e,!0,!1)}async function fD(t,e,n,r){const s=await Mp(t.localStore,Rn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ox(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&$m(t.remoteStore,s),a}async function ox(t,e,n,r,s){t.gu=(h,f,m)=>async function(y,S,_,x){let T=S.view.nu(_);T.Ds&&(T=await y0(y.localStore,S.query,!1).then(({documents:b})=>S.view.nu(b,T)));const A=x&&x.targetChanges.get(S.targetId),k=x&&x.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(T,y.isPrimaryClient,A,k);return E0(y,S.targetId,V._u),V.snapshot}(t,h,f,m);const i=await y0(t.localStore,e,!0),o=new Y9(e,i.qs),a=o.nu(i.documents),l=Ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);E0(t,n,c._u);const d=new X9(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function nz(t,e,n){const r=te(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!Mm(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Al(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pl(r.remoteStore,s.targetId),kl(r,s.targetId)}).catch(zi)):(kl(r,s.targetId),await Al(r.localStore,s.targetId,!0))}async function rz(t,e){const n=te(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pl(n.remoteStore,r.targetId))}async function sz(t,e,n){const r=ux(t);try{const s=await function(o,a){const l=te(o),c=Re.now(),d=a.reduce((m,w)=>m.add(w.key),me());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Cn(),y=me();return l.Os.getEntries(m,d).next(S=>{w=S,w.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(S=>{h=S;const _=[];for(const x of a){const T=S$(x,h.get(x.key).overlayedDocument);T!=null&&_.push(new Ki(x.key,T,Gk(T.value.mapValue),An.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(S=>{f=S;const _=S.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,S.batchId,_)})}).then(()=>({batchId:f.batchId,changes:oN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new je(ce)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await Hi(r,s.changes),await Ql(r.remoteStore)}catch(s){const i=sx(s,"Failed to persist write");n.reject(i)}}async function pD(t,e){const n=te(t);try{const r=await w9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?se(o.lu,14607):s.removedDocuments.size>0&&(se(o.lu,42227),o.lu=!1))}),await Hi(n,r,e)}catch(r){await zi(r)}}function II(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(c=!0)}),c&&ix(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iz(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new je(Y.comparator);o=o.insert(i,st.newNoDocument(i,oe.min()));const a=me().add(i),l=new Fd(oe.min(),new Map,new je(ce),o,a);await pD(r,l),r.du=r.du.remove(i),r.Eu.delete(e),cx(r)}else await Al(r.localStore,e,!1).then(()=>kl(r,e,n)).catch(zi)}async function oz(t,e){const n=te(t),r=e.batch.batchId;try{const s=await v9(n.localStore,e);lx(n,r,null),ax(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hi(n,s)}catch(s){await zi(s)}}async function az(t,e,n){const r=te(t);try{const s=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(se(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);lx(r,e,n),ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hi(r,s)}catch(s){await zi(s)}}function ax(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function lx(t,e,n){const r=te(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function kl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||mD(t,r)})}function mD(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Pl(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),cx(t))}function E0(t,e,n){for(const r of n)r instanceof dD?(t.Au.addReference(r.key,e),lz(t,r)):r instanceof hD?(z(Xl,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||mD(t,r.key)):ee(19791,{yu:r})}function lz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(z(Xl,"New document in limbo: "+n),t.Iu.add(r),cx(t))}function cx(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Y(Me.fromString(e)),r=t.mu.next();t.Eu.set(r,new J9(n)),t.du=t.du.insert(n,r),$m(t.remoteStore,new os(Rn(Dm(n.path)),r,"TargetPurposeLimboResolution",hn.ue))}}async function Hi(t,e,n){const r=te(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=X_.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const d=te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(c,f=>O.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>O.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Wi(h))throw h;z(J_,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),w=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(f,y)}}}(r.localStore,i))}async function cz(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){z(Xl,"User change. New user:",e.toKey());const r=await qN(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new X(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hi(n,r.Bs)}}function uz(t,e){const n=te(t),r=n.Eu.get(e);if(r&&r.lu)return me().add(r.key);{let s=me();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}async function dz(t,e){const n=te(t),r=await y0(n.localStore,e.query,!0),s=e.view.uu(r);return n.isPrimaryClient&&E0(n,e.targetId,s._u),s}async function hz(t,e){const n=te(t);return XN(n.localStore,e).then(r=>Hi(n,r))}async function fz(t,e,n,r){const s=te(t),i=await function(a,l){const c=te(a),d=te(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Xn(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):O.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await Ql(s.remoteStore):n==="acknowledged"||n==="rejected"?(lx(s,e,r||null),ax(s,e),function(a,l){te(te(a).mutationQueue).rr(l)}(s.localStore,e)):ee(6720,"Unknown batchState",{wu:n}),await Hi(s,i)):z(Xl,"Cannot apply mutation batch with id: "+e)}async function pz(t,e){const n=te(t);if(zm(n),ux(n),e===!0&&n.fu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await bI(n,r.toArray());n.fu=!0,await _0(n.remoteStore,!0);for(const i of s)$m(n.remoteStore,i)}else if(e===!1&&n.fu!==!1){const r=[];let s=Promise.resolve();n.Tu.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(kl(n,o),Al(n.localStore,o,!0))),Pl(n.remoteStore,o)}),await s,await bI(n,r),function(o){const a=te(o);a.Eu.forEach((l,c)=>{Pl(a.remoteStore,c)}),a.Au.jr(),a.Eu=new Map,a.du=new je(Y.comparator)}(n),n.fu=!1,await _0(n.remoteStore,!1)}}async function bI(t,e,n){const r=te(t),s=[],i=[];for(const o of e){let a;const l=r.Tu.get(o);if(l&&l.length!==0){a=await Mp(r.localStore,Rn(l[0]));for(const c of l){const d=r.Pu.get(c),h=await dz(r,d);h.snapshot&&i.push(h.snapshot)}}else{const c=await YN(r.localStore,o);a=await Mp(r.localStore,c),await ox(r,gD(c),o,!1,a.resumeToken)}s.push(a)}return r.hu.J_(i),s}function gD(t){return tN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mz(t){return function(n){return te(te(n).persistence).Ps()}(te(t).localStore)}async function gz(t,e,n,r){const s=te(t);if(s.fu)return void z(Xl,"Ignoring unexpected query state notification.");const i=s.Tu.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await XN(s.localStore,rN(i[0])),a=Fd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ct.EMPTY_BYTE_STRING);await Hi(s,o,a);break}case"rejected":await Al(s.localStore,e,!0),kl(s,e,r);break;default:ee(64155,n)}}async function yz(t,e,n){const r=zm(t);if(r.fu){for(const s of e){if(r.Tu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){z(Xl,"Adding an already active target "+s);continue}const i=await YN(r.localStore,s),o=await Mp(r.localStore,i);await ox(r,gD(i),o.targetId,!1,o.resumeToken),$m(r.remoteStore,o)}for(const s of n)r.Tu.has(s)&&await Al(r.localStore,s,!1).then(()=>{Pl(r.remoteStore,s),kl(r,s)}).catch(zi)}}function zm(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iz.bind(null,e),e.hu.J_=G9.bind(null,e.eventManager),e.hu.pu=q9.bind(null,e.eventManager),e}function ux(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=az.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Um(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return GN(this.persistence,new HN,e.initialUser,this.serializer)}Du(e){return new Q_(Fm.Vi,this.serializer)}bu(e){return new nD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class vz extends nd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){se(this.persistence.referenceDelegate instanceof Dp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UN(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new Q_(r=>Dp.Vi(r,n),this.serializer)}}class yD extends nd{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await ux(this.Mu.syncEngine),await Ql(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return GN(this.persistence,new HN,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new UN(r,e.asyncQueue,n)}Fu(e,n){const r=new IB(n,this.persistence);return new SB(e.asyncQueue,r)}Du(e){const n=KN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new Y_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rD(),Cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new nD}}class wz extends yD{constructor(e,n){super(e,n,!1),this.Mu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Mu.syncEngine;this.sharedClientState instanceof my&&(this.sharedClientState.syncEngine={Do:fz.bind(null,n),vo:gz.bind(null,n),Co:yz.bind(null,n),Ps:mz.bind(null,n),bo:hz.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ji(async r=>{await pz(this.Mu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}bu(e){const n=rD();if(!my.C(n))throw new X(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=KN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new my(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class rd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>II(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cz.bind(null,this.syncEngine),await _0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W9}()}createDatastore(e){const n=Um(e.databaseInfo.databaseId),r=function(i){return new b9(i)}(e.databaseInfo);return function(i,o,a,l){return new R9(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new N9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>II(this.syncEngine,n,0),function(){return wI.C()?new wI:new E9}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new Z9(s,i,o,a,l,c);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);z(Go,"RemoteStore shutting down."),i.Ia.add(5),await Bd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rd.provider={build:()=>new rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class xz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=I_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{z(Ci,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z(Ci,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yy(t,e){t.asyncQueue.verifyOperationInProgress(),z(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ti("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ti("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function CI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ez(t);z(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xI(e.remoteStore,s)),t._onlineComponents=e}async function Ez(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z(Ci,"Using user provided OfflineComponentProvider");try{await yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await yy(t,new nd)}}else z(Ci,"Using default OfflineComponentProvider"),await yy(t,new vz(void 0));return t._offlineComponents}async function vD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z(Ci,"Using user provided OnlineComponentProvider"),await CI(t,t._uninitializedComponentsProvider._online)):(z(Ci,"Using default OnlineComponentProvider"),await CI(t,new rd))),t._onlineComponents}function Tz(t){return vD(t).then(e=>e.syncEngine)}async function Sz(t){const e=await vD(t),n=e.eventManager;return n.onListen=ez.bind(null,e.syncEngine),n.onUnlisten=nz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rz.bind(null,e.syncEngine),n}function Iz(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new _z({next:f=>{d.Ou(),o.enqueueAndForget(()=>H9(i,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new X(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new X(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Q9(Dm(a.path),d,{includeMetadataChanges:!0,ka:!0});return K9(i,h)}(await Sz(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="firestore.googleapis.com",PI=!0;class RI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bz,this.ssl=PI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:PI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FN)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _D{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hB;switch(r.type){case"firstParty":return new mB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AI.get(n);r&&(z("ComponentProvider","Removing Datastore"),AI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cz=class xD{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xD(this.firestore,e,this._query)}};class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vd(n,Tt._jsonSchema))return new Tt(e,r||null,new Y(Me.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:gt("string",Tt._jsonSchemaVersion),referencePath:gt("string")};class sd extends Cz{constructor(e,n,r){super(e,n,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Y(e))}withConverter(e){return new sd(this.firestore,e,this._path)}}function ED(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=I_.newId()),_B("doc","path",e),t instanceof _D){const r=Me.fromString(e,...n);return _S(r),new Tt(t,null,new Y(r))}{if(!(t instanceof Tt||t instanceof sd))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return _S(r),new Tt(t.firestore,t instanceof sd?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="AsyncQueue";class NI{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sD(this,"async_queue_retry"),this.oc=()=>{const r=Cf();r&&z(kI,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new cs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wi(e))throw e;z(kI,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,at("INTERNAL UNHANDLED ERROR: ",DI(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=rx.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ee(47125,{hc:DI(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function DI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=-1;class dx extends _D{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NI(e),this._firestoreClient=void 0,await e}}}function Pz(t,e,n){n||(n=Sp);const r=f_(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Lo(i,e))return s;throw new X(B.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new X(B.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FN)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Wl(e.host)&&TR(e.host),r.initialize({options:e,instanceIdentifier:n})}function TD(t){if(t._terminated)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rz(t),t._firestoreClient}function Rz(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new ZB(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new xz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(ct.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vd(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:gt("string",$n._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(Vd(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:gt("string",Dr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vd(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new X(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:gt("string",Mr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=/^__.*__$/;class Nz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new ql(e,this.data,n,this.fieldTransforms)}}function ID(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:t})}}class fx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new fx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return jp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ID(this.Ec)&&kz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Dz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Um(e)}Dc(e,n,r,s=!1){return new fx({Ec:e,methodName:n,bc:r,path:qe.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mz(t){const e=t._freezeSettings(),n=Um(t._databaseId);return new Dz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vz(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);PD("Data must be an object, but it was:",o,r);const a=CD(r,o);let l,c;if(i.merge)l=new Wn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Oz(e,h,n);if(!o.contains(f))throw new X(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jz(d,f)||d.push(f)}l=new Wn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Nz(new ln(a),l,c)}function bD(t,e){if(AD(t=Dn(t)))return PD("Unsupported field value:",e,t),CD(t,e);if(t instanceof SD)return function(r,s){if(!ID(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=bD(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:Cl(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cl(s.serializer,i)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:wN(s.serializer,r._byteString)};if(r instanceof Tt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:K_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mr)return function(o,a){return{mapValue:{fields:{[M_]:{stringValue:V_},[xl]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return F_(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${b_(r)}`)}(t,e)}function CD(t,e){const n={};return jk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(t,(r,s)=>{const i=bD(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function AD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Dr||t instanceof $n||t instanceof Tt||t instanceof SD||t instanceof Mr)}function PD(t,e,n){if(!AD(n)||!xk(n)){const r=b_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Oz(t,e,n){if((e=Dn(e))instanceof hx)return e._internalPath;if(typeof e=="string")return RD(t,e);throw jp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lz=new RegExp("[~\\*/\\[\\]]");function RD(t,e,n){if(e.search(Lz)>=0)throw jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hx(...e.split("."))._internalPath}catch{throw jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(B.INVALID_ARGUMENT,a+t+l)}function jz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ND("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fz extends kD{data(){return super.data()}}function ND(t,e){return typeof e=="string"?RD(t,e):e instanceof hx?e._internalPath:e._delegate._internalPath}class Uz{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[xl].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ze(o.doubleValue));return new Mr(i)}convertGeoPoint(e){return new Dr(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);se(PN(r),9688,{name:e});const s=new $o(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||at(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Po extends kD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ND("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:gt("string",Po._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Af extends Po{data(e={}){return super.data(e)}}class gu{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Af(this._firestore,this._userDataWriter,r.key,r,new Gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Af(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Gc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Af(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Gc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$z(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=I_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $z(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){t=wp(t,Tt);const e=wp(t.firestore,dx);return Iz(TD(e),t._key).then(n=>Gz(e,t,n))}gu._jsonSchemaVersion="firestore/querySnapshot/1.0",gu._jsonSchema={type:gt("string",gu._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class Wz extends Uz{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Kz(t,e,n){t=wp(t,Tt);const r=wp(t.firestore,dx),s=Bz(t.converter,e);return Hz(r,[Vz(Mz(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,An.none())])}function Hz(t,e){return function(r,s){const i=new cs;return r.asyncQueue.enqueueAndForget(async()=>sz(await Tz(r),s,i)),i.promise}(TD(t),e)}function Gz(t,e,n){const r=n.docs.get(e._key),s=new Wz(t);return new Po(t,s,e._key,r,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}class qz{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Jz(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Qz(t){return new qz(t)}class Yz{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rd.provider,this._offlineComponentProvider={build:n=>new yD(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class Xz{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rd.provider,this._offlineComponentProvider={build:n=>new wz(n,e==null?void 0:e.cacheSizeBytes)}}}function Jz(t){return new Yz(void 0)}function Zz(){return new Xz}(function(e,n=!0){(function(s){Gl=s})(Kl),pl(new jo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new dx(new fB(r.getProvider("auth-internal")),new gB(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),vi(mS,gS,e),vi(mS,gS,"esm2017")})();const e8={apiKey:"AIzaSyA8VcJp46PVKiigkLqhNtCfcIviBrrRYBI",authDomain:"stackit-66180.firebaseapp.com",projectId:"stackit-66180",storageBucket:"stackit-66180.firebasestorage.app",messagingSenderId:"259081242449",appId:"1:259081242449:web:f3d7a9704a6a788f8bf570"},DD=RR(e8),$d=aB(DD),MD=Pz(DD,{localCache:Qz({tabManager:Zz(),cacheSizeBytes:Az})}),t8=async(t,e)=>{await Kz(ED(MD,"users",t),{...e,reputation:0,badges:[],stats:{questions:0,answers:0,upvotes:0}})},n8=async t=>{const e=ED(MD,"users",t),n=await zz(e);return n.exists()?n.data():null},VD=v.createContext({user:null,userData:null,loading:!0}),OD=({children:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0);return v.useEffect(()=>{const a=Q6($d,async l=>{if(n(l),l){const c=await n8(l.uid);s(c)}else s(null);o(!1)});return()=>a()},[]),p.jsx(VD.Provider,{value:{user:e,userData:r,loading:i},children:t})},Gi=()=>v.useContext(VD),r8=1,s8=1e6;let vy=0;function i8(){return vy=(vy+1)%Number.MAX_SAFE_INTEGER,vy.toString()}const wy=new Map,MI=t=>{if(wy.has(t))return;const e=setTimeout(()=>{wy.delete(t),yu({type:"REMOVE_TOAST",toastId:t})},s8);wy.set(t,e)},o8=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,r8)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?MI(n):t.toasts.forEach(r=>{MI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Pf=[];let Rf={toasts:[]};function yu(t){Rf=o8(Rf,t),Pf.forEach(e=>{e(Rf)})}function a8({...t}){const e=i8(),n=s=>yu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yu({type:"DISMISS_TOAST",toastId:e});return yu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function l8(){const[t,e]=v.useState(Rf);return v.useEffect(()=>(Pf.push(e),()=>{const n=Pf.indexOf(e);n>-1&&Pf.splice(n,1)}),[t]),{...t,toast:a8,dismiss:n=>yu({type:"DISMISS_TOAST",toastId:n})}}function ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function c8(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Wm(...t){return e=>t.forEach(n=>c8(n,e))}function It(...t){return v.useCallback(Wm(...t),t)}function u8(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,S=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:S,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,d8(s,...e)]}function d8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Nl=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(h8);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return p.jsx(T0,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return p.jsx(T0,{...r,ref:e,children:n})});Nl.displayName="Slot";var T0=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=p8(n);return v.cloneElement(n,{...f8(r,n.props),ref:e?Wm(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});T0.displayName="SlotClone";var LD=({children:t})=>p.jsx(p.Fragment,{children:t});function h8(t){return v.isValidElement(t)&&t.type===LD}function f8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function px(t){const e=t+"CollectionProvider",[n,r]=u8(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:y}=m,S=G.useRef(null),_=G.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:_,collectionRef:S,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=G.forwardRef((m,w)=>{const{scope:y,children:S}=m,_=i(a,y),x=It(w,_.collectionRef);return p.jsx(Nl,{ref:x,children:S})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=G.forwardRef((m,w)=>{const{scope:y,children:S,..._}=m,x=G.useRef(null),T=It(w,x),A=i(c,y);return G.useEffect(()=>(A.itemMap.set(x,{ref:x,..._}),()=>void A.itemMap.delete(x))),p.jsx(Nl,{[d]:"",ref:T,children:S})});h.displayName=c;function f(m){const w=i(t+"CollectionConsumer",m);return G.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((A,k)=>_.indexOf(A.ref.current)-_.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function zd(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:f,children:m,...w}=h,y=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,S=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:S,children:m})};c.displayName=i+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,m8(s,...e)]}function m8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var g8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],be=g8.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Nl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function mx(t,e){t&&Cd.flushSync(()=>t.dispatchEvent(e))}function qt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function y8(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var v8="DismissableLayer",S0="dismissableLayer.update",w8="dismissableLayer.pointerDownOutside",_8="dismissableLayer.focusOutside",VI,jD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Km=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(jD),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=It(e,b=>h(b)),y=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(S),x=d?y.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=_,k=E8(b=>{const I=b.target,P=[...c.branches].some(R=>R.contains(I));!A||P||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),V=T8(b=>{const I=b.target;[...c.branches].some(R=>R.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return y8(b=>{x===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(VI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),OI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=VI)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),OI())},[d,c]),v.useEffect(()=>{const b=()=>m({});return document.addEventListener(S0,b),()=>document.removeEventListener(S0,b)},[]),p.jsx(be.div,{...l,ref:w,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,V.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,k.onPointerDownCapture)})});Km.displayName=v8;var x8="DismissableLayerBranch",FD=v.forwardRef((t,e)=>{const n=v.useContext(jD),r=v.useRef(null),s=It(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(be.div,{...t,ref:s})});FD.displayName=x8;function E8(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){UD(w8,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T8(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&UD(_8,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OI(){const t=new CustomEvent(S0);document.dispatchEvent(t)}function UD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?mx(s,i):s.dispatchEvent(i)}var S8=Km,I8=FD,Ur=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},b8="Portal",gx=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Ur(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?sR.createPortal(p.jsx(be.div,{...r,ref:e}),o):null});gx.displayName=b8;function C8(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var ea=t=>{const{present:e,children:n}=t,r=A8(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=It(r.ref,P8(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};ea.displayName="Presence";function A8(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=C8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Bh(r.current);i.current=a==="mounted"?c:"none"},[a]),Ur(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,m=Bh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ur(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Bh(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},f=m=>{m.target===e&&(i.current=Bh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Bh(t){return(t==null?void 0:t.animationName)||"none"}function P8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Hm({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=R8({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=qt(n),l=v.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function R8({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=qt(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var k8="VisuallyHidden",Gm=v.forwardRef((t,e)=>p.jsx(be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Gm.displayName=k8;var N8=Gm,yx="ToastProvider",[vx,D8,M8]=px("Toast"),[BD,Ree]=zd("Toast",[M8]),[V8,qm]=BD(yx),$D=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yx}\`. Expected non-empty \`string\`.`),p.jsx(vx.Provider,{scope:e,children:p.jsx(V8,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};$D.displayName=yx;var zD="ToastViewport",O8=["F8"],I0="toast.viewportPause",b0="toast.viewportResume",WD=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=O8,label:s="Notifications ({hotkey})",...i}=t,o=qm(zD,n),a=D8(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=It(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;v.useEffect(()=>{const S=_=>{var T;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),v.useEffect(()=>{const S=l.current,_=h.current;if(w&&S&&_){const x=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(I0);_.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(b0);_.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!S.contains(V.relatedTarget)&&T()},k=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",x),S.addEventListener("focusout",A),S.addEventListener("pointermove",x),S.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",x),S.removeEventListener("focusout",A),S.removeEventListener("pointermove",x),S.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",T)}}},[w,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:S})=>{const x=a().map(T=>{const A=T.ref.current,k=[A,...Q8(A)];return S==="forwards"?k:k.reverse()});return(S==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const S=h.current;if(S){const _=x=>{var k,V,b;const T=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!T){const I=document.activeElement,P=x.shiftKey;if(x.target===S&&P){(k=c.current)==null||k.focus();return}const M=y({tabbingDirection:P?"backwards":"forwards"}),N=M.findIndex(K=>K===I);_y(M.slice(N+1))?x.preventDefault():P?(V=c.current)==null||V.focus():(b=d.current)==null||b.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[a,y]),p.jsxs(I8,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(C0,{ref:c,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});_y(S)}}),p.jsx(vx.Slot,{scope:n,children:p.jsx(be.ol,{tabIndex:-1,...i,ref:f})}),w&&p.jsx(C0,{ref:d,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});_y(S)}})]})});WD.displayName=zD;var KD="ToastFocusProxy",C0=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=qm(KD,n);return p.jsx(Gm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});C0.displayName=KD;var Qm="Toast",L8="toast.swipeStart",j8="toast.swipeMove",F8="toast.swipeCancel",U8="toast.swipeEnd",HD=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Hm({prop:r,defaultProp:s,onChange:i});return p.jsx(ea,{present:n||a,children:p.jsx(z8,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:qt(t.onPause),onResume:qt(t.onResume),onSwipeStart:ae(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ae(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});HD.displayName=Qm;var[B8,$8]=BD(Qm,{onClose(){}}),z8=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=t,y=qm(Qm,n),[S,_]=v.useState(null),x=It(e,K=>_(K)),T=v.useRef(null),A=v.useRef(null),k=s||y.duration,V=v.useRef(0),b=v.useRef(k),I=v.useRef(0),{onToastAdd:P,onToastRemove:R}=y,D=qt(()=>{var ue;(S==null?void 0:S.contains(document.activeElement))&&((ue=y.viewport)==null||ue.focus()),o()}),M=v.useCallback(K=>{!K||K===1/0||(window.clearTimeout(I.current),V.current=new Date().getTime(),I.current=window.setTimeout(D,K))},[D]);v.useEffect(()=>{const K=y.viewport;if(K){const ue=()=>{M(b.current),c==null||c()},re=()=>{const ne=new Date().getTime()-V.current;b.current=b.current-ne,window.clearTimeout(I.current),l==null||l()};return K.addEventListener(I0,re),K.addEventListener(b0,ue),()=>{K.removeEventListener(I0,re),K.removeEventListener(b0,ue)}}},[y.viewport,k,l,c,M]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(k)},[i,k,y.isClosePausedRef,M]),v.useEffect(()=>(P(),()=>R()),[P,R]);const N=v.useMemo(()=>S?ZD(S):null,[S]);return y.viewport?p.jsxs(p.Fragment,{children:[N&&p.jsx(W8,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),p.jsx(B8,{scope:n,onClose:D,children:Cd.createPortal(p.jsx(vx.ItemSlot,{scope:n,children:p.jsx(S8,{asChild:!0,onEscapeKeyDown:ae(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,K=>{K.key==="Escape"&&(a==null||a(K.nativeEvent),K.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ae(t.onPointerDown,K=>{K.button===0&&(T.current={x:K.clientX,y:K.clientY})}),onPointerMove:ae(t.onPointerMove,K=>{if(!T.current)return;const ue=K.clientX-T.current.x,re=K.clientY-T.current.y,ne=!!A.current,j=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,q=j?U(0,ue):0,Q=j?0:U(0,re),J=K.pointerType==="touch"?10:2,ie={x:q,y:Q},Ce={originalEvent:K,delta:ie};ne?(A.current=ie,$h(j8,h,Ce,{discrete:!1})):LI(ie,y.swipeDirection,J)?(A.current=ie,$h(L8,d,Ce,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(ue)>J||Math.abs(re)>J)&&(T.current=null)}),onPointerUp:ae(t.onPointerUp,K=>{const ue=A.current,re=K.target;if(re.hasPointerCapture(K.pointerId)&&re.releasePointerCapture(K.pointerId),A.current=null,T.current=null,ue){const ne=K.currentTarget,j={originalEvent:K,delta:ue};LI(ue,y.swipeDirection,y.swipeThreshold)?$h(U8,m,j,{discrete:!0}):$h(F8,f,j,{discrete:!0}),ne.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),W8=t=>{const{__scopeToast:e,children:n,...r}=t,s=qm(Qm,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return G8(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(gx,{asChild:!0,children:p.jsx(Gm,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},K8="ToastTitle",GD=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(be.div,{...r,ref:e})});GD.displayName=K8;var H8="ToastDescription",qD=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(be.div,{...r,ref:e})});qD.displayName=H8;var QD="ToastAction",YD=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(JD,{altText:n,asChild:!0,children:p.jsx(wx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QD}\`. Expected non-empty \`string\`.`),null)});YD.displayName=QD;var XD="ToastClose",wx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=$8(XD,n);return p.jsx(JD,{asChild:!0,children:p.jsx(be.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,s.onClose)})})});wx.displayName=XD;var JD=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZD(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),q8(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ZD(r))}}),e}function $h(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?mx(s,i):s.dispatchEvent(i)}var LI=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function G8(t=()=>{}){const e=qt(t);Ur(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function q8(t){return t.nodeType===t.ELEMENT_NODE}function Q8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _y(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Y8=$D,e2=WD,t2=HD,n2=GD,r2=qD,s2=YD,i2=wx;function o2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=o2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function a2(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=o2(t))&&(r&&(r+=" "),r+=e);return r}const jI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FI=a2,Wd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=jI(d)||jI(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[y,S]=w;return Array.isArray(S)?S.includes({...i,...a}[y]):{...i,...a}[y]===S})?[...c,h,f]:c},[]);return FI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...J8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:l2("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(Z8,{ref:i,iconNode:e,className:l2(`lucide-${X8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ge("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ax="-",_7=t=>{const e=E7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ax);return a[0]===""&&a.length!==1&&a.shift(),h2(a,e)||x7(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},h2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?h2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ax);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},$I=/^\[(.+)\]$/,x7=t=>{if($I.test(t)){const e=$I.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},E7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return S7(Object.entries(t.classGroups),n).forEach(([i,o])=>{R0(o,r,i,e)}),r},R0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:zI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(T7(s)){R0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{R0(o,zI(e,i),n,r)})})},zI=(t,e)=>{let n=t;return e.split(Ax).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},T7=t=>t.isThemeGetter,S7=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,I7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},f2="!",b7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let S=0;S<a.length;S++){let _=a[S];if(c===0){if(_===s&&(r||a.slice(S,S+i)===e)){l.push(a.slice(d,S)),d=S+i;continue}if(_==="/"){h=S;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(f2),w=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},C7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},A7=t=>({cache:I7(t.cacheSize),parseClassName:b7(t),..._7(t)}),P7=/\s+/,R7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(P7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,y=r(w?f.substring(0,m):f);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const S=C7(d).join(":"),_=h?S+f2:S,x=_+y;if(i.includes(x))continue;i.push(x);const T=s(y,w);for(let A=0;A<T.length;++A){const k=T[A];i.push(_+k)}a=c+(a.length>0?" "+a:a)}return a};function k7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=p2(e))&&(r&&(r+=" "),r+=n);return r}const p2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=p2(t[r]))&&(n&&(n+=" "),n+=e);return n};function N7(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=A7(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=R7(l,n);return s(l,d),d}return function(){return i(k7.apply(null,arguments))}}const Ue=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},m2=/^\[(?:([a-z-]+):)?(.+)\]$/i,D7=/^\d+\/\d+$/,M7=new Set(["px","full","screen"]),V7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=t=>Qa(t)||M7.has(t)||D7.test(t),Fs=t=>Jl(t,"length",G7),Qa=t=>!!t&&!Number.isNaN(Number(t)),Ey=t=>Jl(t,"number",Qa),Mc=t=>!!t&&Number.isInteger(Number(t)),U7=t=>t.endsWith("%")&&Qa(t.slice(0,-1)),fe=t=>m2.test(t),Us=t=>V7.test(t),B7=new Set(["length","size","percentage"]),$7=t=>Jl(t,B7,g2),z7=t=>Jl(t,"position",g2),W7=new Set(["image","url"]),K7=t=>Jl(t,W7,Q7),H7=t=>Jl(t,"",q7),Vc=()=>!0,Jl=(t,e,n)=>{const r=m2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},G7=t=>O7.test(t)&&!L7.test(t),g2=()=>!1,q7=t=>j7.test(t),Q7=t=>F7.test(t),Y7=()=>{const t=Ue("colors"),e=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),d=Ue("hueRotate"),h=Ue("invert"),f=Ue("gap"),m=Ue("gradientColorStops"),w=Ue("gradientColorStopPositions"),y=Ue("inset"),S=Ue("margin"),_=Ue("opacity"),x=Ue("padding"),T=Ue("saturate"),A=Ue("scale"),k=Ue("sepia"),V=Ue("skew"),b=Ue("space"),I=Ue("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",fe,e],M=()=>[fe,e],N=()=>["",Yr,Fs],K=()=>["auto",Qa,fe],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Qa,fe];return{cacheSize:500,separator:":",theme:{colors:[Vc],spacing:[Yr,Fs],blur:["none","",Us,fe],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Us,fe],borderSpacing:M(),borderWidth:N(),contrast:Q(),grayscale:U(),hueRotate:Q(),invert:U(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[U7,Fs],inset:D(),margin:D(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:U(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mc,fe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Mc,fe]}],"grid-cols":[{"grid-cols":[Vc]}],"col-start-end":[{col:["auto",{span:["full",Mc,fe]},fe]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Vc]}],"row-start-end":[{row:["auto",{span:[Mc,fe]},fe]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ey]}],"font-family":[{font:[Vc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Qa,Ey]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Fs]}],"underline-offset":[{"underline-offset":["auto",Yr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),z7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Yr,fe]}],"outline-w":[{outline:[Yr,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yr,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,H7]}],"shadow-color":[{shadow:[Vc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Us,fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Mc,fe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,Fs,Ey]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X7=N7(Y7);function Ee(...t){return X7(a2(t))}const J7=Y8,y2=v.forwardRef(({className:t,...e},n)=>p.jsx(e2,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));y2.displayName=e2.displayName;const Z7=Wd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),v2=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(t2,{ref:r,className:Ee(Z7({variant:e}),t),...n}));v2.displayName=t2.displayName;const eW=v.forwardRef(({className:t,...e},n)=>p.jsx(s2,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));eW.displayName=s2.displayName;const w2=v.forwardRef(({className:t,...e},n)=>p.jsx(i2,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Cx,{className:"h-4 w-4"})}));w2.displayName=i2.displayName;const _2=v.forwardRef(({className:t,...e},n)=>p.jsx(n2,{ref:n,className:Ee("text-sm font-semibold",t),...e}));_2.displayName=n2.displayName;const x2=v.forwardRef(({className:t,...e},n)=>p.jsx(r2,{ref:n,className:Ee("text-sm opacity-90",t),...e}));x2.displayName=r2.displayName;function tW(){const{toasts:t}=l8();return p.jsxs(J7,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(v2,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(_2,{children:n}),r&&p.jsx(x2,{children:r})]}),s,p.jsx(w2,{})]},e)}),p.jsx(y2,{})]})}var WI=["light","dark"],nW="(prefers-color-scheme: dark)",rW=v.createContext(void 0),sW={setTheme:t=>{},themes:[]},iW=()=>{var t;return(t=v.useContext(rW))!=null?t:sW};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?WI.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,y=!1,S=!0)=>{let _=o?o[w]:w,x=y?w+"|| ''":`'${_}'`,T="";return s&&S&&!y&&WI.includes(w)&&(T+=`d.style.colorScheme = '${w}';`),n==="class"?y||_?T+=`c.add(${x})`:T+="null":_&&(T+=`d[s](n,${x})`),T},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${nW}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var oW=t=>{switch(t){case"success":return cW;case"info":return dW;case"warning":return uW;case"error":return hW;default:return null}},aW=Array(12).fill(0),lW=({visible:t})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},G.createElement("div",{className:"sonner-spinner"},aW.map((e,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fW=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},k0=1,pW=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:k0++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(gW(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||k0++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},xn=new pW,mW=(t,e)=>{let n=(e==null?void 0:e.id)||k0++;return xn.addToast({title:t,...e,id:n}),n},gW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yW=mW,vW=()=>xn.toasts;Object.assign(yW,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:vW});function wW(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}wW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zh(t){return t.label!==void 0}var _W=3,xW="32px",EW=4e3,TW=356,SW=14,IW=20,bW=200;function CW(...t){return t.filter(Boolean).join(" ")}var AW=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:h,toast:f,unstyled:m,interacting:w,setHeights:y,visibleToasts:S,heights:_,index:x,toasts:T,expanded:A,removeToast:k,defaultRichColors:V,closeButton:b,style:I,cancelButtonStyle:P,actionButtonStyle:R,className:D="",descriptionClassName:M="",duration:N,position:K,gap:ue,loadingIcon:re,expandByDefault:ne,classNames:j,icons:U,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:Q,cn:J}=t,[ie,Ce]=G.useState(!1),[Je,ye]=G.useState(!1),[He,vn]=G.useState(!1),[ut,Nt]=G.useState(!1),[Wr,gr]=G.useState(0),[Jn,Kr]=G.useState(0),Cs=G.useRef(null),Zn=G.useRef(null),sc=x===0,ic=x+1<=S,dt=f.type,yr=f.dismissible!==!1,Jd=f.className||"",pg=f.descriptionClassName||"",As=G.useMemo(()=>_.findIndex(he=>he.toastId===f.id)||0,[_,f.id]),oc=G.useMemo(()=>{var he;return(he=f.closeButton)!=null?he:b},[f.closeButton,b]),ac=G.useMemo(()=>f.duration||N||EW,[f.duration,N]),ht=G.useRef(0),Ze=G.useRef(0),Qi=G.useRef(0),Hr=G.useRef(null),[lc,mg]=K.split("-"),Ps=G.useMemo(()=>_.reduce((he,De,Ae)=>Ae>=As?he:he+De.height,0),[_,As]),cc=fW(),Zd=f.invert||h,Yi=dt==="loading";Ze.current=G.useMemo(()=>As*ue+Ps,[As,Ps]),G.useEffect(()=>{Ce(!0)},[]),G.useLayoutEffect(()=>{if(!ie)return;let he=Zn.current,De=he.style.height;he.style.height="auto";let Ae=he.getBoundingClientRect().height;he.style.height=De,Kr(Ae),y(Dt=>Dt.find(on=>on.toastId===f.id)?Dt.map(on=>on.toastId===f.id?{...on,height:Ae}:on):[{toastId:f.id,height:Ae,position:f.position},...Dt])},[ie,f.title,f.description,y,f.id]);let vr=G.useCallback(()=>{ye(!0),gr(Ze.current),y(he=>he.filter(De=>De.toastId!==f.id)),setTimeout(()=>{k(f)},bW)},[f,k,y,Ze]);G.useEffect(()=>{if(f.promise&&dt==="loading"||f.duration===1/0||f.type==="loading")return;let he,De=ac;return A||w||Q&&cc?(()=>{if(Qi.current<ht.current){let Ae=new Date().getTime()-ht.current;De=De-Ae}Qi.current=new Date().getTime()})():De!==1/0&&(ht.current=new Date().getTime(),he=setTimeout(()=>{var Ae;(Ae=f.onAutoClose)==null||Ae.call(f,f),vr()},De)),()=>clearTimeout(he)},[A,w,ne,f,ac,vr,f.promise,dt,Q,cc]),G.useEffect(()=>{let he=Zn.current;if(he){let De=he.getBoundingClientRect().height;return Kr(De),y(Ae=>[{toastId:f.id,height:De,position:f.position},...Ae]),()=>y(Ae=>Ae.filter(Dt=>Dt.toastId!==f.id))}},[y,f.id]),G.useEffect(()=>{f.delete&&vr()},[vr,f.delete]);function gg(){return U!=null&&U.loading?G.createElement("div",{className:"sonner-loader","data-visible":dt==="loading"},U.loading):re?G.createElement("div",{className:"sonner-loader","data-visible":dt==="loading"},re):G.createElement(lW,{visible:dt==="loading"})}return G.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Zn,className:J(D,Jd,j==null?void 0:j.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[dt],(n=f==null?void 0:f.classNames)==null?void 0:n[dt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:V,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ie,"data-promise":!!f.promise,"data-removed":Je,"data-visible":ic,"data-y-position":lc,"data-x-position":mg,"data-index":x,"data-front":sc,"data-swiping":He,"data-dismissible":yr,"data-type":dt,"data-invert":Zd,"data-swipe-out":ut,"data-expanded":!!(A||ne&&ie),style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${Je?Wr:Ze.current}px`,"--initial-height":ne?"auto":`${Jn}px`,...I,...f.style},onPointerDown:he=>{Yi||!yr||(Cs.current=new Date,gr(Ze.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(vn(!0),Hr.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,De,Ae,Dt;if(ut||!yr)return;Hr.current=null;let on=Number(((he=Zn.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rs=new Date().getTime()-((De=Cs.current)==null?void 0:De.getTime()),Gr=Math.abs(on)/Rs;if(Math.abs(on)>=IW||Gr>.11){gr(Ze.current),(Ae=f.onDismiss)==null||Ae.call(f,f),vr(),Nt(!0);return}(Dt=Zn.current)==null||Dt.style.setProperty("--swipe-amount","0px"),vn(!1)},onPointerMove:he=>{var De;if(!Hr.current||!yr)return;let Ae=he.clientY-Hr.current.y,Dt=he.clientX-Hr.current.x,on=(lc==="top"?Math.min:Math.max)(0,Ae),Rs=he.pointerType==="touch"?10:2;Math.abs(on)>Rs?(De=Zn.current)==null||De.style.setProperty("--swipe-amount",`${Ae}px`):Math.abs(Dt)>Rs&&(Hr.current=null)}},oc&&!f.jsx?G.createElement("button",{"aria-label":q,"data-disabled":Yi,"data-close-button":!0,onClick:Yi||!yr?()=>{}:()=>{var he;vr(),(he=f.onDismiss)==null||he.call(f,f)},className:J(j==null?void 0:j.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||G.isValidElement(f.title)?f.jsx||f.title:G.createElement(G.Fragment,null,dt||f.icon||f.promise?G.createElement("div",{"data-icon":"",className:J(j==null?void 0:j.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||gg():null,f.type!=="loading"?f.icon||(U==null?void 0:U[dt])||oW(dt):null):null,G.createElement("div",{"data-content":"",className:J(j==null?void 0:j.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:J(j==null?void 0:j.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?G.createElement("div",{"data-description":"",className:J(M,pg,j==null?void 0:j.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),G.isValidElement(f.cancel)?f.cancel:f.cancel&&zh(f.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:he=>{var De,Ae;zh(f.cancel)&&yr&&((Ae=(De=f.cancel).onClick)==null||Ae.call(De,he),vr())},className:J(j==null?void 0:j.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,G.isValidElement(f.action)?f.action:f.action&&zh(f.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:he=>{var De,Ae;zh(f.action)&&(he.defaultPrevented||((Ae=(De=f.action).onClick)==null||Ae.call(De,he),vr()))},className:J(j==null?void 0:j.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function KI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var PW=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=_W,toastOptions:m,dir:w=KI(),gap:y=SW,loadingIcon:S,icons:_,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:T,cn:A=CW}=t,[k,V]=G.useState([]),b=G.useMemo(()=>Array.from(new Set([n].concat(k.filter(Q=>Q.position).map(Q=>Q.position)))),[k,n]),[I,P]=G.useState([]),[R,D]=G.useState(!1),[M,N]=G.useState(!1),[K,ue]=G.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=G.useRef(null),ne=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=G.useRef(null),U=G.useRef(!1),q=G.useCallback(Q=>{var J;(J=k.find(ie=>ie.id===Q.id))!=null&&J.delete||xn.dismiss(Q.id),V(ie=>ie.filter(({id:Ce})=>Ce!==Q.id))},[k]);return G.useEffect(()=>xn.subscribe(Q=>{if(Q.dismiss){V(J=>J.map(ie=>ie.id===Q.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{sR.flushSync(()=>{V(J=>{let ie=J.findIndex(Ce=>Ce.id===Q.id);return ie!==-1?[...J.slice(0,ie),{...J[ie],...Q},...J.slice(ie+1)]:[Q,...J]})})})}),[]),G.useEffect(()=>{if(l!=="system"){ue(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{ue(Q?"dark":"light")})},[l]),G.useEffect(()=>{k.length<=1&&D(!1)},[k]),G.useEffect(()=>{let Q=J=>{var ie,Ce;r.every(Je=>J[Je]||J.code===Je)&&(D(!0),(ie=re.current)==null||ie.focus()),J.code==="Escape"&&(document.activeElement===re.current||(Ce=re.current)!=null&&Ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),G.useEffect(()=>{if(re.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[re.current]),k.length?G.createElement("section",{"aria-label":`${x} ${ne}`,tabIndex:-1},b.map((Q,J)=>{var ie;let[Ce,Je]=Q.split("-");return G.createElement("ol",{key:Q,dir:w==="auto"?KI():w,tabIndex:-1,ref:re,className:o,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Ce,"data-x-position":Je,style:{"--front-toast-height":`${((ie=I[0])==null?void 0:ie.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||xW,"--width":`${TW}px`,"--gap":`${y}px`,...h},onBlur:ye=>{U.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ye.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},k.filter(ye=>!ye.position&&J===0||ye.position===Q).map((ye,He)=>{var vn,ut;return G.createElement(AW,{key:ye.id,icons:_,index:He,toast:ye,defaultRichColors:c,duration:(vn=m==null?void 0:m.duration)!=null?vn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(ut=m==null?void 0:m.closeButton)!=null?ut:i,interacting:M,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:k.filter(Nt=>Nt.position==ye.position),heights:I.filter(Nt=>Nt.position==ye.position),setHeights:P,expandByDefault:s,gap:y,loadingIcon:S,expanded:R,pauseWhenPageIsHidden:T,cn:A})}))})):null};const RW=({...t})=>{const{theme:e="system"}=iW();return p.jsx(PW,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var kW=tA.useId||(()=>{}),NW=0;function Bp(t){const[e,n]=v.useState(kW());return Ur(()=>{n(r=>r??String(NW++))},[t]),e?`radix-${e}`:""}const DW=["top","right","bottom","left"],Ai=Math.min,Sn=Math.max,$p=Math.round,Wh=Math.floor,Pi=t=>({x:t,y:t}),MW={left:"right",right:"left",bottom:"top",top:"bottom"},VW={start:"end",end:"start"};function N0(t,e,n){return Sn(t,Ai(e,n))}function vs(t,e){return typeof t=="function"?t(e):t}function ws(t){return t.split("-")[0]}function Zl(t){return t.split("-")[1]}function Px(t){return t==="x"?"y":"x"}function Rx(t){return t==="y"?"height":"width"}function Ri(t){return["top","bottom"].includes(ws(t))?"y":"x"}function kx(t){return Px(Ri(t))}function OW(t,e,n){n===void 0&&(n=!1);const r=Zl(t),s=kx(t),i=Rx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=zp(o)),[o,zp(o)]}function LW(t){const e=zp(t);return[D0(t),e,D0(e)]}function D0(t){return t.replace(/start|end/g,e=>VW[e])}function jW(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function FW(t,e,n,r){const s=Zl(t);let i=jW(ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(D0)))),i}function zp(t){return t.replace(/left|right|bottom|top/g,e=>MW[e])}function UW(t){return{top:0,right:0,bottom:0,left:0,...t}}function E2(t){return typeof t!="number"?UW(t):{top:t,right:t,bottom:t,left:t}}function Wp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function HI(t,e,n){let{reference:r,floating:s}=t;const i=Ri(e),o=kx(e),a=Rx(o),l=ws(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Zl(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const BW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=HI(c,r,l),f=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:S,fn:_}=a[y],{x,y:T,data:A,reset:k}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=T??h,m={...m,[S]:{...m[S],...A}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=HI(c,f,l)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function id(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=vs(e,t),w=E2(m),S=a[f?h==="floating"?"reference":"floating":h],_=Wp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},k=Wp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:T,strategy:l}):x);return{top:(_.top-k.top+w.top)/A.y,bottom:(k.bottom-_.bottom+w.bottom)/A.y,left:(_.left-k.left+w.left)/A.x,right:(k.right-_.right+w.right)/A.x}}const $W=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=vs(t,e)||{};if(c==null)return{};const h=E2(d),f={x:n,y:r},m=kx(s),w=Rx(m),y=await o.getDimensions(c),S=m==="y",_=S?"top":"left",x=S?"bottom":"right",T=S?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[m]-f[m]-i.floating[w],k=f[m]-i.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=V?V[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(V)))&&(b=a.floating[T]||i.floating[w]);const I=A/2-k/2,P=b/2-y[w]/2-1,R=Ai(h[_],P),D=Ai(h[x],P),M=R,N=b-y[w]-D,K=b/2-y[w]/2+I,ue=N0(M,K,N),re=!l.arrow&&Zl(s)!=null&&K!==ue&&i.reference[w]/2-(K<M?R:D)-y[w]/2<0,ne=re?K<M?K-M:K-N:0;return{[m]:f[m]+ne,data:{[m]:ue,centerOffset:K-ue-ne,...re&&{alignmentOffset:ne}},reset:re}}}),zW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...S}=vs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ws(s),x=Ri(a),T=ws(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(T||!y?[zp(a)]:LW(a)),V=w!=="none";!f&&V&&k.push(...FW(a,y,w,A));const b=[a,...k],I=await id(e,S),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(I[_]),h){const K=OW(s,o,A);P.push(I[K[0]],I[K[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(K=>K<=0)){var D,M;const K=(((D=i.flip)==null?void 0:D.index)||0)+1,ue=b[K];if(ue)return{data:{index:K,overflows:R},reset:{placement:ue}};let re=(M=R.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!re)switch(m){case"bestFit":{var N;const ne=(N=R.filter(j=>{if(V){const U=Ri(j.placement);return U===x||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:N[0];ne&&(re=ne);break}case"initialPlacement":re=a;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function GI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qI(t){return DW.some(e=>t[e]>=0)}const WW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vs(t,e);switch(r){case"referenceHidden":{const i=await id(e,{...s,elementContext:"reference"}),o=GI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qI(o)}}}case"escaped":{const i=await id(e,{...s,altBoundary:!0}),o=GI(i,n.floating);return{data:{escapedOffsets:o,escaped:qI(o)}}}default:return{}}}}};async function KW(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ws(n),a=Zl(n),l=Ri(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=vs(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const HW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await KW(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},GW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:_,y:x}=S;return{x:_,y:x}}},...l}=vs(t,e),c={x:n,y:r},d=await id(e,l),h=Ri(ws(s)),f=Px(h);let m=c[f],w=c[h];if(i){const S=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=m+d[S],T=m-d[_];m=N0(x,m,T)}if(o){const S=h==="y"?"top":"left",_=h==="y"?"bottom":"right",x=w+d[S],T=w-d[_];w=N0(x,w,T)}const y=a.fn({...e,[f]:m,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[h]:o}}}}}},qW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=vs(t,e),d={x:n,y:r},h=Ri(s),f=Px(h);let m=d[f],w=d[h];const y=vs(a,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=f==="y"?"height":"width",A=i.reference[f]-i.floating[T]+S.mainAxis,k=i.reference[f]+i.reference[T]-S.mainAxis;m<A?m=A:m>k&&(m=k)}if(c){var _,x;const T=f==="y"?"width":"height",A=["top","left"].includes(ws(s)),k=i.reference[h]-i.floating[T]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:S.crossAxis),V=i.reference[h]+i.reference[T]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?S.crossAxis:0);w<k?w=k:w>V&&(w=V)}return{[f]:m,[h]:w}}}},QW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=vs(t,e),d=await id(e,c),h=ws(s),f=Zl(s),m=Ri(s)==="y",{width:w,height:y}=i.floating;let S,_;h==="top"||h==="bottom"?(S=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,S=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,T=w-d.left-d.right,A=Ai(y-d[S],x),k=Ai(w-d[_],T),V=!e.middlewareData.shift;let b=A,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=x),V&&!f){const R=Sn(d.left,0),D=Sn(d.right,0),M=Sn(d.top,0),N=Sn(d.bottom,0);m?I=w-2*(R!==0||D!==0?R+D:Sn(d.left,d.right)):b=y-2*(M!==0||N!==0?M+N:Sn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:b});const P=await o.getDimensions(a.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Ym(){return typeof window<"u"}function ec(t){return T2(t)?(t.nodeName||"").toLowerCase():"#document"}function kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zr(t){var e;return(e=(T2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function T2(t){return Ym()?t instanceof Node||t instanceof kn(t).Node:!1}function pr(t){return Ym()?t instanceof Element||t instanceof kn(t).Element:!1}function Br(t){return Ym()?t instanceof HTMLElement||t instanceof kn(t).HTMLElement:!1}function QI(t){return!Ym()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kn(t).ShadowRoot}function Kd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function YW(t){return["table","td","th"].includes(ec(t))}function Xm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Nx(t){const e=Dx(),n=pr(t)?mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function XW(t){let e=ki(t);for(;Br(e)&&!Dl(e);){if(Nx(e))return e;if(Xm(e))return null;e=ki(e)}return null}function Dx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dl(t){return["html","body","#document"].includes(ec(t))}function mr(t){return kn(t).getComputedStyle(t)}function Jm(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ki(t){if(ec(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QI(t)&&t.host||zr(t);return QI(e)?e.host:e}function S2(t){const e=ki(t);return Dl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Br(e)&&Kd(e)?e:S2(e)}function od(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=S2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=kn(s);if(i){const a=M0(o);return e.concat(o,o.visualViewport||[],Kd(s)?s:[],a&&n?od(a):[])}return e.concat(s,od(s,[],n))}function M0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function I2(t){const e=mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=$p(n)!==i||$p(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Mx(t){return pr(t)?t:t.contextElement}function Ya(t){const e=Mx(t);if(!Br(e))return Pi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=I2(e);let o=(i?$p(n.width):n.width)/r,a=(i?$p(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JW=Pi(0);function b2(t){const e=kn(t);return!Dx()||!e.visualViewport?JW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kn(t)?!1:e}function qo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Mx(t);let o=Pi(1);e&&(r?pr(r)&&(o=Ya(r)):o=Ya(t));const a=ZW(i,n,r)?b2(i):Pi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=kn(i),m=r&&pr(r)?kn(r):r;let w=f,y=M0(w);for(;y&&r&&m!==w;){const S=Ya(y),_=y.getBoundingClientRect(),x=mr(y),T=_.left+(y.clientLeft+parseFloat(x.paddingLeft))*S.x,A=_.top+(y.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=T,c+=A,w=kn(y),y=M0(w)}}return Wp({width:d,height:h,x:l,y:c})}function eK(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=zr(r),a=e?Xm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Pi(1);const d=Pi(0),h=Br(r);if((h||!h&&!i)&&((ec(r)!=="body"||Kd(o))&&(l=Jm(r)),Br(r))){const f=qo(r);c=Ya(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function tK(t){return Array.from(t.getClientRects())}function V0(t,e){const n=Jm(t).scrollLeft;return e?e.left+n:qo(zr(t)).left+n}function nK(t){const e=zr(t),n=Jm(t),r=t.ownerDocument.body,s=Sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+V0(t);const a=-n.scrollTop;return mr(r).direction==="rtl"&&(o+=Sn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function rK(t,e){const n=kn(t),r=zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Dx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function sK(t,e){const n=qo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Br(t)?Ya(t):Pi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function YI(t,e,n){let r;if(e==="viewport")r=rK(t,n);else if(e==="document")r=nK(zr(t));else if(pr(e))r=sK(e,n);else{const s=b2(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Wp(r)}function C2(t,e){const n=ki(t);return n===e||!pr(n)||Dl(n)?!1:mr(n).position==="fixed"||C2(n,e)}function iK(t,e){const n=e.get(t);if(n)return n;let r=od(t,[],!1).filter(a=>pr(a)&&ec(a)!=="body"),s=null;const i=mr(t).position==="fixed";let o=i?ki(t):t;for(;pr(o)&&!Dl(o);){const a=mr(o),l=Nx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Kd(o)&&!l&&C2(t,o))?r=r.filter(d=>d!==o):s=a,o=ki(o)}return e.set(t,r),r}function oK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Xm(e)?[]:iK(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=YI(e,d,s);return c.top=Sn(h.top,c.top),c.right=Ai(h.right,c.right),c.bottom=Ai(h.bottom,c.bottom),c.left=Sn(h.left,c.left),c},YI(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aK(t){const{width:e,height:n}=I2(t);return{width:e,height:n}}function lK(t,e,n){const r=Br(e),s=zr(e),i=n==="fixed",o=qo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Pi(0);if(r||!r&&!i)if((ec(e)!=="body"||Kd(s))&&(a=Jm(e)),r){const m=qo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=V0(s));let c=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-V0(s,m)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Ty(t){return mr(t).position==="static"}function XI(t,e){if(!Br(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zr(t)===n&&(n=n.ownerDocument.body),n}function A2(t,e){const n=kn(t);if(Xm(t))return n;if(!Br(t)){let s=ki(t);for(;s&&!Dl(s);){if(pr(s)&&!Ty(s))return s;s=ki(s)}return n}let r=XI(t,e);for(;r&&YW(r)&&Ty(r);)r=XI(r,e);return r&&Dl(r)&&Ty(r)&&!Nx(r)?n:r||XW(t)||n}const cK=async function(t){const e=this.getOffsetParent||A2,n=this.getDimensions,r=await n(t.floating);return{reference:lK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uK(t){return mr(t).direction==="rtl"}const dK={convertOffsetParentRelativeRectToViewportRelativeRect:eK,getDocumentElement:zr,getClippingRect:oK,getOffsetParent:A2,getElementRects:cK,getClientRects:tK,getDimensions:aK,getScale:Ya,isElement:pr,isRTL:uK};function hK(t,e){let n=null,r;const s=zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Wh(d),w=Wh(s.clientWidth-(c+h)),y=Wh(s.clientHeight-(d+f)),S=Wh(c),x={rootMargin:-m+"px "+-w+"px "+-y+"px "+-S+"px",threshold:Sn(0,Ai(1,l))||1};let T=!0;function A(k){const V=k[0].intersectionRatio;if(V!==l){if(!T)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(A,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return o(!0),i}function fK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Mx(t),d=s||i?[...c?od(c):[],...od(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?hK(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[x]=_;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,y=l?qo(t):null;l&&S();function S(){const _=qo(t);y&&(_.x!==y.x||_.y!==y.y||_.width!==y.width||_.height!==y.height)&&n(),y=_,w=requestAnimationFrame(S)}return n(),()=>{var _;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const pK=HW,mK=GW,gK=zW,yK=QW,vK=WW,JI=$W,wK=qW,_K=(t,e,n)=>{const r=new Map,s={platform:dK,...n},i={...s.platform,_c:r};return BW(t,e,{...s,platform:i})};var kf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Kp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Kp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function P2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZI(t,e){const n=P2(t);return Math.round(e*n)/n}function Sy(t){const e=v.useRef(t);return kf(()=>{e.current=t}),e}function xK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Kp(f,r)||m(r);const[w,y]=v.useState(null),[S,_]=v.useState(null),x=v.useCallback(j=>{j!==V.current&&(V.current=j,y(j))},[]),T=v.useCallback(j=>{j!==b.current&&(b.current=j,_(j))},[]),A=i||w,k=o||S,V=v.useRef(null),b=v.useRef(null),I=v.useRef(d),P=l!=null,R=Sy(l),D=Sy(s),M=Sy(c),N=v.useCallback(()=>{if(!V.current||!b.current)return;const j={placement:e,strategy:n,middleware:f};D.current&&(j.platform=D.current),_K(V.current,b.current,j).then(U=>{const q={...U,isPositioned:M.current!==!1};K.current&&!Kp(I.current,q)&&(I.current=q,Cd.flushSync(()=>{h(q)}))})},[f,e,n,D,M]);kf(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const K=v.useRef(!1);kf(()=>(K.current=!0,()=>{K.current=!1}),[]),kf(()=>{if(A&&(V.current=A),k&&(b.current=k),A&&k){if(R.current)return R.current(A,k,N);N()}},[A,k,N,R,P]);const ue=v.useMemo(()=>({reference:V,floating:b,setReference:x,setFloating:T}),[x,T]),re=v.useMemo(()=>({reference:A,floating:k}),[A,k]),ne=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!re.floating)return j;const U=ZI(re.floating,d.x),q=ZI(re.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+q+"px)",...P2(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,a,re.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:N,refs:ue,elements:re,floatingStyles:ne}),[d,N,ue,re,ne])}const EK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JI({element:r.current,padding:s}).fn(n):{}:r?JI({element:r,padding:s}).fn(n):{}}}},TK=(t,e)=>({...pK(t),options:[t,e]}),SK=(t,e)=>({...mK(t),options:[t,e]}),IK=(t,e)=>({...wK(t),options:[t,e]}),bK=(t,e)=>({...gK(t),options:[t,e]}),CK=(t,e)=>({...yK(t),options:[t,e]}),AK=(t,e)=>({...vK(t),options:[t,e]}),PK=(t,e)=>({...EK(t),options:[t,e]});var RK="Arrow",R2=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});R2.displayName=RK;var kK=R2;function NK(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,S=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:S,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,DK(s,...e)]}function DK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function MK(t){const[e,n]=v.useState(void 0);return Ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vx="Popper",[k2,Zm]=NK(Vx),[VK,N2]=k2(Vx),D2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return p.jsx(VK,{scope:e,anchor:r,onAnchorChange:s,children:n})};D2.displayName=Vx;var M2="PopperAnchor",V2=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=N2(M2,n),o=v.useRef(null),a=It(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(be.div,{...s,ref:a})});V2.displayName=M2;var Ox="PopperContent",[OK,LK]=k2(Ox),O2=v.forwardRef((t,e)=>{var He,vn,ut,Nt,Wr,gr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=t,S=N2(Ox,n),[_,x]=v.useState(null),T=It(e,Jn=>x(Jn)),[A,k]=v.useState(null),V=MK(A),b=(V==null?void 0:V.width)??0,I=(V==null?void 0:V.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:R,boundary:D.filter(FK),altBoundary:M},{refs:K,floatingStyles:ue,placement:re,isPositioned:ne,middlewareData:j}=xK({strategy:"fixed",placement:P,whileElementsMounted:(...Jn)=>fK(...Jn,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[TK({mainAxis:s+I,alignmentAxis:o}),l&&SK({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?IK():void 0,...N}),l&&bK({...N}),CK({...N,apply:({elements:Jn,rects:Kr,availableWidth:Cs,availableHeight:Zn})=>{const{width:sc,height:ic}=Kr.reference,dt=Jn.floating.style;dt.setProperty("--radix-popper-available-width",`${Cs}px`),dt.setProperty("--radix-popper-available-height",`${Zn}px`),dt.setProperty("--radix-popper-anchor-width",`${sc}px`),dt.setProperty("--radix-popper-anchor-height",`${ic}px`)}}),A&&PK({element:A,padding:a}),UK({arrowWidth:b,arrowHeight:I}),f&&AK({strategy:"referenceHidden",...N})]}),[U,q]=F2(re),Q=qt(w);Ur(()=>{ne&&(Q==null||Q())},[ne,Q]);const J=(He=j.arrow)==null?void 0:He.x,ie=(vn=j.arrow)==null?void 0:vn.y,Ce=((ut=j.arrow)==null?void 0:ut.centerOffset)!==0,[Je,ye]=v.useState();return Ur(()=>{_&&ye(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:ne?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Nt=j.transformOrigin)==null?void 0:Nt.x,(Wr=j.transformOrigin)==null?void 0:Wr.y].join(" "),...((gr=j.hide)==null?void 0:gr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(OK,{scope:n,placedSide:U,onArrowChange:k,arrowX:J,arrowY:ie,shouldHideArrow:Ce,children:p.jsx(be.div,{"data-side":U,"data-align":q,...y,ref:T,style:{...y.style,animation:ne?void 0:"none"}})})})});O2.displayName=Ox;var L2="PopperArrow",jK={top:"bottom",right:"left",bottom:"top",left:"right"},j2=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=LK(L2,r),o=jK[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(kK,{...s,ref:n,style:{...s.style,display:"block"}})})});j2.displayName=L2;function FK(t){return t!==null}var UK=t=>({name:"transformOrigin",options:t,fn(e){var S,_,x;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=F2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${f}px`,y=`${-l}px`):c==="top"?(w=o?h:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:w,y}}}});function F2(t){const[e,n="center"]=t.split("-");return[e,n]}var U2=D2,B2=V2,$2=O2,z2=j2,[eg,kee]=zd("Tooltip",[Zm]),tg=Zm(),W2="TooltipProvider",BK=700,O0="tooltip.open",[$K,Lx]=eg(W2),K2=t=>{const{__scopeTooltip:e,delayDuration:n=BK,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx($K,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};K2.displayName=W2;var ng="Tooltip",[zK,rg]=eg(ng),H2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Lx(ng,t.__scopeTooltip),c=tg(e),[d,h]=v.useState(null),f=Bp(),m=v.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,S=v.useRef(!1),[_=!1,x]=Hm({prop:r,defaultProp:s,onChange:b=>{b?(l.onOpen(),document.dispatchEvent(new CustomEvent(O0))):l.onClose(),i==null||i(b)}}),T=v.useMemo(()=>_?S.current?"delayed-open":"instant-open":"closed",[_]),A=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,S.current=!1,x(!0)},[x]),k=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),V=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{S.current=!0,x(!0),m.current=0},y)},[y,x]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),p.jsx(U2,{...c,children:p.jsx(zK,{scope:e,contentId:f,open:_,stateAttribute:T,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayed?V():A()},[l.isOpenDelayed,V,A]),onTriggerLeave:v.useCallback(()=>{w?k():(window.clearTimeout(m.current),m.current=0)},[k,w]),onOpen:A,onClose:k,disableHoverableContent:w,children:n})})};H2.displayName=ng;var L0="TooltipTrigger",G2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rg(L0,n),i=Lx(L0,n),o=tg(n),a=v.useRef(null),l=It(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(B2,{asChild:!0,...o,children:p.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ae(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ae(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ae(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ae(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ae(t.onBlur,s.onClose),onClick:ae(t.onClick,s.onClose)})})});G2.displayName=L0;var WK="TooltipPortal",[Nee,KK]=eg(WK,{forceMount:void 0}),Ml="TooltipContent",q2=v.forwardRef((t,e)=>{const n=KK(Ml,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=rg(Ml,t.__scopeTooltip);return p.jsx(ea,{present:r||o.open,children:o.disableHoverableContent?p.jsx(Q2,{side:s,...i,ref:e}):p.jsx(HK,{side:s,...i,ref:e})})}),HK=v.forwardRef((t,e)=>{const n=rg(Ml,t.__scopeTooltip),r=Lx(Ml,t.__scopeTooltip),s=v.useRef(null),i=It(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((w,y)=>{const S=w.currentTarget,_={x:w.clientX,y:w.clientY},x=YK(_,S.getBoundingClientRect()),T=XK(_,x),A=JK(y.getBoundingClientRect()),k=eH([...T,...A]);a(k),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const w=S=>m(S,d),y=S=>m(S,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,f]),v.useEffect(()=>{if(o){const w=y=>{const S=y.target,_={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),T=!ZK(_,o);x?f():T&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),p.jsx(Q2,{...t,ref:i})}),[GK,qK]=eg(ng,{isInside:!1}),Q2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=rg(Ml,n),c=tg(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(O0,d),()=>document.removeEventListener(O0,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),p.jsx(Km,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs($2,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(LD,{children:r}),p.jsx(GK,{scope:n,isInside:!0,children:p.jsx(N8,{id:l.contentId,role:"tooltip",children:s||r})})]})})});q2.displayName=Ml;var Y2="TooltipArrow",QK=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tg(n);return qK(Y2,n).isInside?null:p.jsx(z2,{...s,...r,ref:e})});QK.displayName=Y2;function YK(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function XK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function JK(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function ZK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function eH(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),tH(e)}function tH(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var nH=K2,rH=H2,sH=G2,X2=q2;const Hp=nH,j0=rH,F0=sH,Gp=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(X2,{ref:r,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Gp.displayName=X2.displayName;var sg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ig=typeof window>"u"||"Deno"in globalThis;function sr(){}function iH(t,e){return typeof t=="function"?t(e):t}function oH(t){return typeof t=="number"&&t>=0&&t!==1/0}function aH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function eb(t,e){return typeof t=="function"?t(e):t}function lH(t,e){return typeof t=="function"?t(e):t}function tb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==jx(o,e.options))return!1}else if(!ld(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ad(e.options.mutationKey)!==ad(i))return!1}else if(!ld(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function jx(t,e){return((e==null?void 0:e.queryKeyHashFn)||ad)(t)}function ad(t){return JSON.stringify(t,(e,n)=>U0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ld(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ld(t[n],e[n])):!1}function J2(t,e){if(t===e)return t;const n=rb(t)&&rb(e);if(n||U0(t)&&U0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=J2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function U0(t){if(!sb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sb(t){return Object.prototype.toString.call(t)==="[object Object]"}function cH(t){return new Promise(e=>{setTimeout(e,t)})}function uH(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?J2(t,e):e}function dH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function hH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Fx=Symbol();function Z2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Fx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _o,Js,Ja,OC,fH=(OC=class extends sg{constructor(){super();Ie(this,_o);Ie(this,Js);Ie(this,Ja);pe(this,Ja,e=>{if(!ig&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Js)||this.setEventListener($(this,Ja))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Js))==null||e.call(this),pe(this,Js,void 0))}setEventListener(e){var n;pe(this,Ja,e),(n=$(this,Js))==null||n.call(this),pe(this,Js,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,_o)!==e&&(pe(this,_o,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,_o)=="boolean"?$(this,_o):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_o=new WeakMap,Js=new WeakMap,Ja=new WeakMap,OC),eM=new fH,Za,Zs,el,LC,pH=(LC=class extends sg{constructor(){super();Ie(this,Za,!0);Ie(this,Zs);Ie(this,el);pe(this,el,e=>{if(!ig&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Zs)||this.setEventListener($(this,el))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Zs))==null||e.call(this),pe(this,Zs,void 0))}setEventListener(e){var n;pe(this,el,e),(n=$(this,Zs))==null||n.call(this),pe(this,Zs,e(this.setOnline.bind(this)))}setOnline(e){$(this,Za)!==e&&(pe(this,Za,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Za)}},Za=new WeakMap,Zs=new WeakMap,el=new WeakMap,LC),qp=new pH;function mH(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function gH(t){return Math.min(1e3*2**t,3e4)}function tM(t){return(t??"online")==="online"?qp.isOnline():!0}var nM=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Iy(t){return t instanceof nM}function rM(t){let e=!1,n=0,r=!1,s;const i=mH(),o=y=>{var S;r||(f(new nM(y)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>eM.isFocused()&&(t.networkMode==="always"||qp.isOnline())&&t.canRun(),d=()=>tM(t.networkMode)&&t.canRun(),h=y=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var S;s=_=>{(r||c())&&y(_)},(S=t.onPause)==null||S.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),w=()=>{if(r)return;let y;const S=n===0?t.initialPromise:void 0;try{y=S??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(h).catch(_=>{var V;if(r)return;const x=t.retry??(ig?0:3),T=t.retryDelay??gH,A=typeof T=="function"?T(n,_):T,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,_);if(e||!k){f(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),cH(A).then(()=>c()?void 0:m()).then(()=>{e?f(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():m().then(w),i)}}function yH(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Jt=yH(),xo,jC,sM=(jC=class{constructor(){Ie(this,xo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oH(this.gcTime)&&pe(this,xo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ig?1/0:5*60*1e3))}clearGcTimeout(){$(this,xo)&&(clearTimeout($(this,xo)),pe(this,xo,void 0))}},xo=new WeakMap,jC),tl,nl,Fn,Ut,_d,Eo,ir,Jr,FC,vH=(FC=class extends sM{constructor(e){super();Ie(this,ir);Ie(this,tl);Ie(this,nl);Ie(this,Fn);Ie(this,Ut);Ie(this,_d);Ie(this,Eo);pe(this,Eo,!1),pe(this,_d,e.defaultOptions),this.setOptions(e.options),this.observers=[],pe(this,Fn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pe(this,tl,_H(this.options)),this.state=e.state??$(this,tl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Ut))==null?void 0:e.promise}setOptions(e){this.options={...$(this,_d),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Fn).remove(this)}setData(e,n){const r=uH(this.state.data,e,this.options);return Ot(this,ir,Jr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ot(this,ir,Jr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=$(this,Ut))==null?void 0:r.promise;return(s=$(this,Ut))==null||s.cancel(e),n?n.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,tl))}isActive(){return this.observers.some(e=>lH(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!aH(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,Fn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||($(this,Ut)&&($(this,Eo)?$(this,Ut).cancel({revert:!0}):$(this,Ut).cancelRetry()),this.scheduleGc()),$(this,Fn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,ir,Jr).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Ut))return $(this,Ut).continueRetry(),$(this,Ut).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pe(this,Eo,!0),r.signal)})},i=()=>{const h=Z2(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),pe(this,Eo,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),pe(this,nl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ot(this,ir,Jr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,m,w,y;Iy(h)&&h.silent||Ot(this,ir,Jr).call(this,{type:"error",error:h}),Iy(h)||((m=(f=$(this,Fn).config).onError)==null||m.call(f,h,this),(y=(w=$(this,Fn).config).onSettled)==null||y.call(w,this.state.data,h,this)),this.scheduleGc()};return pe(this,Ut,rM({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,w,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){a(S);return}(m=(f=$(this,Fn).config).onSuccess)==null||m.call(f,h,this),(y=(w=$(this,Fn).config).onSettled)==null||y.call(w,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{Ot(this,ir,Jr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ot(this,ir,Jr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,ir,Jr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),$(this,Ut).start()}},tl=new WeakMap,nl=new WeakMap,Fn=new WeakMap,Ut=new WeakMap,_d=new WeakMap,Eo=new WeakMap,ir=new WeakSet,Jr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wH(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Iy(s)&&s.revert&&$(this,nl)?{...$(this,nl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Fn).notify({query:this,type:"updated",action:e})})},FC);function wH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _H(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,UC,xH=(UC=class extends sg{constructor(e={}){super();Ie(this,Er);this.config=e,pe(this,Er,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??jx(s,n);let o=this.get(i);return o||(o=new vH({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Er).has(e.queryHash)||($(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Er).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Er).get(e)}getAll(){return[...$(this,Er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tb(e,r)):n}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,UC),Tr,Yt,To,Sr,Bs,BC,EH=(BC=class extends sM{constructor(e){super();Ie(this,Sr);Ie(this,Tr);Ie(this,Yt);Ie(this,To);this.mutationId=e.mutationId,pe(this,Yt,e.mutationCache),pe(this,Tr,[]),this.state=e.state||TH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,Tr).includes(e)||($(this,Tr).push(e),this.clearGcTimeout(),$(this,Yt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pe(this,Tr,$(this,Tr).filter(n=>n!==e)),this.scheduleGc(),$(this,Yt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Yt).remove(this))}continue(){var e;return((e=$(this,To))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,h,f,m,w,y,S,_,x,T,A,k,V,b;pe(this,To,rM({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{Ot(this,Sr,Bs).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{Ot(this,Sr,Bs).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Sr,Bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Yt).canRun(this)}));const n=this.state.status==="pending",r=!$(this,To).canStart();try{if(!n){Ot(this,Sr,Bs).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=$(this,Yt).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Ot(this,Sr,Bs).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const I=await $(this,To).start();return await((c=(l=$(this,Yt).config).onSuccess)==null?void 0:c.call(l,I,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,I,e,this.state.context)),await((m=(f=$(this,Yt).config).onSettled)==null?void 0:m.call(f,I,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,I,null,e,this.state.context)),Ot(this,Sr,Bs).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(S=$(this,Yt).config).onError)==null?void 0:_.call(S,I,e,this.state.context,this)),await((T=(x=this.options).onError)==null?void 0:T.call(x,I,e,this.state.context)),await((k=(A=$(this,Yt).config).onSettled)==null?void 0:k.call(A,void 0,I,this.state.variables,this.state.context,this)),await((b=(V=this.options).onSettled)==null?void 0:b.call(V,void 0,I,e,this.state.context)),I}finally{Ot(this,Sr,Bs).call(this,{type:"error",error:I})}}finally{$(this,Yt).runNext(this)}}},Tr=new WeakMap,Yt=new WeakMap,To=new WeakMap,Sr=new WeakSet,Bs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Jt.batch(()=>{$(this,Tr).forEach(r=>{r.onMutationUpdate(e)}),$(this,Yt).notify({mutation:this,type:"updated",action:e})})},BC);function TH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _n,xd,$C,SH=($C=class extends sg{constructor(e={}){super();Ie(this,_n);Ie(this,xd);this.config=e,pe(this,_n,new Map),pe(this,xd,Date.now())}build(e,n,r){const s=new EH({mutationCache:this,mutationId:++mh(this,xd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Kh(e),r=$(this,_n).get(n)??[];r.push(e),$(this,_n).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Kh(e);if($(this,_n).has(n)){const s=(r=$(this,_n).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,_n).delete(n):$(this,_n).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,_n).get(Kh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,_n).get(Kh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,_n).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nb(n,r))}findAll(e={}){return this.getAll().filter(n=>nb(e,n))}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},_n=new WeakMap,xd=new WeakMap,$C);function Kh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ib(t){return{onFetch:(e,n)=>{var d,h,f,m,w;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=Z2(e.options,e.fetchOptions),x=async(T,A,k)=>{if(y)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const V={queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};S(V);const b=await _(V),{maxPages:I}=e.options,P=k?hH:dH;return{pages:P(T.pages,b,I),pageParams:P(T.pageParams,A,I)}};if(s&&i.length){const T=s==="backward",A=T?IH:ob,k={pages:i,pageParams:o},V=A(r,k);a=await x(k,V,T)}else{const T=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:ob(r,a);if(l>0&&A==null)break;a=await x(a,A),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,S;return(S=(y=e.options).persister)==null?void 0:S.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function ob(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function IH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tt,ei,ti,rl,sl,ni,il,ol,zC,bH=(zC=class{constructor(t={}){Ie(this,tt);Ie(this,ei);Ie(this,ti);Ie(this,rl);Ie(this,sl);Ie(this,ni);Ie(this,il);Ie(this,ol);pe(this,tt,t.queryCache||new xH),pe(this,ei,t.mutationCache||new SH),pe(this,ti,t.defaultOptions||{}),pe(this,rl,new Map),pe(this,sl,new Map),pe(this,ni,0)}mount(){mh(this,ni)._++,$(this,ni)===1&&(pe(this,il,eM.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onFocus())})),pe(this,ol,qp.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onOnline())})))}unmount(){var t,e;mh(this,ni)._--,$(this,ni)===0&&((t=$(this,il))==null||t.call(this),pe(this,il,void 0),(e=$(this,ol))==null||e.call(this),pe(this,ol,void 0))}isFetching(t){return $(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ei).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(eb(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=iH(e,i);if(o!==void 0)return $(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>$(this,tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,tt);Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,tt),r={type:"active",...t};return Jt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Jt.batch(()=>$(this,tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t={},e={}){return Jt.batch(()=>{if($(this,tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Jt.batch(()=>$(this,tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,tt).build(this,e);return n.isStaleByTime(eb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=ib(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=ib(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qp.isOnline()?$(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,tt)}getMutationCache(){return $(this,ei)}getDefaultOptions(){return $(this,ti)}setDefaultOptions(t){pe(this,ti,t)}setQueryDefaults(t,e){$(this,rl).set(ad(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,rl).values()];let n={};return e.forEach(r=>{ld(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,sl).set(ad(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,sl).values()];let n={};return e.forEach(r=>{ld(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ti).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Fx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ti).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,tt).clear(),$(this,ei).clear()}},tt=new WeakMap,ei=new WeakMap,ti=new WeakMap,rl=new WeakMap,sl=new WeakMap,ni=new WeakMap,il=new WeakMap,ol=new WeakMap,zC),CH=v.createContext(void 0),AH=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(CH.Provider,{value:t,children:e}));const Ux=v.createContext({});function Bx(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const $x=typeof window<"u",iM=$x?v.useLayoutEffect:v.useEffect,og=v.createContext(null);function zx(t,e){t.indexOf(e)===-1&&t.push(e)}function Wx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s=(t,e,n)=>n>e?e:n<t?t:n;let Qp=()=>{};const xs={},oM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aM(t){return typeof t=="object"&&t!==null}const lM=t=>/^0[^.\s]+$/u.test(t);function Kx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gn=t=>t,PH=(t,e)=>n=>e(t(n)),Hd=(...t)=>t.reduce(PH),cd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Hx{constructor(){this.subscriptions=[]}add(e){return zx(this.subscriptions,e),()=>Wx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=t=>t*1e3,Or=t=>t/1e3;function cM(t,e){return e?t*(1e3/e):0}const uM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RH=1e-7,kH=12;function NH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=uM(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>RH&&++a<kH);return o}function Gd(t,e,n,r){if(t===e&&n===r)return Gn;const s=i=>NH(i,0,1,t,n);return i=>i===0||i===1?i:uM(s(i),e,r)}const dM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hM=t=>e=>1-t(1-e),fM=Gd(.33,1.53,.69,.99),Gx=hM(fM),pM=dM(Gx),mM=t=>(t*=2)<1?.5*Gx(t):.5*(2-Math.pow(2,-10*(t-1))),qx=t=>1-Math.sin(Math.acos(t)),gM=hM(qx),yM=dM(qx),DH=Gd(.42,0,1,1),MH=Gd(0,0,.58,1),vM=Gd(.42,0,.58,1),VH=t=>Array.isArray(t)&&typeof t[0]!="number",wM=t=>Array.isArray(t)&&typeof t[0]=="number",ab={linear:Gn,easeIn:DH,easeInOut:vM,easeOut:MH,circIn:qx,circInOut:yM,circOut:gM,backIn:Gx,backInOut:pM,backOut:fM,anticipate:mM},OH=t=>typeof t=="string",lb=t=>{if(wM(t)){Qp(t.length===4);const[e,n,r,s]=t;return Gd(e,n,r,s)}else if(OH(t))return Qp(ab[t]!==void 0),ab[t];return t},Hh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],cb={value:null,addProjectionMetrics:null};function LH(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const y=m&&s?n:r;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&cb.value&&cb.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const jH=40;function _M(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Hh.reduce((T,A)=>(T[A]=LH(i,e?A:void 0),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,y=()=>{const T=xs.useManualTiming?s.timestamp:performance.now();n=!1,xs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,jH),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},S=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Hh.reduce((T,A)=>{const k=o[A];return T[A]=(V,b=!1,I=!1)=>(n||S(),k.schedule(V,b,I)),T},{}),cancel:T=>{for(let A=0;A<Hh.length;A++)o[Hh[A]].cancel(T)},state:s,steps:o}}const{schedule:Ke,cancel:Ni,state:At,steps:by}=_M(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let Nf;function FH(){Nf=void 0}const fn={now:()=>(Nf===void 0&&fn.set(At.isProcessing||xs.useManualTiming?At.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(FH)}},xM=t=>e=>typeof e=="string"&&e.startsWith(t),Qx=xM("--"),UH=xM("var(--"),Yx=t=>UH(t)?BH.test(t.split("/*")[0].trim()):!1,BH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ud={...tc,transform:t=>_s(0,1,t)},Gh={...tc,default:1},vu=t=>Math.round(t*1e5)/1e5,Xx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $H(t){return t==null}const zH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jx=(t,e)=>n=>!!(typeof n=="string"&&zH.test(n)&&n.startsWith(t)||e&&!$H(n)&&Object.prototype.hasOwnProperty.call(n,e)),EM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Xx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},WH=t=>_s(0,255,t),Cy={...tc,transform:t=>Math.round(WH(t))},vo={test:Jx("rgb","red"),parse:EM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cy.transform(t)+", "+Cy.transform(e)+", "+Cy.transform(n)+", "+vu(ud.transform(r))+")"};function KH(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const B0={test:Jx("#"),parse:KH,transform:vo.transform},qd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=qd("deg"),Lr=qd("%"),de=qd("px"),HH=qd("vh"),GH=qd("vw"),ub={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},Ma={test:Jx("hsl","hue"),parse:EM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(vu(e))+", "+Lr.transform(vu(n))+", "+vu(ud.transform(r))+")"},pt={test:t=>vo.test(t)||B0.test(t)||Ma.test(t),parse:t=>vo.test(t)?vo.parse(t):Ma.test(t)?Ma.parse(t):B0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):Ma.transform(t),getAnimatableNone:t=>{const e=pt.parse(t);return e.alpha=0,pt.transform(e)}},qH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QH(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xx))==null?void 0:e.length)||0)+(((n=t.match(qH))==null?void 0:n.length)||0)>0}const TM="number",SM="color",YH="var",XH="var(",db="${}",JH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(JH,l=>(pt.test(l)?(r.color.push(i),s.push(SM),n.push(pt.parse(l))):l.startsWith(XH)?(r.var.push(i),s.push(YH),n.push(l)):(r.number.push(i),s.push(TM),n.push(parseFloat(l))),++i,db)).split(db);return{values:n,split:a,indexes:r,types:s}}function IM(t){return dd(t).values}function bM(t){const{split:e,types:n}=dd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===TM?i+=vu(s[o]):a===SM?i+=pt.transform(s[o]):i+=s[o]}return i}}const ZH=t=>typeof t=="number"?0:pt.test(t)?pt.getAnimatableNone(t):t;function eG(t){const e=IM(t);return bM(t)(e.map(ZH))}const Di={test:QH,parse:IM,createTransformer:bM,getAnimatableNone:eG};function Ay(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Ay(l,a,t+1/3),i=Ay(l,a,t),o=Ay(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Yp(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,Py=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},nG=[B0,vo,Ma],rG=t=>nG.find(e=>e.test(t));function hb(t){const e=rG(t);if(!e)return!1;let n=e.parse(t);return e===Ma&&(n=tG(n)),n}const fb=(t,e)=>{const n=hb(t),r=hb(e);if(!n||!r)return Yp(t,e);const s={...n};return i=>(s.red=Py(n.red,r.red,i),s.green=Py(n.green,r.green,i),s.blue=Py(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),vo.transform(s))},$0=new Set(["none","hidden"]);function sG(t,e){return $0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iG(t,e){return n=>Qe(t,e,n)}function Zx(t){return typeof t=="number"?iG:typeof t=="string"?Yx(t)?Yp:pt.test(t)?fb:lG:Array.isArray(t)?CM:typeof t=="object"?pt.test(t)?fb:oG:Yp}function CM(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Zx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function oG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Zx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function aG(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const lG=(t,e)=>{const n=Di.createTransformer(e),r=dd(t),s=dd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$0.has(t)&&!s.values.length||$0.has(e)&&!r.values.length?sG(t,e):Hd(CM(aG(r,s),s.values),n):Yp(t,e)};function AM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Zx(t)(t,e)}const cG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ke.update(e,n),stop:()=>Ni(e),now:()=>At.isProcessing?At.timestamp:fn.now()}},PM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xp=2e4;function e1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xp;)e+=n,r=t.next(e);return e>=Xp?1/0:e}function uG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(e1(r),Xp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Or(s)}}const dG=5;function RM(t,e,n){const r=Math.max(e-dG,0);return cM(n-t(r),e-r)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ry=.001;function hG({duration:t=nt.duration,bounce:e=nt.bounce,velocity:n=nt.velocity,mass:r=nt.mass}){let s,i,o=1-e;o=_s(nt.minDamping,nt.maxDamping,o),t=_s(nt.minDuration,nt.maxDuration,Or(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,m=z0(c,o),w=Math.exp(-h);return Ry-f/m*w},i=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),y=z0(Math.pow(c,2),o);return(-s(c)+Ry>0?-1:1)*((f-m)*w)/y}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Ry+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=pG(s,i,a);if(t=Vr(t),isNaN(l))return{stiffness:nt.stiffness,damping:nt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const fG=12;function pG(t,e,n){let r=n;for(let s=1;s<fG;s++)r=r-t(r)/e(r);return r}function z0(t,e){return t*Math.sqrt(1-e*e)}const mG=["duration","bounce"],gG=["stiffness","damping","mass"];function pb(t,e){return e.some(n=>t[n]!==void 0)}function yG(t){let e={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...t};if(!pb(t,gG)&&pb(t,mG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*_s(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:nt.mass,stiffness:s,damping:i}}else{const n=hG(t);e={...e,...n,mass:nt.mass},e.isResolvedFromDuration=!0}return e}function Jp(t=nt.visualDuration,e=nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=yG({...n,velocity:-Or(n.velocity||0)}),w=f||0,y=c/(2*Math.sqrt(l*d)),S=o-i,_=Or(Math.sqrt(l/d)),x=Math.abs(S)<5;r||(r=x?nt.restSpeed.granular:nt.restSpeed.default),s||(s=x?nt.restDelta.granular:nt.restDelta.default);let T;if(y<1){const k=z0(_,y);T=V=>{const b=Math.exp(-y*_*V);return o-b*((w+y*_*S)/k*Math.sin(k*V)+S*Math.cos(k*V))}}else if(y===1)T=k=>o-Math.exp(-_*k)*(S+(w+_*S)*k);else{const k=_*Math.sqrt(y*y-1);T=V=>{const b=Math.exp(-y*_*V),I=Math.min(k*V,300);return o-b*((w+y*_*S)*Math.sinh(I)+k*S*Math.cosh(I))/k}}const A={calculatedDuration:m&&h||null,next:k=>{const V=T(k);if(m)a.done=k>=h;else{let b=k===0?w:0;y<1&&(b=k===0?Vr(w):RM(T,k,V));const I=Math.abs(b)<=r,P=Math.abs(o-V)<=s;a.done=I&&P}return a.value=a.done?o:V,a},toString:()=>{const k=Math.min(e1(A),Xp),V=PM(b=>A.next(k*b).value,k,30);return k+"ms "+V},toTransition:()=>{}};return A}Jp.applyToOptions=t=>{const e=uG(t,100,Jp);return t.ease=e.ease,t.duration=Vr(e.duration),t.type="keyframes",t};function W0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,w=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*e;const S=h+y,_=o===void 0?S:o(S);_!==S&&(y=_-h);const x=I=>-y*Math.exp(-I/r),T=I=>_+x(I),A=I=>{const P=x(I),R=T(I);f.done=Math.abs(P)<=c,f.value=f.done?_:R};let k,V;const b=I=>{m(f.value)&&(k=I,V=Jp({keyframes:[f.value,w(f.value)],velocity:RM(T,I,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return b(0),{calculatedDuration:null,next:I=>{let P=!1;return!V&&k===void 0&&(P=!0,A(I),b(I)),k!==void 0&&I>=k?V.next(I-k):(!P&&A(I),f)}}}function vG(t,e,n){const r=[],s=n||xs.mix||AM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Gn:e;a=Hd(l,a)}r.push(a)}return r}function wG(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Qp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=vG(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=cd(t[h],t[h+1],d);return a[h](f)};return n?d=>c(_s(t[0],t[i-1],d)):c}function _G(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=cd(0,e,r);t.push(Qe(n,1,s))}}function xG(t){const e=[0];return _G(e,t.length-1),e}function EG(t,e){return t.map(n=>n*e)}function TG(t,e){return t.map(()=>e||vM).splice(0,t.length-1)}function wu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=VH(r)?r.map(lb):lb(r),i={done:!1,value:e[0]},o=EG(n&&n.length===e.length?n:xG(e),t),a=wG(o,e,{ease:Array.isArray(s)?s:TG(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const SG=t=>t!==null;function t1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(SG),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const IG={decay:W0,inertia:W0,tween:wu,keyframes:wu,spring:Jp};function kM(t){typeof t.type=="string"&&(t.type=IG[t.type])}class n1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bG=t=>t/100;class r1 extends n1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kM(e);const{type:n=wu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||wu;l!==wu&&typeof a[0]!="number"&&(this.mixKeyframes=Hd(bG,AM(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=e1(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:y,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,A=r;if(h){const I=Math.min(this.currentTime,s)/a;let P=Math.floor(I),R=I%1;!R&&I>=1&&(R=1),R===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(A=o)),T=_s(0,1,R)*a}const k=x?{done:!1,value:d[0]}:A.next(T);i&&(k.value=i(k.value));let{done:V}=k;!x&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return b&&w!==W0&&(k.value=t1(d,this.options,S,this.speed)),y&&y(k.value),b&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return Or(this.calculatedDuration)}get time(){return Or(this.currentTime)}set time(e){var n;e=Vr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Or(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=cG,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function CG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wo=t=>t*180/Math.PI,K0=t=>{const e=wo(Math.atan2(t[1],t[0]));return H0(e)},AG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:K0,rotateZ:K0,skewX:t=>wo(Math.atan(t[1])),skewY:t=>wo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},H0=t=>(t=t%360,t<0&&(t+=360),t),mb=K0,gb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),PG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gb,scaleY:yb,scale:t=>(gb(t)+yb(t))/2,rotateX:t=>H0(wo(Math.atan2(t[6],t[5]))),rotateY:t=>H0(wo(Math.atan2(-t[2],t[0]))),rotateZ:mb,rotate:mb,skewX:t=>wo(Math.atan(t[4])),skewY:t=>wo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function G0(t){return t.includes("scale")?1:0}function q0(t,e){if(!t||t==="none")return G0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=PG,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=AG,s=a}if(!s)return G0(e);const i=r[e],o=s[1].split(",").map(kG);return typeof i=="function"?i(o):o[i]}const RG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return q0(n,e)};function kG(t){return parseFloat(t.trim())}const nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rc=new Set(nc),vb=t=>t===tc||t===de,NG=new Set(["x","y","z"]),DG=nc.filter(t=>!NG.has(t));function MG(t){const e=[];return DG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ro={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>q0(e,"x"),y:(t,{transform:e})=>q0(e,"y")};Ro.translateX=Ro.x;Ro.translateY=Ro.y;const ko=new Set;let Q0=!1,Y0=!1,X0=!1;function NM(){if(Y0){const t=Array.from(ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=MG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Y0=!1,Q0=!1,ko.forEach(t=>t.complete(X0)),ko.clear()}function DM(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Y0=!0)})}function VG(){X0=!0,DM(),NM(),X0=!1}class s1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ko.add(this),Q0||(Q0=!0,Ke.read(DM),Ke.resolveKeyframes(NM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}CG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.state==="scheduled"&&(ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OG=t=>t.startsWith("--");function LG(t,e,n){OG(e)?t.style.setProperty(e,n):t.style[e]=n}const jG=Kx(()=>window.ScrollTimeline!==void 0),FG={};function UG(t,e){const n=Kx(t);return()=>FG[e]??n()}const MM=UG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function VM(t,e){if(t)return typeof t=="function"?MM()?PM(t,e):"ease-out":wM(t)?qc(t):Array.isArray(t)?t.map(n=>VM(n,e)||wb.easeOut):wb[t]}function BG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=VM(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function OM(t){return typeof t=="function"&&"applyToOptions"in t}function $G({type:t,...e}){return OM(t)&&MM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zG extends n1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Qp(typeof e.type!="string");const c=$G(e);this.animation=BG(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=t1(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):LG(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Or(Number(e))}get time(){return Or(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&jG()?(this.animation.timeline=e,Gn):n(this)}}const LM={anticipate:mM,backInOut:pM,circInOut:yM};function WG(t){return t in LM}function KG(t){typeof t.ease=="string"&&WG(t.ease)&&(t.ease=LM[t.ease])}const _b=10;class HG extends zG{constructor(e){KG(e),kM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new r1({...o,autoplay:!1}),l=Vr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-_b).value,a.sample(l).value,_b),a.stop()}}const xb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Di.test(t)||t==="0")&&!t.startsWith("url("));function GG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=xb(s,e),a=xb(i,e);return!o||!a?!1:GG(t)||(n==="spring"||OM(n))&&r}function i1(t){return aM(t)&&"offsetHeight"in t}const QG=new Set(["opacity","clipPath","filter","transform"]),YG=Kx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XG(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!i1((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return YG()&&n&&QG.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const JG=40;class ZG extends n1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var w;super(),this.stop=()=>{var y,S;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=fn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||s1;this.keyframeResolver=new m(a,(y,S,_)=>this.onKeyframesResolved(y,S,f,!_),l,c,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=fn.now(),qG(e,i,o,a)||((xs.instantAnimations||!l)&&(d==null||d(t1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>JG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&XG(f)?new HG({...f,element:f.motionValue.owner.current}):new r1(f);m.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),VG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const eq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tq(t){const e=eq.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function jM(t,e,n=1){const[r,s]=tq(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return oM(o)?parseFloat(o):o}return Yx(s)?jM(s,e,n+1):s}function o1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const FM=new Set(["width","height","top","left","right","bottom",...nc]),nq={test:t=>t==="auto",parse:t=>t},UM=t=>e=>e.test(t),BM=[tc,de,Lr,$s,GH,HH,nq],Eb=t=>BM.find(UM(t));function rq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lM(t):!0}const sq=new Set(["brightness","contrast","saturate","opacity"]);function iq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xx)||[];if(!r)return t;const s=n.replace(r,"");let i=sq.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oq=/\b([a-z-]*)\(.*?\)/gu,J0={...Di,getAnimatableNone:t=>{const e=t.match(oq);return e?e.map(iq).join(" "):t}},Tb={...tc,transform:Math.round},aq={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Gh,scaleX:Gh,scaleY:Gh,scaleZ:Gh,skew:$s,skewX:$s,skewY:$s,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:ud,originX:ub,originY:ub,originZ:de},a1={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...aq,zIndex:Tb,fillOpacity:ud,strokeOpacity:ud,numOctaves:Tb},lq={...a1,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:J0,WebkitFilter:J0},$M=t=>lq[t];function zM(t,e){let n=$M(t);return n!==J0&&(n=Di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cq=new Set(["auto","none","0"]);function uq(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!cq.has(i)&&dd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=zM(n,s)}class dq extends s1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Yx(c))){const d=jM(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!FM.has(r)||e.length!==2)return;const[s,i]=e,o=Eb(s),a=Eb(i);if(o!==a)if(vb(o)&&vb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ro[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||rq(e[s]))&&r.push(s);r.length&&uq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ro[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ro[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function hq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const WM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Sb=30,fq=t=>!isNaN(parseFloat(t));class pq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=fn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sb);return cM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(t,e){return new pq(t,e)}const{schedule:l1,cancel:Dee}=_M(queueMicrotask,!1),nr={x:!1,y:!1};function KM(){return nr.x||nr.y}function mq(t){return t==="x"||t==="y"?nr[t]?null:(nr[t]=!0,()=>{nr[t]=!1}):nr.x||nr.y?null:(nr.x=nr.y=!0,()=>{nr.x=nr.y=!1})}function HM(t,e){const n=hq(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ib(t){return!(t.pointerType==="touch"||KM())}function gq(t,e,n={}){const[r,s,i]=HM(t,n),o=a=>{if(!Ib(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{Ib(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const GM=(t,e)=>e?t===e?!0:GM(t,e.parentElement):!1,c1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vq(t){return yq.has(t.tagName)||t.tabIndex!==-1}const Df=new WeakSet;function bb(t){return e=>{e.key==="Enter"&&t(e)}}function ky(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bb(()=>{if(Df.has(n))return;ky(n,"down");const s=bb(()=>{ky(n,"up")}),i=()=>ky(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Cb(t){return c1(t)&&!KM()}function _q(t,e,n={}){const[r,s,i]=HM(t,n),o=a=>{const l=a.currentTarget;if(!Cb(a))return;Df.add(l);const c=e(l,a),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Df.has(l)&&Df.delete(l),Cb(m)&&typeof c=="function"&&c(m,{success:w})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||GM(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),i1(a)&&(a.addEventListener("focus",c=>wq(c,s)),!vq(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function qM(t){return aM(t)&&"ownerSVGElement"in t}function xq(t){return qM(t)&&t.tagName==="svg"}const Kt=t=>!!(t&&t.getVelocity),Eq=[...BM,pt,Di],Tq=t=>Eq.find(UM(t)),u1=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Sq extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=i1(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Iq({children:t,isPresent:e,anchorX:n,root:r}){const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(u1);return v.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=o.current;if(e||!i.current||!l||!c)return;const m=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");a&&(w.nonce=a);const y=r??document.head;return y.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.removeChild(w),y.contains(w)&&y.removeChild(w)}},[e]),p.jsx(Sq,{isPresent:e,childRef:i,sizeRef:o,children:v.cloneElement(t,{ref:i})})}const bq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Bx(Cq),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const w of c.values())if(!w)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(f={...f}),v.useMemo(()=>{c.forEach((m,w)=>c.set(w,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(Iq,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(og.Provider,{value:f,children:t})};function Cq(){return new Map}function QM(t=!0){const e=v.useContext(og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{if(t)return s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const qh=t=>t.key||"";function Ab(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const Aq=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=QM(o),h=v.useMemo(()=>Ab(t),[t]),f=o&&!c?[]:h.map(qh),m=v.useRef(!0),w=v.useRef(h),y=Bx(()=>new Map),[S,_]=v.useState(h),[x,T]=v.useState(h);iM(()=>{m.current=!1,w.current=h;for(let V=0;V<x.length;V++){const b=qh(x[V]);f.includes(b)?y.delete(b):y.get(b)!==!0&&y.set(b,!1)}},[x,f.length,f.join("-")]);const A=[];if(h!==S){let V=[...h];for(let b=0;b<x.length;b++){const I=x[b],P=qh(I);f.includes(P)||(V.splice(b,0,I),A.push(I))}return i==="wait"&&A.length&&(V=A),T(Ab(V)),_(h),null}const{forceRender:k}=v.useContext(Ux);return p.jsx(p.Fragment,{children:x.map(V=>{const b=qh(V),I=o&&!c?!1:h===x||f.includes(b),P=()=>{if(y.has(b))y.set(b,!0);else return;let R=!0;y.forEach(D=>{D||(R=!1)}),R&&(k==null||k(),T(w.current),o&&(d==null||d()),r&&r())};return p.jsx(bq,{isPresent:I,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:P,anchorX:a,children:V},b)})})},YM=v.createContext({strict:!1}),Pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ol={};for(const t in Pb)Ol[t]={isEnabled:e=>Pb[t].some(n=>!!e[n])};function Pq(t){for(const e in t)Ol[e]={...Ol[e],...t[e]}}const Rq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Rq.has(t)}let XM=t=>!Zp(t);function kq(t){typeof t=="function"&&(XM=e=>e.startsWith("on")?!Zp(e):t(e))}try{kq(require("@emotion/is-prop-valid").default)}catch{}function Nq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(XM(s)||n===!0&&Zp(s)||!e&&!Zp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Dq(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const ag=v.createContext({});function lg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hd(t){return typeof t=="string"||Array.isArray(t)}const d1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h1=["initial",...d1];function cg(t){return lg(t.animate)||h1.some(e=>hd(t[e]))}function JM(t){return!!(cg(t)||t.variants)}function Mq(t,e){if(cg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hd(n)?n:void 0,animate:hd(r)?r:void 0}}return t.inherit!==!1?e:{}}function Vq(t){const{initial:e,animate:n}=Mq(t,v.useContext(ag));return v.useMemo(()=>({initial:e,animate:n}),[Rb(e),Rb(n)])}function Rb(t){return Array.isArray(t)?t.join(" "):t}const Oq=Symbol.for("motionComponentSymbol");function Va(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Lq(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Va(n)&&(n.current=r))},[e])}const f1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jq="framerAppearId",ZM="data-"+f1(jq),eV=v.createContext({});function Fq(t,e,n,r,s){var y,S;const{visualElement:i}=v.useContext(ag),o=v.useContext(YM),a=v.useContext(og),l=v.useContext(u1).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=v.useContext(eV);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Uq(c.current,n,s,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[ZM],w=v.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return iM(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),l1.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),w.current=!1))}),d}function Uq(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tV(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Va(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function tV(t){if(t)return t.options.allowProjection!==!1?t.projection:tV(t.parent)}function Bq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Pq(t);function i(a,l){let c;const d={...v.useContext(u1),...a,layoutId:$q(a)},{isStatic:h}=d,f=Vq(a),m=r(a,h);if(!h&&$x){zq();const w=Wq(d);c=w.MeasureLayout,f.visualElement=Fq(s,m,d,e,w.ProjectionNode)}return p.jsxs(ag.Provider,{value:f,children:[c&&f.visualElement?p.jsx(c,{visualElement:f.visualElement,...d}):null,n(s,a,Lq(m,f.visualElement,l),m,h,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=v.forwardRef(i);return o[Oq]=s,o}function $q({layoutId:t}){const e=v.useContext(Ux).id;return e&&t!==void 0?e+"-"+t:t}function zq(t,e){v.useContext(YM).strict}function Wq(t){const{drag:e,layout:n}=Ol;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fd={};function Kq(t){for(const e in t)fd[e]=t[e],Qx(e)&&(fd[e].isCSSVariable=!0)}function nV(t,{layout:e,layoutId:n}){return rc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fd[t]||t==="opacity")}const Hq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gq=nc.length;function qq(t,e,n){let r="",s=!0;for(let i=0;i<Gq;i++){const o=nc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=WM(a,a1[o]);if(!l){s=!1;const d=Hq[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function p1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(rc.has(l)){o=!0;continue}else if(Qx(l)){s[l]=c;continue}else{const d=WM(c,a1[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=qq(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const m1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rV(t,e,n){for(const r in e)!Kt(e[r])&&!nV(r,n)&&(t[r]=e[r])}function Qq({transformTemplate:t},e){return v.useMemo(()=>{const n=m1();return p1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Yq(t,e){const n=t.style||{},r={};return rV(r,n,t),Object.assign(r,Qq(t,e)),r}function Xq(t,e){const n={},r=Yq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Jq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zq={offset:"strokeDashoffset",array:"strokeDasharray"};function eQ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Jq:Zq;t[i.offset]=de.transform(-r);const o=de.transform(e),a=de.transform(n);t[i.array]=`${o} ${a}`}function sV(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(p1(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&eQ(h,s,i,o,!1)}const iV=()=>({...m1(),attrs:{}}),oV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tQ(t,e,n,r){const s=v.useMemo(()=>{const i=iV();return sV(i,e,oV(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};rV(i,t.style,t),s.style={...i,...s.style}}return s}const nQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g1(t){return typeof t!="string"||t.includes("-")?!1:!!(nQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function rQ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(g1(n)?tQ:Xq)(r,i,o,n),c=Nq(r,typeof n=="string",t),d=n!==v.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=v.useMemo(()=>Kt(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function kb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function y1(t,e,n,r){if(typeof e=="function"){const[s,i]=kb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=kb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Mf(t){return Kt(t)?t.get():t}function sQ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:iQ(n,r,s,t),renderState:e()}}const aV=t=>(e,n)=>{const r=v.useContext(ag),s=v.useContext(og),i=()=>sQ(t,e,r,s);return n?i():Bx(i)};function iQ(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Mf(i[f]);let{initial:o,animate:a}=t;const l=cg(t),c=JM(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!lg(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=y1(t,f[m]);if(w){const{transitionEnd:y,transition:S,..._}=w;for(const x in _){let T=_[x];if(Array.isArray(T)){const A=d?T.length-1:0;T=T[A]}T!==null&&(s[x]=T)}for(const x in y)s[x]=y[x]}}}return s}function v1(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Kt(r[o])||e.style&&Kt(e.style[o])||nV(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const oQ={useVisualState:aV({scrapeMotionValuesFromProps:v1,createRenderState:m1})};function lV(t,e,n){const r=v1(t,e,n);for(const s in t)if(Kt(t[s])||Kt(e[s])){const i=nc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const aQ={useVisualState:aV({scrapeMotionValuesFromProps:lV,createRenderState:iV})};function lQ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...g1(r)?aQ:oQ,preloadedFeatures:t,useRender:rQ(s),createVisualElement:e,Component:r};return Bq(o)}}function pd(t,e,n){const r=t.getProps();return y1(r,e,n!==void 0?n:r.custom,t)}const Z0=t=>Array.isArray(t);function cQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vl(n))}function uQ(t){return Z0(t)?t[t.length-1]||0:t}function dQ(t,e){const n=pd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=uQ(i[o]);cQ(t,o,a)}}function hQ(t){return!!(Kt(t)&&t.add)}function ew(t,e){const n=t.getValue("willChange");if(hQ(n))return n.add(e);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cV(t){return t.props[ZM]}const fQ=t=>t!==null;function pQ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(fQ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const mQ={type:"spring",stiffness:500,damping:25,restSpeed:10},gQ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yQ={type:"keyframes",duration:.8},vQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wQ=(t,{keyframes:e})=>e.length>2?yQ:rc.has(t)?t.startsWith("scale")?gQ(e[1]):mQ:vQ;function _Q({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const w1=(t,e,n,r={},s,i)=>o=>{const a=o1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Vr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};_Q(a)||Object.assign(d,wQ(t,d)),d.duration&&(d.duration=Vr(d.duration)),d.repeatDelay&&(d.repeatDelay=Vr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(xs.instantAnimations||xs.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=pQ(d.keyframes,a);if(f!==void 0){Ke.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new r1(d):new ZG(d)};function xQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uV(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&xQ(c,d))continue;const m={delay:n,...o1(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=cV(t);if(_){const x=window.MotionHandoffAnimation(_,d,Ke);x!==null&&(m.startTime=x,y=!0)}}ew(t,d),h.start(w1(d,h,f,t.shouldReduceMotion&&FM.has(d)?{type:!1}:m,t,y));const S=h.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{Ke.update(()=>{o&&dQ(t,o)})}),l}function tw(t,e,n={}){var l;const r=pd(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uV(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return EQ(t,e,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function EQ(t,e,n=0,r=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*s,d=typeof r=="function",h=d?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(t.variantChildren).sort(TQ).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(tw(f,e,{...o,delay:n+(d?0:r)+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function TQ(t,e){return t.sortNodePosition(e)}function SQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>tw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=tw(t,e,n);else{const s=typeof e=="function"?pd(t,e,n.custom):e;r=Promise.all(uV(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const IQ=h1.length;function hV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IQ;n++){const r=h1[n],s=t.props[r];(hd(s)||s===!1)&&(e[r]=s)}return e}const bQ=[...d1].reverse(),CQ=d1.length;function AQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>SQ(t,n,r)))}function PQ(t){let e=AQ(t),n=Nb(),r=!0;const s=l=>(c,d)=>{var f;const h=pd(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,...y}=h;c={...c,...y,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=hV(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let S=0;S<CQ;S++){const _=bQ[S],x=n[_],T=c[_]!==void 0?c[_]:d[_],A=hd(T),k=_===l?x.isActive:null;k===!1&&(w=S);let V=T===d[_]&&T!==c[_]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),x.protectedKeys={...m},!x.isActive&&k===null||!T&&!x.prevProp||lg(T)||typeof T=="boolean")continue;const b=RQ(x.prevProp,T);let I=b||_===l&&x.isActive&&!V&&A||S>w&&A,P=!1;const R=Array.isArray(T)?T:[T];let D=R.reduce(s(_),{});k===!1&&(D={});const{prevResolvedValues:M={}}=x,N={...M,...D},K=ne=>{I=!0,f.has(ne)&&(P=!0,f.delete(ne)),x.needsAnimating[ne]=!0;const j=t.getValue(ne);j&&(j.liveStyle=!1)};for(const ne in N){const j=D[ne],U=M[ne];if(m.hasOwnProperty(ne))continue;let q=!1;Z0(j)&&Z0(U)?q=!dV(j,U):q=j!==U,q?j!=null?K(ne):f.add(ne):j!==void 0&&f.has(ne)?K(ne):x.protectedKeys[ne]=!0}x.prevProp=T,x.prevResolvedValues=D,x.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(V&&b)||P)&&h.push(...R.map(ne=>({animation:ne,options:{type:_}})))}if(f.size){const S={};if(typeof c.initial!="boolean"){const _=pd(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(S.transition=_.transition)}f.forEach(_=>{const x=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),S[_]=x??null}),h.push({animation:S})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Nb(),r=!0}}}function RQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dV(e,t):!1}function to(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nb(){return{animate:to(!0),whileInView:to(),whileHover:to(),whileTap:to(),whileDrag:to(),whileFocus:to(),exit:to()}}class qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kQ extends qi{constructor(e){super(e),e.animationState||(e.animationState=PQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let NQ=0;class DQ extends qi{constructor(){super(...arguments),this.id=NQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MQ={animation:{Feature:kQ},exit:{Feature:DQ}};function md(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qd(t){return{point:{x:t.pageX,y:t.pageY}}}const VQ=t=>e=>c1(e)&&t(e,Qd(e));function _u(t,e,n,r){return md(t,e,VQ(n),r)}function fV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const pV=1e-4,jQ=1-pV,FQ=1+pV,mV=.01,UQ=0-mV,BQ=0+mV;function Zt(t){return t.max-t.min}function $Q(t,e,n){return Math.abs(t-e)<=n}function Db(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jQ&&t.scale<=FQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=UQ&&t.translate<=BQ||isNaN(t.translate))&&(t.translate=0)}function xu(t,e,n,r){Db(t.x,e.x,n.x,r?r.originX:void 0),Db(t.y,e.y,n.y,r?r.originY:void 0)}function Mb(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function zQ(t,e,n){Mb(t.x,e.x,n.x),Mb(t.y,e.y,n.y)}function Vb(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function Eu(t,e,n){Vb(t.x,e.x,n.x),Vb(t.y,e.y,n.y)}const Ob=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oa=()=>({x:Ob(),y:Ob()}),Lb=()=>({min:0,max:0}),it=()=>({x:Lb(),y:Lb()});function jn(t){return[t("x"),t("y")]}function Ny(t){return t===void 0||t===1}function nw({scale:t,scaleX:e,scaleY:n}){return!Ny(t)||!Ny(e)||!Ny(n)}function ao(t){return nw(t)||gV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gV(t){return jb(t.x)||jb(t.y)}function jb(t){return t&&t!=="0%"}function em(t,e,n){const r=t-n,s=e*r;return n+s}function Fb(t,e,n,r,s){return s!==void 0&&(t=em(t,s,r)),em(t,n,r)+e}function rw(t,e=0,n=1,r,s){t.min=Fb(t.min,e,n,r,s),t.max=Fb(t.max,e,n,r,s)}function yV(t,{x:e,y:n}){rw(t.x,e.translate,e.scale,e.originPoint),rw(t.y,n.translate,n.scale,n.originPoint)}const Ub=.999999999999,Bb=1.0000000000001;function WQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ja(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yV(t,o)),r&&ao(i.latestValues)&&ja(t,i.latestValues))}e.x<Bb&&e.x>Ub&&(e.x=1),e.y<Bb&&e.y>Ub&&(e.y=1)}function La(t,e){t.min=t.min+e,t.max=t.max+e}function $b(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);rw(t,e,n,i,r)}function ja(t,e){$b(t.x,e.x,e.scaleX,e.scale,e.originX),$b(t.y,e.y,e.scaleY,e.scale,e.originY)}function vV(t,e){return fV(LQ(t.getBoundingClientRect(),e))}function KQ(t,e,n){const r=vV(t,n),{scroll:s}=e;return s&&(La(r.x,s.offset.x),La(r.y,s.offset.y)),r}const wV=({current:t})=>t?t.ownerDocument.defaultView:null,zb=(t,e)=>Math.abs(t-e);function HQ(t,e){const n=zb(t.x,e.x),r=zb(t.y,e.y);return Math.sqrt(n**2+r**2)}class _V{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=My(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=HQ(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:y}=f,{timestamp:S}=At;this.history.push({...y,timestamp:S});const{onStart:_,onMove:x}=this.handlers;m||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Dy(m,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=My(f.type==="pointercancel"?this.lastMoveEventInfo:Dy(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,_),y&&y(f,_)},!c1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Qd(e),l=Dy(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=At;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,My(l,this.history)),this.removeListeners=Hd(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function Dy(t,e){return e?{point:e(t.point)}:t}function Wb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function My({point:t},e){return{point:t,delta:Wb(t,xV(e)),offset:Wb(t,GQ(e)),velocity:qQ(e,.1)}}function GQ(t){return t[0]}function xV(t){return t[t.length-1]}function qQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=xV(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Vr(e)));)n--;if(!r)return{x:0,y:0};const i=Or(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function Kb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YQ(t,{top:e,left:n,bottom:r,right:s}){return{x:Kb(t.x,n,s),y:Kb(t.y,e,r)}}function Hb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XQ(t,e){return{x:Hb(t.x,e.x),y:Hb(t.y,e.y)}}function JQ(t,e){let n=.5;const r=Zt(t),s=Zt(e);return s>r?n=cd(e.min,e.max-r,t.min):r>s&&(n=cd(t.min,t.max-s,e.min)),_s(0,1,n)}function ZQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sw=.35;function eY(t=sw){return t===!1?t=0:t===!0&&(t=sw),{x:Gb(t,"left","right"),y:Gb(t,"top","bottom")}}function Gb(t,e,n){return{min:qb(t,e),max:qb(t,n)}}function qb(t,e){return typeof t=="number"?t:t[e]||0}const tY=new WeakMap;class nY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qd(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:y}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mq(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(_=>{let x=this.getAxisMotionValue(_).get()||0;if(Lr.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[_];A&&(x=Zt(A)*(parseFloat(x)/100))}}this.originPoint[_]=x}),y&&Ke.postRender(()=>y(h,f)),ew(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:y,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=f;if(w&&this.currentDirection===null){this.currentDirection=rY(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>jn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _V(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:wV(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ke.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=QQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Va(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=YQ(r.layoutBox,e):this.constraints=!1,this.elastic=eY(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Va(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=KQ(r,s.root,this.visualElement.getTransformPagePoint());let o=XQ(s.layout.layoutBox,i);if(n){const a=n(OQ(o));this.hasMutatedConstraints=!!a,a&&(o=fV(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=jn(d=>{if(!Qh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ew(this.visualElement,e),r.start(w1(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!Qh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Va(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=JQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(o=>{if(!Qh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;tY.set(this.visualElement,this);const e=this.visualElement.current,n=_u(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Va(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ke.read(r);const o=md(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=sw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Qh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sY extends qi{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new nY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qb=t=>(e,n)=>{t&&Ke.postRender(()=>t(e,n))};class iY extends qi{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new _V(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qb(e),onStart:Qb(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ke.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=Yb(t,e.target.x),r=Yb(t,e.target.y);return`${n}% ${r}%`}},oY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Di.parse(t);if(s.length>5)return r;const i=Di.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Xb=!1;class aY extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Kq(lY),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Xb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Xb=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EV(t){const[e,n]=QM(),r=v.useContext(Ux);return p.jsx(aY,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(eV),isPresent:e,safeToRemove:n})}const lY={borderRadius:{...Oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oc,borderTopRightRadius:Oc,borderBottomLeftRadius:Oc,borderBottomRightRadius:Oc,boxShadow:oY};function cY(t,e,n){const r=Kt(t)?t:Vl(t);return r.start(w1("",r,e,n)),r.animation}const uY=(t,e)=>t.depth-e.depth;class dY{constructor(){this.children=[],this.isDirty=!1}add(e){zx(this.children,e),this.isDirty=!0}remove(e){Wx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uY),this.isDirty=!1,this.children.forEach(e)}}function hY(t,e){const n=fn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ni(r),t(i-e))};return Ke.setup(r,!0),()=>Ni(r)}const TV=["TopLeft","TopRight","BottomLeft","BottomRight"],fY=TV.length,Jb=t=>typeof t=="string"?parseFloat(t):t,Zb=t=>typeof t=="number"||de.test(t);function pY(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity??1,mY(r)),t.opacityExit=Qe(e.opacity??1,0,gY(r))):i&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<fY;o++){const a=`border${TV[o]}Radius`;let l=eC(e,a),c=eC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Zb(l)===Zb(c)?(t[a]=Math.max(Qe(Jb(l),Jb(c),r),0),(Lr.test(c)||Lr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function eC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mY=SV(0,.5,gM),gY=SV(.5,.95,Gn);function SV(t,e,n){return r=>r<t?0:r>e?1:n(cd(t,e,r))}function tC(t,e){t.min=e.min,t.max=e.max}function Ln(t,e){tC(t.x,e.x),tC(t.y,e.y)}function nC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rC(t,e,n,r,s){return t-=e,t=em(t,1/n,r),s!==void 0&&(t=em(t,1/s,r)),t}function yY(t,e=0,n=1,r=.5,s,i=t,o=t){if(Lr.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=rC(t.min,e,n,a,s),t.max=rC(t.max,e,n,a,s)}function sC(t,e,[n,r,s],i,o){yY(t,e[n],e[r],e[s],e.scale,i,o)}const vY=["x","scaleX","originX"],wY=["y","scaleY","originY"];function iC(t,e,n,r){sC(t.x,e,vY,n?n.x:void 0,r?r.x:void 0),sC(t.y,e,wY,n?n.y:void 0,r?r.y:void 0)}function oC(t){return t.translate===0&&t.scale===1}function IV(t){return oC(t.x)&&oC(t.y)}function aC(t,e){return t.min===e.min&&t.max===e.max}function _Y(t,e){return aC(t.x,e.x)&&aC(t.y,e.y)}function lC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bV(t,e){return lC(t.x,e.x)&&lC(t.y,e.y)}function cC(t){return Zt(t.x)/Zt(t.y)}function uC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xY{constructor(){this.members=[]}add(e){zx(this.members,e),e.scheduleRender()}remove(e){if(Wx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EY(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Vy=["","X","Y","Z"],TY=1e3;let SY=0;function Oy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function CV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&CV(r)}function AV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=SY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CY),this.nodes.forEach(kY),this.nodes.forEach(NY),this.nodes.forEach(AY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dY)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=qM(o)&&!xq(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ke.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=hY(f,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(fC)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||LY,{onLayoutAnimationStart:y,onLayoutAnimationComplete:S}=c.getProps(),_=!this.targetLayout||!bV(this.targetLayout,m),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...o1(w,"layout"),onPlay:y,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,x)}else h||fC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RY),this.nodes.forEach(IY),this.nodes.forEach(bY)):this.nodes.forEach(hC),this.clearAllSnapshots();const a=fn.now();At.delta=_s(0,1e3/60,a-At.timestamp),At.timestamp=a,At.isProcessing=!0,by.update.process(At),by.preRender.process(At),by.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PY),this.sharedNodes.forEach(MY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!IV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ao(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return it();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(FY))){const{scroll:d}=this.root;d&&(La(a.x,d.offset.x),La(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=it();if(Ln(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ln(a,o),La(a.x,h.offset.x),La(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=it();Ln(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ja(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ao(d.latestValues)&&ja(l,d.latestValues)}return ao(this.latestValues)&&ja(l,this.latestValues),l}removeTransform(o){const a=it();Ln(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ao(c.latestValues))continue;nw(c.latestValues)&&c.updateSnapshot();const d=it(),h=c.measurePageBox();Ln(d,h),iC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ao(this.latestValues)&&iC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=At.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),yV(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Eu(this.relativeTargetOrigin,this.target,m.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nw(this.parent.latestValues)||gV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===At.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ln(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;WQ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=it());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nC(this.prevProjectionDelta.x,this.projectionDelta.x),nC(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!uC(this.projectionDelta.x,this.prevProjectionDelta.x)||!uC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oa(),this.projectionDelta=Oa(),this.projectionDeltaWithTransform=Oa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Oa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=m!==w,S=this.getStack(),_=!S||S.members.length<=1,x=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(OY));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const k=A/1e3;pC(h.x,o.x,k),pC(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VY(this.relativeTarget,this.relativeTargetOrigin,f,k),T&&_Y(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=it()),Ln(T,this.relativeTarget)),y&&(this.animationValues=d,pY(d,c,this.latestValues,k,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vl(0)),this.currentAnimation=cY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&PV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const h=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Ln(a,l),ja(a,d),xu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xY),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Oy("z",o,c,this.animationValues);for(let d=0;d<Vy.length;d++)Oy(`rotate${Vy[d]}`,o,c,this.animationValues),Oy(`skew${Vy[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Mf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Mf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=EY(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in fd){if(d[w]===void 0)continue;const{correct:y,applyTo:S,isCSSVariable:_}=fd[w],x=h==="none"?d[w]:y(d[w],c);if(S){const T=S.length;for(let A=0;A<T;A++)o[S[A]]=x}else _?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=c===this?Mf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(dC),this.root.sharedNodes.clear()}}}function IY(t){t.updateLayout()}function bY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?jn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Zt(f);f.min=r[h].min,f.max=f.min+m}):PV(i,e.layoutBox,r)&&jn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Zt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Oa();xu(a,r,e.layoutBox);const l=Oa();o?xu(l,t.applyTransform(s,!0),e.measuredBox):xu(l,r,e.layoutBox);const c=!IV(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=it();Eu(w,e.layoutBox,f.layoutBox);const y=it();Eu(y,r,m.layoutBox),bV(w,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function CY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PY(t){t.clearSnapshot()}function dC(t){t.clearMeasurements()}function hC(t){t.isLayoutDirty=!1}function RY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kY(t){t.resolveTargetDelta()}function NY(t){t.calcProjection()}function DY(t){t.resetSkewAndRotation()}function MY(t){t.removeLeadSnapshot()}function pC(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mC(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function VY(t,e,n,r){mC(t.x,e.x,n.x,r),mC(t.y,e.y,n.y,r)}function OY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LY={duration:.45,ease:[.4,0,.1,1]},gC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yC=gC("applewebkit/")&&!gC("chrome/")?Math.round:Gn;function vC(t){t.min=yC(t.min),t.max=yC(t.max)}function jY(t){vC(t.x),vC(t.y)}function PV(t,e,n){return t==="position"||t==="preserve-aspect"&&!$Q(cC(e),cC(n),.2)}function FY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const UY=AV({attachResizeListener:(t,e)=>md(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ly={current:void 0},RV=AV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ly.current){const t=new UY({});t.mount(window),t.setOptions({layoutScroll:!0}),Ly.current=t}return Ly.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BY={pan:{Feature:iY},drag:{Feature:sY,ProjectionNode:RV,MeasureLayout:EV}};function wC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ke.postRender(()=>i(e,Qd(e)))}class $Y extends qi{mount(){const{current:e}=this.node;e&&(this.unmount=gq(e,(n,r)=>(wC(this.node,r,"Start"),s=>wC(this.node,s,"End"))))}unmount(){}}class zY extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hd(md(this.node.current,"focus",()=>this.onFocus()),md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _C(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ke.postRender(()=>i(e,Qd(e)))}class WY extends qi{mount(){const{current:e}=this.node;e&&(this.unmount=_q(e,(n,r)=>(_C(this.node,r,"Start"),(s,{success:i})=>_C(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iw=new WeakMap,jy=new WeakMap,KY=t=>{const e=iw.get(t.target);e&&e(t)},HY=t=>{t.forEach(KY)};function GY({root:t,...e}){const n=t||document;jy.has(n)||jy.set(n,{});const r=jy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(HY,{root:t,...e})),r[s]}function qY(t,e,n){const r=GY(e);return iw.set(t,n),r.observe(t),()=>{iw.delete(t),r.unobserve(t)}}const QY={some:0,all:1};class YY extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:QY[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return qY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XY(e,n))&&this.startObserver()}unmount(){}}function XY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JY={inView:{Feature:YY},tap:{Feature:WY},focus:{Feature:zY},hover:{Feature:$Y}},ZY={layout:{ProjectionNode:RV,MeasureLayout:EV}},ow={current:null},kV={current:!1};function eX(){if(kV.current=!0,!!$x)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ow.current=t.matches;t.addEventListener("change",e),e()}else ow.current=!1}const tX=new WeakMap;function nX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Kt(s))t.addValue(r,s);else if(Kt(i))t.addValue(r,Vl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Vl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=fn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ke.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=cg(n),this.isVariantNode=JM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Kt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,tX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kV.current||eX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ow.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ol){const n=Ol[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xC.length;r++){const s=xC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=nX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oM(r)||lM(r))?r=parseFloat(r):!Tq(r)&&Di.test(n)&&(r=zM(e,n)),this.setBaseTarget(e,Kt(r)?r.get():r)),Kt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=y1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Kt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NV extends rX{constructor(){super(...arguments),this.KeyframeResolver=dq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DV(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function sX(t){return window.getComputedStyle(t)}class iX extends NV{constructor(){super(...arguments),this.type="html",this.renderInstance=DV}readValueFromInstance(e,n){var r;if(rc.has(n))return(r=this.projection)!=null&&r.isProjecting?G0(n):RG(e,n);{const s=sX(e),i=(Qx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vV(e,n)}build(e,n,r){p1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return v1(e,n,r)}}const MV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oX(t,e,n,r){DV(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(MV.has(s)?s:f1(s),e.attrs[s])}class aX extends NV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rc.has(n)){const r=$M(n);return r&&r.default||0}return n=MV.has(n)?n:f1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lV(e,n,r)}build(e,n,r){sV(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){oX(e,n,r,s)}mount(e){this.isSVGTag=oV(e.tagName),super.mount(e)}}const lX=(t,e)=>g1(t)?new aX(e):new iX(e,{allowProjection:t!==v.Fragment}),cX=lQ({...MQ,...JY,...BY,...ZY},lX),pn=Dq(cX),uX=({isDark:t=!0})=>{const e=v.useRef(null),n=v.useRef([]),r=v.useRef();return v.useEffect(()=>{const s=e.current;if(!s)return;const i=s.getContext("2d");if(!i)return;const o=()=>{s.width=window.innerWidth,s.height=window.innerHeight},a=()=>{n.current=[];const f=Math.min(Math.floor(s.width*s.height/15e3),100);for(let m=0;m<f;m++)n.current.push({x:Math.random()*s.width,y:Math.random()*s.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1,opacity:Math.random()*.5+.1})},l=()=>{i.clearRect(0,0,s.width,s.height);const f=n.current,m=t?"59, 130, 246":"99, 102, 241";i.strokeStyle=`rgba(${m}, ${t?.15:.1})`,i.lineWidth=1;for(let w=0;w<f.length;w++)for(let y=w+1;y<f.length;y++){const S=f[w].x-f[y].x,_=f[w].y-f[y].y,x=Math.sqrt(S*S+_*_);if(x<150){const T=(1-x/150)*.3;i.globalAlpha=T,i.beginPath(),i.moveTo(f[w].x,f[w].y),i.lineTo(f[y].x,f[y].y),i.stroke()}}f.forEach(w=>{i.globalAlpha=w.opacity,i.fillStyle=`rgba(${m}, ${w.opacity})`,i.beginPath(),i.arc(w.x,w.y,w.size,0,Math.PI*2),i.fill()}),i.globalAlpha=1},c=()=>{n.current.forEach(f=>{f.x+=f.vx,f.y+=f.vy,(f.x<=0||f.x>=s.width)&&(f.vx*=-1),(f.y<=0||f.y>=s.height)&&(f.vy*=-1),f.x=Math.max(0,Math.min(s.width,f.x)),f.y=Math.max(0,Math.min(s.height,f.y))})},d=()=>{c(),l(),r.current=requestAnimationFrame(d)};o(),a(),d();const h=()=>{o(),a()};return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),r.current&&cancelAnimationFrame(r.current)}},[t]),p.jsx(pn.canvas,{ref:e,className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}})},gd=()=>{const[t,e]=v.useState(!0);return v.useEffect(()=>{const n=new MutationObserver(()=>{e(!document.documentElement.classList.contains("light"))});return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>n.disconnect()},[]),p.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[p.jsx(uX,{isDark:t}),p.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute top-3/4 right-1/4 w-48 h-48 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),p.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-56 h-56 bg-secondary/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]})},dX=Wd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background/50 backdrop-blur-sm hover:bg-accent hover:text-accent-foreground hover:border-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white hover:scale-105 hover:shadow-glow",glass:"bg-background/20 backdrop-blur-md border border-border/50 hover:bg-background/30 hover:border-primary/50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Nl:"button";return p.jsx(o,{className:Ee(dX({variant:e,size:n,className:t})),ref:i,...s})});Pe.displayName="Button";const jr=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));jr.displayName="Input";var _1="Avatar",[hX,Vee]=zd(_1),[fX,VV]=hX(_1),OV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=v.useState("idle");return p.jsx(fX,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:p.jsx(be.span,{...r,ref:e})})});OV.displayName=_1;var LV="AvatarImage",jV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=VV(LV,n),a=pX(r,i.referrerPolicy),l=qt(c=>{s(c),o.onImageLoadingStatusChange(c)});return Ur(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(be.img,{...i,ref:e,src:r}):null});jV.displayName=LV;var FV="AvatarFallback",UV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=VV(FV,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?p.jsx(be.span,{...s,ref:e}):null});UV.displayName=FV;function pX(t,e){const[n,r]=v.useState("idle");return Ur(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var BV=OV,$V=jV,zV=UV;const Ll=v.forwardRef(({className:t,...e},n)=>p.jsx(BV,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ll.displayName=BV.displayName;const jl=v.forwardRef(({className:t,...e},n)=>p.jsx($V,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));jl.displayName=$V.displayName;const Fl=v.forwardRef(({className:t,...e},n)=>p.jsx(zV,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Fl.displayName=zV.displayName;const mX=Wd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Es({className:t,variant:e,...n}){return p.jsx("div",{className:Ee(mX({variant:e}),t),...n})}const cn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));cn.displayName="Card";const Kn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Kn.displayName="CardHeader";const Mi=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mi.displayName="CardTitle";const gX=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));gX.displayName="CardDescription";const un=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));un.displayName="CardContent";const WV=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));WV.displayName="CardFooter";const yX=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState([{id:"1",type:"answer",message:"John Doe answered your question about React hooks",time:"2 minutes ago",read:!1},{id:"2",type:"mention",message:"Sarah mentioned you in a comment",time:"1 hour ago",read:!1},{id:"3",type:"upvote",message:"Your answer received 5 upvotes",time:"3 hours ago",read:!1},{id:"4",type:"badge",message:'You earned the "Helper" badge!',time:"1 day ago",read:!0}]),s=v.useRef(null),i=n.filter(c=>!c.read).length;v.useEffect(()=>{const c=d=>{s.current&&!s.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const o=c=>{switch(c){case"answer":return p.jsx(h7,{className:"w-4 h-4 text-blue-400"});case"mention":return p.jsx(bx,{className:"w-4 h-4 text-green-400"});case"upvote":return p.jsx(u7,{className:"w-4 h-4 text-red-400"});case"badge":return p.jsx(xx,{className:"w-4 h-4 text-yellow-400"});default:return p.jsx(xy,{className:"w-4 h-4"})}},a=c=>{r(d=>d.map(h=>h.id===c?{...h,read:!0}:h))},l=()=>{r(c=>c.map(d=>({...d,read:!0})))};return p.jsxs("div",{className:"relative",ref:s,children:[p.jsxs(Pe,{variant:"ghost",size:"icon",className:"relative hover:bg-background/50",onClick:()=>e(!t),children:[p.jsx(pn.div,{animate:i>0?{scale:[1,1.1,1]}:{},transition:{duration:.3,repeat:1/0,repeatDelay:2},children:p.jsx(xy,{className:"w-5 h-5"})}),i>0&&p.jsx(pn.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1",children:p.jsx(Es,{className:"w-5 h-5 p-0 text-xs bg-destructive pulse-glow flex items-center justify-center",children:i})})]}),p.jsx(Aq,{children:t&&p.jsx(pn.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 z-50",children:p.jsxs(cn,{className:"w-80 glass-strong border shadow-lg",children:[p.jsx(Kn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Mi,{className:"text-lg",children:"Notifications"}),i>0&&p.jsx(Pe,{variant:"ghost",size:"sm",onClick:l,className:"text-xs text-muted-foreground hover:text-primary",children:"Mark all read"})]})}),p.jsxs(un,{className:"space-y-2 max-h-96 overflow-y-auto",children:[n.map((c,d)=>p.jsx(pn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},className:`p-3 rounded-lg border transition-all cursor-pointer ${c.read?"bg-background/50 border-border/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"}`,onClick:()=>a(c.id),children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:o(c.type)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:`text-sm ${c.read?"text-muted-foreground":"text-foreground"}`,children:c.message}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.time})]}),!c.read&&p.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-2"})]})},c.id)),n.length===0&&p.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[p.jsx(xy,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No notifications"})]})]})]})})})]})},vX=new ts,wX=async(t,e)=>await H6($d,t,e),_X=async()=>await gU($d,vX),xX=async(t,e)=>await K6($d,t,e),EX=async()=>{await Y6($d)},yd=()=>{var w;const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(!0),[o,a]=v.useState(""),l=Ss(),c=Fi(),{user:d,loading:h}=Gi();v.useEffect(()=>{const y=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),v.useEffect(()=>{document.documentElement.classList.toggle("light",!s),localStorage.setItem("theme",s?"dark":"light")},[s]),v.useEffect(()=>{const y=localStorage.getItem("theme");y&&i(y==="dark")},[]);const f=async()=>{try{await EX(),c("/")}catch(y){console.error("Logout failed:",y)}},m=[{href:"/",label:"Home"}];return p.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"glass py-2":"bg-transparent py-4"}`,children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(Bt,{to:"/",className:"flex items-center space-x-2 group ml-4",children:[" ",p.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:p.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),p.jsx("span",{className:"text-xl font-bold gradient-text hidden sm:block",children:"StackIt"})]}),p.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-md mx-8",children:p.jsxs("div",{className:"relative w-full",children:[p.jsx(BI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(jr,{type:"text",placeholder:"Search questions, tags, users...",value:o,onChange:y=>a(y.target.value),className:"pl-10 glass border-0 bg-background/50 focus:bg-background/80 transition-all",onKeyDown:y=>{y.key==="Enter"&&o.trim()&&c(`/search?q=${encodeURIComponent(o)}`)}})]})}),p.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:m.map(y=>p.jsx(Bt,{to:y.href,className:`text-sm font-medium transition-colors hover:text-primary ${l.pathname===y.href?"text-primary":"text-muted-foreground"}`,children:y.label},y.href))}),p.jsxs("div",{className:"flex items-center space-x-3",children:[d&&p.jsx(Bt,{to:"/ask",children:p.jsxs(Pe,{className:"bg-gradient-primary hover:scale-105 transition-transform glow-hover",children:[p.jsx(Sx,{className:"w-4 h-4 mr-2"}),p.jsx("span",{className:"hidden sm:inline",children:"Ask"})]})}),d&&p.jsx(yX,{}),d?p.jsxs("div",{className:"relative group",children:[p.jsx(Bt,{to:"/profile",children:p.jsxs(Ll,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-primary transition-all",children:[p.jsx(jl,{src:d.photoURL||void 0}),p.jsx(Fl,{children:((w=d.displayName)==null?void 0:w.charAt(0))||p.jsx(bx,{className:"w-4 h-4"})})]})}),p.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-background border border-border rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:p.jsxs("div",{className:"py-1",children:[p.jsx(Bt,{to:"/profile",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10",children:"Your Profile"}),p.jsx("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-foreground hover:bg-primary/10",children:"Sign Out"})]})})]}):p.jsx(Bt,{to:"/login",children:p.jsx(Pe,{variant:"outline",size:"sm",children:"Sign In"})}),p.jsx(Pe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),"aria-label":n?"Close menu":"Open menu",children:n?p.jsx(Cx,{className:"w-5 h-5"}):p.jsx(d7,{className:"w-5 h-5"})})]})]}),n&&p.jsxs("div",{className:"md:hidden mt-4 glass rounded-lg p-4 space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(BI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(jr,{type:"text",placeholder:"Search...",value:o,onChange:y=>a(y.target.value),className:"pl-10"})]}),p.jsxs("div",{className:"space-y-2",children:[m.map(y=>p.jsx(Bt,{to:y.href,className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${l.pathname===y.href?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-background/50"}`,onClick:()=>r(!1),children:y.label},y.href)),!d&&p.jsx(Bt,{to:"/login",className:"block px-3 py-2 rounded-md text-sm font-medium bg-primary/10 text-primary",onClick:()=>r(!1),children:"Sign In"}),d&&p.jsx("button",{onClick:f,className:"w-full text-left px-3 py-2 rounded-md text-sm font-medium text-muted-foreground hover:text-primary hover:bg-background/50",children:"Sign Out"})]})]})]})})},TX=({question:t,onVote:e})=>{const[n,r]=v.useState(t.stats.votes),[s,i]=v.useState(null),{user:o}=Gi(),a=Fi(),l=d=>{if(!o){a("/login",{state:{from:window.location.pathname}});return}s===d?(r(n-(d==="up"?1:-1)),i(null)):(r(n+(s?d==="up"?2:-2:d==="up"?1:-1)),i(d)),e==null||e(t.id,d)},c=d=>{const h=new Date(d),m=new Date().getTime()-h.getTime(),w=Math.floor(m/(1e3*60*60)),y=Math.floor(w/24);return y>0?`${y}d ago`:w>0?`${w}h ago`:"Just now"};return p.jsxs(cn,{className:"glass-strong hover:shadow-medium transition-all duration-300 card-hover group",children:[p.jsx(un,{className:"p-6",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-shrink-0",children:[p.jsx(Hp,{children:p.jsxs(j0,{children:[p.jsx(F0,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>l("up"),className:`p-1 transition-colors ${s==="up"?"text-success bg-success/10":"hover:text-success"}`,children:p.jsx(Up,{className:"w-5 h-5"})})}),!o&&p.jsx(Gp,{children:p.jsx("p",{children:"Login to vote"})})]})}),p.jsx("span",{className:`font-bold text-lg ${n>0?"text-success":n<0?"text-destructive":""}`,children:n}),p.jsx(Hp,{children:p.jsxs(j0,{children:[p.jsx(F0,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>l("down"),className:`p-1 transition-colors ${s==="down"?"text-destructive bg-destructive/10":"hover:text-destructive"}`,children:p.jsx(Fp,{className:"w-5 h-5"})})}),!o&&p.jsx(Gp,{children:p.jsx("p",{children:"Login to vote"})})]})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx(Bt,{to:`/question/${t.id}`,className:"text-lg font-semibold hover:text-primary transition-colors group-hover:text-primary line-clamp-2",children:t.title}),t.hasAcceptedAnswer&&p.jsx(Es,{variant:"outline",className:"ml-2 text-success border-success bg-success/10 flex-shrink-0",children:"Solved"})]}),p.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:t.content}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(d=>p.jsxs(Es,{variant:"secondary",className:"hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",children:[p.jsx(Ix,{className:"w-3 h-3 mr-1"}),d]},d))})]})]})}),p.jsx(WV,{className:"px-6 py-4 bg-background/50 border-t border-border/50",children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ll,{className:"w-8 h-8",children:[p.jsx(jl,{src:t.author.avatar}),p.jsx(Fl,{children:p.jsx(bx,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"font-medium",children:t.author.name}),p.jsxs("span",{className:"text-muted-foreground ml-2",children:[t.author.reputation.toLocaleString()," rep"]})]})]}),p.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Tx,{className:"w-4 h-4"}),p.jsx("span",{children:t.stats.answers})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(d2,{className:"w-4 h-4"}),p.jsx("span",{children:t.stats.views})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Ex,{className:"w-4 h-4"}),p.jsx("span",{children:c(t.createdAt)})]})]})]})})]})};var SX=v.createContext(void 0);function KV(t){const e=v.useContext(SX);return t||e||"ltr"}var Fy=0;function IX(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??EC()),document.body.insertAdjacentElement("beforeend",t[1]??EC()),Fy++,()=>{Fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fy--}},[])}function EC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Uy="focusScope.autoFocusOnMount",By="focusScope.autoFocusOnUnmount",TC={bubbles:!1,cancelable:!0},bX="FocusScope",HV=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=qt(s),d=qt(i),h=v.useRef(null),f=It(e,y=>l(y)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const A=T.target;a.contains(A)?h.current=A:zs(h.current,{select:!0})},S=function(T){if(m.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||zs(h.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&zs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),x.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){IC.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(Uy,TC);a.addEventListener(Uy,c),a.dispatchEvent(_),_.defaultPrevented||(CX(NX(GV(a)),{select:!0}),document.activeElement===y&&zs(a))}return()=>{a.removeEventListener(Uy,c),setTimeout(()=>{const _=new CustomEvent(By,TC);a.addEventListener(By,d),a.dispatchEvent(_),_.defaultPrevented||zs(y??document.body,{select:!0}),a.removeEventListener(By,d),IC.remove(m)},0)}}},[a,c,d,m]);const w=v.useCallback(y=>{if(!n&&!r||m.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(S&&_){const x=y.currentTarget,[T,A]=AX(x);T&&A?!y.shiftKey&&_===A?(y.preventDefault(),n&&zs(T,{select:!0})):y.shiftKey&&_===T&&(y.preventDefault(),n&&zs(A,{select:!0})):_===x&&y.preventDefault()}},[n,r,m.paused]);return p.jsx(be.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});HV.displayName=bX;function CX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zs(r,{select:e}),document.activeElement!==n)return}function AX(t){const e=GV(t),n=SC(e,t),r=SC(e.reverse(),t);return[n,r]}function GV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SC(t,e){for(const n of t)if(!PX(n,{upTo:e}))return n}function PX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RX(t){return t instanceof HTMLInputElement&&"select"in t}function zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&RX(t)&&e&&t.select()}}var IC=kX();function kX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bC(t,e),t.unshift(e)},remove(e){var n;t=bC(t,e),(n=t[0])==null||n.resume()}}}function bC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function NX(t){return t.filter(e=>e.tagName!=="A")}function DX(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,S=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:S,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,MX(s,...e)]}function MX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var $y="rovingFocusGroup.onEntryFocus",VX={bubbles:!1,cancelable:!0},ug="RovingFocusGroup",[aw,qV,OX]=px(ug),[LX,QV]=DX(ug,[OX]),[jX,FX]=LX(ug),YV=v.forwardRef((t,e)=>p.jsx(aw.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(aw.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(UX,{...t,ref:e})})}));YV.displayName=ug;var UX=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=v.useRef(null),m=It(e,f),w=KV(i),[y=null,S]=Hm({prop:o,defaultProp:a,onChange:l}),[_,x]=v.useState(!1),T=qt(c),A=qV(n),k=v.useRef(!1),[V,b]=v.useState(0);return v.useEffect(()=>{const I=f.current;if(I)return I.addEventListener($y,T),()=>I.removeEventListener($y,T)},[T]),p.jsx(jX,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(I=>S(I),[S]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>b(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>b(I=>I-1),[]),children:p.jsx(be.div,{tabIndex:_||V===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{k.current=!0}),onFocus:ae(t.onFocus,I=>{const P=!k.current;if(I.target===I.currentTarget&&P&&!_){const R=new CustomEvent($y,VX);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=A().filter(re=>re.focusable),M=D.find(re=>re.active),N=D.find(re=>re.id===y),ue=[M,N,...D].filter(Boolean).map(re=>re.ref.current);ZV(ue,d)}}k.current=!1}),onBlur:ae(t.onBlur,()=>x(!1))})})}),XV="RovingFocusGroupItem",JV=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Bp(),l=i||a,c=FX(XV,n),d=c.currentTabStopId===l,h=qV(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return v.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),p.jsx(aw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(be.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ae(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ae(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ae(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=zX(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const x=_.indexOf(w.currentTarget);_=c.loop?WX(_,x+1):_.slice(x+1)}setTimeout(()=>ZV(_))}})})})});JV.displayName=XV;var BX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $X(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zX(t,e,n){const r=$X(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BX[r]}function ZV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function WX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KX=YV,HX=JV,GX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pa=new WeakMap,Yh=new WeakMap,Xh={},zy=0,eO=function(t){return t&&(t.host||eO(t.parentNode))},qX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},QX=function(t,e,n,r){var s=qX(e,Array.isArray(t)?t:[t]);Xh[n]||(Xh[n]=new WeakMap);var i=Xh[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",y=(pa.get(f)||0)+1,S=(i.get(f)||0)+1;pa.set(f,y),i.set(f,S),o.push(f),y===1&&w&&Yh.set(f,!0),S===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),a.clear(),zy++,function(){o.forEach(function(h){var f=pa.get(h)-1,m=i.get(h)-1;pa.set(h,f),i.set(h,m),f||(Yh.has(h)||h.removeAttribute(r),Yh.delete(h)),m||h.removeAttribute(n)}),zy--,zy||(pa=new WeakMap,pa=new WeakMap,Yh=new WeakMap,Xh={})}},YX=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=GX(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),QX(r,s,n,"aria-hidden")):function(){return null}},Of="right-scroll-bar-position",Lf="width-before-scroll-bar",XX="with-scroll-bars-hidden",JX="--removed-body-scroll-bar-size";function Wy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZX(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var eJ=typeof window<"u"?v.useLayoutEffect:v.useEffect,CC=new WeakMap;function tJ(t,e){var n=ZX(null,function(r){return t.forEach(function(s){return Wy(s,r)})});return eJ(function(){var r=CC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wy(a,null)}),i.forEach(function(a){s.has(a)||Wy(a,o)})}CC.set(n,t)},[t]),n}function nJ(t){return t}function rJ(t,e){e===void 0&&(e=nJ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function sJ(t){t===void 0&&(t={});var e=rJ(null);return e.options=Cr({async:!0,ssr:!1},t),e}var tO=function(t){var e=t.sideCar,n=Rd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Cr({},n))};tO.isSideCarExport=!0;function iJ(t,e){return t.useMedium(e),tO}var nO=sJ(),Ky=function(){},dg=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Ky,onWheelCapture:Ky,onTouchMoveCapture:Ky}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,S=t.as,_=S===void 0?"div":S,x=t.gapMode,T=Rd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,k=tJ([n,e]),V=Cr(Cr({},T),s);return v.createElement(v.Fragment,null,d&&v.createElement(A,{sideCar:nO,removeScrollBar:c,shards:h,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Cr(Cr({},V),{ref:k})):v.createElement(_,Cr({},V,{className:l,ref:k}),a))});dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dg.classNames={fullWidth:Lf,zeroRight:Of};var oJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oJ();return e&&t.setAttribute("nonce",e),t}function lJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aJ())&&(lJ(e,n),cJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dJ=function(){var t=uJ();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rO=function(){var t=dJ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},hJ={left:0,top:0,right:0,gap:0},Hy=function(t){return parseInt(t||"",10)||0},fJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Hy(n),Hy(r),Hy(s)]},pJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hJ;var e=fJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mJ=rO(),Xa="data-scroll-locked",gJ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Xa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Of,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lf," .").concat(Lf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xa,`] {
    `).concat(JX,": ").concat(a,`px;
  }
`)},AC=function(){var t=parseInt(document.body.getAttribute(Xa)||"0",10);return isFinite(t)?t:0},yJ=function(){v.useEffect(function(){return document.body.setAttribute(Xa,(AC()+1).toString()),function(){var t=AC()-1;t<=0?document.body.removeAttribute(Xa):document.body.setAttribute(Xa,t.toString())}},[])},vJ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;yJ();var i=v.useMemo(function(){return pJ(s)},[s]);return v.createElement(mJ,{styles:gJ(i,!e,s,n?"":"!important")})},lw=!1;if(typeof window<"u")try{var Jh=Object.defineProperty({},"passive",{get:function(){return lw=!0,!0}});window.addEventListener("test",Jh,Jh),window.removeEventListener("test",Jh,Jh)}catch{lw=!1}var ma=lw?{passive:!1}:!1,wJ=function(t){return t.tagName==="TEXTAREA"},sO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wJ(t)&&n[e]==="visible")},_J=function(t){return sO(t,"overflowY")},xJ=function(t){return sO(t,"overflowX")},PC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=iO(t,r);if(s){var i=oO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},iO=function(t,e){return t==="v"?_J(e):xJ(e)},oO=function(t,e){return t==="v"?EJ(e):TJ(e)},SJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},IJ=function(t,e,n,r,s){var i=SJ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var m=oO(t,a),w=m[0],y=m[1],S=m[2],_=y-S-i*w;(w||_)&&iO(t,a)&&(h+=_,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},Zh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RC=function(t){return[t.deltaX,t.deltaY]},kC=function(t){return t&&"current"in t?t.current:t},bJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},CJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AJ=0,ga=[];function PJ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(AJ++)[0],i=v.useState(rO)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=H3([t.lockRef.current],(t.shards||[]).map(kC),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=Zh(y),x=n.current,T="deltaX"in y?y.deltaX:x[0]-_[0],A="deltaY"in y?y.deltaY:x[1]-_[1],k,V=y.target,b=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in y&&b==="h"&&V.type==="range")return!1;var I=PC(b,V);if(!I)return!0;if(I?k=b:(k=b==="v"?"h":"v",I=PC(b,V)),!I)return!1;if(!r.current&&"changedTouches"in y&&(T||A)&&(r.current=k),!k)return!0;var P=r.current||k;return IJ(P,S,y,P==="h"?T:A,!0)},[]),l=v.useCallback(function(y){var S=y;if(!(!ga.length||ga[ga.length-1]!==i)){var _="deltaY"in S?RC(S):Zh(S),x=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&bJ(k.delta,_)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(kC).filter(Boolean).filter(function(k){return k.contains(S.target)}),A=T.length>0?a(S,T[0]):!o.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),c=v.useCallback(function(y,S,_,x){var T={name:y,delta:S,target:_,should:x,shadowParent:RJ(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),d=v.useCallback(function(y){n.current=Zh(y),r.current=void 0},[]),h=v.useCallback(function(y){c(y.type,RC(y),y.target,a(y,t.lockRef.current))},[]),f=v.useCallback(function(y){c(y.type,Zh(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return ga.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ma),document.addEventListener("touchmove",l,ma),document.addEventListener("touchstart",d,ma),function(){ga=ga.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,ma),document.removeEventListener("touchmove",l,ma),document.removeEventListener("touchstart",d,ma)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:CJ(s)}):null,m?v.createElement(vJ,{gapMode:t.gapMode}):null)}function RJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kJ=iJ(nO,PJ);var aO=v.forwardRef(function(t,e){return v.createElement(dg,Cr({},t,{ref:e,sideCar:kJ}))});aO.classNames=dg.classNames;var cw=["Enter"," "],NJ=["ArrowDown","PageUp","Home"],lO=["ArrowUp","PageDown","End"],DJ=[...NJ,...lO],MJ={ltr:[...cw,"ArrowRight"],rtl:[...cw,"ArrowLeft"]},VJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yd="Menu",[vd,OJ,LJ]=px(Yd),[ta,cO]=zd(Yd,[LJ,Zm,QV]),hg=Zm(),uO=QV(),[jJ,na]=ta(Yd),[FJ,Xd]=ta(Yd),dO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=hg(e),[l,c]=v.useState(null),d=v.useRef(!1),h=qt(i),f=KV(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(U2,{...a,children:p.jsx(jJ,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:p.jsx(FJ,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};dO.displayName=Yd;var UJ="MenuAnchor",x1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=hg(n);return p.jsx(B2,{...s,...r,ref:e})});x1.displayName=UJ;var E1="MenuPortal",[BJ,hO]=ta(E1,{forceMount:void 0}),fO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=na(E1,e);return p.jsx(BJ,{scope:e,forceMount:n,children:p.jsx(ea,{present:n||i.open,children:p.jsx(gx,{asChild:!0,container:s,children:r})})})};fO.displayName=E1;var qn="MenuContent",[$J,T1]=ta(qn),pO=v.forwardRef((t,e)=>{const n=hO(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=na(qn,t.__scopeMenu),o=Xd(qn,t.__scopeMenu);return p.jsx(vd.Provider,{scope:t.__scopeMenu,children:p.jsx(ea,{present:r||i.open,children:p.jsx(vd.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(zJ,{...s,ref:e}):p.jsx(WJ,{...s,ref:e})})})})}),zJ=v.forwardRef((t,e)=>{const n=na(qn,t.__scopeMenu),r=v.useRef(null),s=It(e,r);return v.useEffect(()=>{const i=r.current;if(i)return YX(i)},[]),p.jsx(S1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),WJ=v.forwardRef((t,e)=>{const n=na(qn,t.__scopeMenu);return p.jsx(S1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),S1=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,...y}=t,S=na(qn,n),_=Xd(qn,n),x=hg(n),T=uO(n),A=OJ(n),[k,V]=v.useState(null),b=v.useRef(null),I=It(e,b,S.onContentChange),P=v.useRef(0),R=v.useRef(""),D=v.useRef(0),M=v.useRef(null),N=v.useRef("right"),K=v.useRef(0),ue=w?aO:v.Fragment,re=w?{as:Nl,allowPinchZoom:!0}:void 0,ne=U=>{var He,vn;const q=R.current+U,Q=A().filter(ut=>!ut.disabled),J=document.activeElement,ie=(He=Q.find(ut=>ut.ref.current===J))==null?void 0:He.textValue,Ce=Q.map(ut=>ut.textValue),Je=nZ(Ce,q,ie),ye=(vn=Q.find(ut=>ut.textValue===Je))==null?void 0:vn.ref.current;(function ut(Nt){R.current=Nt,window.clearTimeout(P.current),Nt!==""&&(P.current=window.setTimeout(()=>ut(""),1e3))})(q),ye&&setTimeout(()=>ye.focus())};v.useEffect(()=>()=>window.clearTimeout(P.current),[]),IX();const j=v.useCallback(U=>{var Q,J;return N.current===((Q=M.current)==null?void 0:Q.side)&&sZ(U,(J=M.current)==null?void 0:J.area)},[]);return p.jsx($J,{scope:n,searchRef:R,onItemEnter:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:v.useCallback(U=>{var q;j(U)||((q=b.current)==null||q.focus(),V(null))},[j]),onTriggerLeave:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(U=>{M.current=U},[]),children:p.jsx(ue,{...re,children:p.jsx(HV,{asChild:!0,trapped:s,onMountAutoFocus:ae(i,U=>{var q;U.preventDefault(),(q=b.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(Km,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:p.jsx(KX,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:V,onEntryFocus:ae(l,U=>{_.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx($2,{role:"menu","aria-orientation":"vertical","data-state":RO(S.open),"data-radix-menu-content":"",dir:_.dir,...x,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,J=U.ctrlKey||U.altKey||U.metaKey,ie=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!J&&ie&&ne(U.key));const Ce=b.current;if(U.target!==Ce||!DJ.includes(U.key))return;U.preventDefault();const ye=A().filter(He=>!He.disabled).map(He=>He.ref.current);lO.includes(U.key)&&ye.reverse(),eZ(ye)}),onBlur:ae(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:ae(t.onPointerMove,wd(U=>{const q=U.target,Q=K.current!==U.clientX;if(U.currentTarget.contains(q)&&Q){const J=U.clientX>K.current?"right":"left";N.current=J,K.current=U.clientX}}))})})})})})})});pO.displayName=qn;var KJ="MenuGroup",I1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(be.div,{role:"group",...r,ref:e})});I1.displayName=KJ;var HJ="MenuLabel",mO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(be.div,{...r,ref:e})});mO.displayName=HJ;var tm="MenuItem",NC="menu.itemSelect",fg=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=Xd(tm,t.__scopeMenu),a=T1(tm,t.__scopeMenu),l=It(e,i),c=v.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(NC,{bubbles:!0,cancelable:!0});h.addEventListener(NC,m=>r==null?void 0:r(m),{once:!0}),mx(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(gO,{...s,ref:l,disabled:n,onClick:ae(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:ae(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ae(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||cw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});fg.displayName=tm;var gO=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=T1(tm,n),a=uO(n),l=v.useRef(null),c=It(e,l),[d,h]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[i.children]),p.jsx(vd.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:p.jsx(HX,{asChild:!0,...a,focusable:!r,children:p.jsx(be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ae(t.onPointerMove,wd(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(t.onPointerLeave,wd(w=>o.onItemLeave(w))),onFocus:ae(t.onFocus,()=>h(!0)),onBlur:ae(t.onBlur,()=>h(!1))})})})}),GJ="MenuCheckboxItem",yO=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(EO,{scope:t.__scopeMenu,checked:n,children:p.jsx(fg,{role:"menuitemcheckbox","aria-checked":nm(n)?"mixed":n,...s,ref:e,"data-state":C1(n),onSelect:ae(s.onSelect,()=>r==null?void 0:r(nm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yO.displayName=GJ;var vO="MenuRadioGroup",[qJ,QJ]=ta(vO,{value:void 0,onValueChange:()=>{}}),wO=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=qt(r);return p.jsx(qJ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:p.jsx(I1,{...s,ref:e})})});wO.displayName=vO;var _O="MenuRadioItem",xO=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=QJ(_O,t.__scopeMenu),i=n===s.value;return p.jsx(EO,{scope:t.__scopeMenu,checked:i,children:p.jsx(fg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":C1(i),onSelect:ae(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});xO.displayName=_O;var b1="MenuItemIndicator",[EO,YJ]=ta(b1,{checked:!1}),TO=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=YJ(b1,n);return p.jsx(ea,{present:r||nm(i.checked)||i.checked===!0,children:p.jsx(be.span,{...s,ref:e,"data-state":C1(i.checked)})})});TO.displayName=b1;var XJ="MenuSeparator",SO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});SO.displayName=XJ;var JJ="MenuArrow",IO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=hg(n);return p.jsx(z2,{...s,...r,ref:e})});IO.displayName=JJ;var ZJ="MenuSub",[Oee,bO]=ta(ZJ),Qc="MenuSubTrigger",CO=v.forwardRef((t,e)=>{const n=na(Qc,t.__scopeMenu),r=Xd(Qc,t.__scopeMenu),s=bO(Qc,t.__scopeMenu),i=T1(Qc,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(x1,{asChild:!0,...c,children:p.jsx(gO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":RO(n.open),...t,ref:Wm(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(t.onPointerMove,wd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ae(t.onPointerLeave,wd(h=>{var m,w;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const y=(w=n.content)==null?void 0:w.dataset.side,S=y==="right",_=S?-5:5,x=f[S?"left":"right"],T=f[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ae(t.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||MJ[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});CO.displayName=Qc;var AO="MenuSubContent",PO=v.forwardRef((t,e)=>{const n=hO(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=na(qn,t.__scopeMenu),o=Xd(qn,t.__scopeMenu),a=bO(AO,t.__scopeMenu),l=v.useRef(null),c=It(e,l);return p.jsx(vd.Provider,{scope:t.__scopeMenu,children:p.jsx(ea,{present:r||i.open,children:p.jsx(vd.Slot,{scope:t.__scopeMenu,children:p.jsx(S1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ae(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ae(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ae(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=VJ[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});PO.displayName=AO;function RO(t){return t?"open":"closed"}function nm(t){return t==="indeterminate"}function C1(t){return nm(t)?"indeterminate":t?"checked":"unchecked"}function eZ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function nZ(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=tZ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function rZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function sZ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return rZ(n,e)}function wd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var iZ=dO,oZ=x1,aZ=fO,lZ=pO,cZ=I1,uZ=mO,dZ=fg,hZ=yO,fZ=wO,pZ=xO,mZ=TO,gZ=SO,yZ=IO,vZ=CO,wZ=PO,A1="DropdownMenu",[_Z,Lee]=zd(A1,[cO]),sn=cO(),[xZ,kO]=_Z(A1),NO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=sn(e),c=v.useRef(null),[d=!1,h]=Hm({prop:s,defaultProp:i,onChange:o});return p.jsx(xZ,{scope:e,triggerId:Bp(),triggerRef:c,contentId:Bp(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:a,children:p.jsx(iZ,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};NO.displayName=A1;var DO="DropdownMenuTrigger",MO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=kO(DO,n),o=sn(n);return p.jsx(oZ,{asChild:!0,...o,children:p.jsx(be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Wm(e,i.triggerRef),onPointerDown:ae(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ae(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});MO.displayName=DO;var EZ="DropdownMenuPortal",VO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=sn(e);return p.jsx(aZ,{...r,...n})};VO.displayName=EZ;var OO="DropdownMenuContent",LO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kO(OO,n),i=sn(n),o=v.useRef(!1);return p.jsx(lZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ae(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ae(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LO.displayName=OO;var TZ="DropdownMenuGroup",SZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(cZ,{...s,...r,ref:e})});SZ.displayName=TZ;var IZ="DropdownMenuLabel",jO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(uZ,{...s,...r,ref:e})});jO.displayName=IZ;var bZ="DropdownMenuItem",FO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(dZ,{...s,...r,ref:e})});FO.displayName=bZ;var CZ="DropdownMenuCheckboxItem",UO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(hZ,{...s,...r,ref:e})});UO.displayName=CZ;var AZ="DropdownMenuRadioGroup",PZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(fZ,{...s,...r,ref:e})});PZ.displayName=AZ;var RZ="DropdownMenuRadioItem",BO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(pZ,{...s,...r,ref:e})});BO.displayName=RZ;var kZ="DropdownMenuItemIndicator",$O=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(mZ,{...s,...r,ref:e})});$O.displayName=kZ;var NZ="DropdownMenuSeparator",zO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(gZ,{...s,...r,ref:e})});zO.displayName=NZ;var DZ="DropdownMenuArrow",MZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(yZ,{...s,...r,ref:e})});MZ.displayName=DZ;var VZ="DropdownMenuSubTrigger",WO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(vZ,{...s,...r,ref:e})});WO.displayName=VZ;var OZ="DropdownMenuSubContent",KO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(wZ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KO.displayName=OZ;var LZ=NO,jZ=MO,FZ=VO,HO=LO,GO=jO,qO=FO,QO=UO,YO=BO,XO=$O,JO=zO,ZO=WO,eL=KO;const UZ=LZ,BZ=jZ,$Z=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>p.jsxs(ZO,{ref:s,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(s7,{className:"ml-auto h-4 w-4"})]}));$Z.displayName=ZO.displayName;const zZ=v.forwardRef(({className:t,...e},n)=>p.jsx(eL,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));zZ.displayName=eL.displayName;const tL=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(FZ,{children:p.jsx(HO,{ref:r,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));tL.displayName=HO.displayName;const nL=v.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(qO,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));nL.displayName=qO.displayName;const WZ=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>p.jsxs(QO,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(XO,{children:p.jsx(n7,{className:"h-4 w-4"})})}),e]}));WZ.displayName=QO.displayName;const KZ=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(YO,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(XO,{children:p.jsx(a7,{className:"h-2 w-2 fill-current"})})}),e]}));KZ.displayName=YO.displayName;const HZ=v.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(GO,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));HZ.displayName=GO.displayName;const GZ=v.forwardRef(({className:t,...e},n)=>p.jsx(JO,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));GZ.displayName=JO.displayName;const qZ=({activeFilter:t,activeSort:e,onFilterChange:n,onSortChange:r,questionCount:s})=>{const i=[{key:"newest",label:"Newest",icon:Ex,description:"Most recently asked"},{key:"trending",label:"Trending",icon:P0,description:"Hot questions"},{key:"unanswered",label:"Unanswered",icon:l7,description:"No answers yet"},{key:"solved",label:"Solved",icon:c2,description:"Has accepted answer"}],o=[{key:"newest",label:"Newest first"},{key:"oldest",label:"Oldest first"},{key:"most-votes",label:"Most votes"},{key:"most-answers",label:"Most answers"},{key:"most-views",label:"Most views"}];return p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("h2",{className:"text-xl font-semibold",children:["Questions",p.jsx(Es,{variant:"secondary",className:"ml-2",children:s.toLocaleString()})]})}),p.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[p.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2 sm:pb-0",children:i.map(a=>{const l=a.icon,c=t===a.key;return p.jsxs(Pe,{variant:c?"default":"outline",size:"sm",onClick:()=>n(a.key),className:`flex items-center space-x-2 whitespace-nowrap transition-all ${c?"bg-gradient-primary glow-primary scale-105":"hover:bg-primary/10 hover:text-primary hover:scale-105"}`,children:[p.jsx(l,{className:"w-4 h-4"}),p.jsx("span",{children:a.label})]},a.key)})}),p.jsxs(UZ,{children:[p.jsx(BZ,{asChild:!0,children:p.jsxs(Pe,{variant:"outline",size:"sm",className:"flex items-center space-x-2 hover:bg-primary/10",children:[p.jsx(e7,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Sort"}),p.jsx(r7,{className:"w-4 h-4"})]})}),p.jsx(tL,{className:"glass-strong min-w-[180px]",align:"end",children:o.map(a=>p.jsxs(nL,{className:`hover:bg-primary/10 focus:bg-primary/10 cursor-pointer ${e===a.key?"bg-primary/10 text-primary":""}`,onClick:()=>r(a.key),children:[a.label,e===a.key&&p.jsx("span",{className:"ml-auto",children:""})]},a.key))})]})]})]})},QZ=()=>{const[t,e]=v.useState(null),n=[{name:"JavaScript",count:1240,trending:!0,color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",change:12.5,direction:"up"},{name:"React",count:856,trending:!0,color:"bg-blue-500/20 text-blue-400 border-blue-500/30",change:8.2,direction:"up"},{name:"TypeScript",count:734,trending:!0,color:"bg-blue-600/20 text-blue-300 border-blue-600/30",change:15.7,direction:"up"},{name:"Python",count:623,trending:!1,color:"bg-green-500/20 text-green-400 border-green-500/30",change:-2.1,direction:"down"},{name:"Node.js",count:456,trending:!0,color:"bg-green-600/20 text-green-300 border-green-600/30",change:6.3,direction:"up"},{name:"CSS",count:389,trending:!1,color:"bg-purple-500/20 text-purple-400 border-purple-500/30",change:.5,direction:"stable"},{name:"HTML",count:345,trending:!1,color:"bg-orange-500/20 text-orange-400 border-orange-500/30",change:-1.2,direction:"down"},{name:"Vue.js",count:234,trending:!0,color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",change:9.8,direction:"up"},{name:"SQL",count:198,trending:!1,color:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",change:-3.4,direction:"down"},{name:"Next.js",count:167,trending:!0,color:"bg-gray-500/20 text-gray-300 border-gray-500/30",change:18.9,direction:"up"}];return p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsx(Kn,{className:"pb-4",children:p.jsxs(Mi,{className:"flex items-center space-x-2 text-lg",children:[p.jsx(P0,{className:"w-5 h-5 text-primary"}),p.jsx("span",{children:"Trending Tags"})]})}),p.jsxs(un,{className:"space-y-3",children:[n.map((r,s)=>p.jsxs(pn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-center justify-between group cursor-pointer",onClick:()=>e(t===r.name?null:r.name),children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsxs("div",{className:"relative",children:[p.jsx(pn.div,{animate:r.trending?{boxShadow:["0 0 0 rgba(59, 130, 246, 0)","0 0 15px rgba(59, 130, 246, 0.4)","0 0 0 rgba(59, 130, 246, 0)"]}:{},transition:{duration:2,repeat:1/0,repeatDelay:1},children:p.jsxs(Es,{variant:"outline",className:`${r.color} transition-all duration-300 group-hover:scale-110 ${t===r.name?"scale-110 glow-primary":""}`,children:[p.jsx(A0,{className:"w-3 h-3 mr-1"}),r.name]})}),r.trending&&p.jsx(pn.div,{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0}})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:r.count.toLocaleString()}),p.jsxs("div",{className:"flex items-center space-x-1",children:[r.direction==="up"&&p.jsx(Up,{className:"w-3 h-3 text-green-400"}),r.direction==="down"&&p.jsx(Fp,{className:"w-3 h-3 text-red-400"}),r.direction==="stable"&&p.jsx(t7,{className:"w-3 h-3 text-gray-400"}),p.jsxs("span",{className:`text-xs ${r.direction==="up"?"text-green-400":r.direction==="down"?"text-red-400":"text-gray-400"}`,children:[r.direction==="up"?"+":"",r.change,"%"]})]})]})]}),r.trending&&p.jsx(pn.div,{animate:{rotate:[0,10,0]},transition:{duration:2,repeat:1/0},children:p.jsx(P0,{className:"w-4 h-4 text-destructive"})})]},r.name)),p.jsx("div",{className:"pt-4 border-t border-border/50",children:p.jsxs(Pe,{variant:"ghost",className:"w-full text-sm text-muted-foreground hover:text-primary transition-colors",children:[p.jsx(Ix,{className:"w-4 h-4 mr-2"}),"View all tags"]})})]})]})},YZ=()=>{const[t,e]=v.useState({questions:0,answers:0,users:0,badges:0}),n=[{label:"Questions",value:12543,icon:p.jsx(o7,{className:"w-5 h-5"}),color:"text-blue-400"},{label:"Answers",value:34521,icon:p.jsx(Tx,{className:"w-5 h-5"}),color:"text-green-400"},{label:"Users",value:8967,icon:p.jsx(v7,{className:"w-5 h-5"}),color:"text-purple-400"},{label:"Badges Earned",value:15234,icon:p.jsx(xx,{className:"w-5 h-5"}),color:"text-yellow-400"}];v.useEffect(()=>{const o=setTimeout(()=>{n.forEach((a,l)=>{const d=a.value/125;let h=0;const f=setInterval(()=>{h+=d,h>=a.value&&(h=a.value,clearInterval(f)),e(m=>({...m,[a.label.toLowerCase().replace(" ","").replace(" earned","")]:Math.floor(h)}))},16);setTimeout(()=>clearInterval(f),2100)})},500);return()=>clearTimeout(o)},[]);const r=i=>i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toLocaleString(),s=i=>{const o=i.toLowerCase().replace(" ","").replace(" earned","");return t[o]||0};return p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Kn,{children:p.jsx(Mi,{className:"flex items-center space-x-2",children:p.jsx("span",{children:"Community Stats"})})}),p.jsx(un,{children:p.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map((i,o)=>p.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"text-center p-4 rounded-lg bg-background/30 border border-border/50 hover:bg-background/50 transition-all duration-300",children:[p.jsx(pn.div,{className:`${i.color} mx-auto mb-2`,whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:i.icon}),p.jsx(pn.div,{className:"text-2xl font-bold gradient-text",initial:{scale:.5},animate:{scale:1},transition:{delay:o*.2,type:"spring",stiffness:200},children:r(s(i.label))}),p.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.label})]},i.label))})})]})},Gy=[{id:"1",title:"How to join 2 columns in a data set to make a separate column in SQL",content:"I do not know the code for it as I am a beginner. As an example what I need to do is like there is a column 1 containing First name, and column 2 consists of last name I want a column to combine both of them.",tags:["sql","database","mysql"],author:{name:"John Doe",avatar:"https://github.com/shadcn.png",reputation:1250},stats:{votes:5,answers:3,views:127},createdAt:"2025-01-12T10:30:00Z",hasAcceptedAnswer:!0},{id:"2",title:"React useEffect dependency array best practices",content:"What are the best practices for managing dependency arrays in React useEffect hooks? I keep running into infinite re-render issues.",tags:["react","javascript","hooks"],author:{name:"Sarah Wilson",avatar:"",reputation:2890},stats:{votes:12,answers:7,views:342},createdAt:"2025-01-12T08:15:00Z",hasAcceptedAnswer:!1},{id:"3",title:"TypeScript generic constraints with conditional types",content:"I am trying to create a utility type that constrains generics based on certain conditions but I am having trouble with the syntax.",tags:["typescript","generics","types"],author:{name:"Mike Johnson",avatar:"",reputation:5420},stats:{votes:8,answers:2,views:89},createdAt:"2025-01-12T07:45:00Z",hasAcceptedAnswer:!1},{id:"4",title:"How to optimize Python pandas performance for large datasets",content:"Working with a 10GB CSV file and pandas is extremely slow. What are the best strategies for optimizing performance?",tags:["python","pandas","performance"],author:{name:"Alice Brown",avatar:"",reputation:3210},stats:{votes:15,answers:9,views:567},createdAt:"2025-01-11T16:20:00Z",hasAcceptedAnswer:!0},{id:"5",title:"CSS Grid vs Flexbox: When to use which?",content:"I am confused about when to use CSS Grid versus Flexbox. Can someone explain the key differences and use cases?",tags:["css","grid","flexbox"],author:{name:"David Lee",avatar:"",reputation:1890},stats:{votes:22,answers:11,views:1230},createdAt:"2025-01-11T14:10:00Z",hasAcceptedAnswer:!0}],XZ=()=>{const[t,e]=v.useState(Gy),[n,r]=v.useState("newest"),[s,i]=v.useState("newest"),[o,a]=v.useState(!0),{user:l}=Gi(),c=Fi();v.useEffect(()=>{document.title="StackIt"},[]);const d=()=>{r("newest"),i("newest"),h("newest","newest")},h=(S,_)=>{let x=[...Gy];switch(S){case"trending":x=[...x].sort((T,A)=>A.stats.views-T.stats.views);break;case"unanswered":x=x.filter(T=>!T.hasAcceptedAnswer);break;case"solved":x=x.filter(T=>T.hasAcceptedAnswer);break;default:x=[...x]}x.sort((T,A)=>{switch(_){case"newest":return new Date(A.createdAt).getTime()-new Date(T.createdAt).getTime();case"oldest":return new Date(T.createdAt).getTime()-new Date(A.createdAt).getTime();case"most-votes":return A.stats.votes-T.stats.votes;case"most-answers":return A.stats.answers-T.stats.answers;case"most-views":return A.stats.views-T.stats.views;default:return 0}}),e(x)},f=S=>{r(S),h(S,s)},m=S=>{i(S),h(n,S)},w=(S,_)=>{if(!l){c("/login",{state:{from:window.location.pathname}});return}e(x=>x.map(T=>T.id===S?{...T,stats:{...T.stats,votes:_==="up"?T.stats.votes+1:T.stats.votes-1}}:T))},y=S=>{const _=Gy.filter(x=>x.tags.includes(S.toLowerCase()));e(_),r("custom")};return v.useEffect(()=>{const S=setTimeout(()=>{a(!1),h("newest","newest")},1e3);return()=>clearTimeout(S)},[]),o?p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(gd,{loading:!0}),p.jsx(yd,{}),p.jsx("div",{className:"pt-24 flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading awesome questions..."})]})})]}):p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(gd,{loading:o}),p.jsx(yd,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:p.jsx("span",{className:"gradient-text",children:"Welcome to StackIt"})}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our community of developers, share knowledge, and get answers to your questions."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l?null:p.jsxs(Pe,{size:"lg",className:"bg-gradient-primary glow-hover transition-spring",onClick:()=>c("/login",{state:{from:"/ask"}}),children:[p.jsx(Sx,{className:"w-5 h-5 mr-2"}),"Ask Your First Question"]}),p.jsx(Pe,{variant:"outline",size:"lg",className:"glass transition-spring",onClick:d,children:"Browse Questions"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3",children:[p.jsx(qZ,{activeFilter:n,activeSort:s,onFilterChange:f,onSortChange:m,questionCount:t.length}),p.jsx("div",{className:"space-y-6",children:t.map((S,_)=>p.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${_*.1}s`},children:p.jsx(TX,{question:S,onVote:w,onTagClick:y})},S.id))}),p.jsx("div",{className:"text-center mt-12",children:p.jsx(Pe,{variant:"outline",className:"glass hover:scale-105 transition-spring",onClick:d,children:"Reset Filters"})})]}),p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[p.jsx(YZ,{}),p.jsx(QZ,{onTagClick:y})]})]})]})})]})},P1=v.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));P1.displayName="Textarea";var JZ="Label",rL=v.forwardRef((t,e)=>p.jsx(be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rL.displayName=JZ;var sL=rL;const ZZ=Wd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jf=v.forwardRef(({className:t,...e},n)=>p.jsx(sL,{ref:n,className:Ee(ZZ(),t),...e}));jf.displayName=sL.displayName;const eee=Wd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),iL=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:Ee(eee({variant:e}),t),...n}));iL.displayName="Alert";const tee=v.forwardRef(({className:t,...e},n)=>p.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));tee.displayName="AlertTitle";const oL=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));oL.displayName="AlertDescription";const nee=()=>{const t=Fi(),{user:e}=Gi();if(v.useEffect(()=>{e||t("/login",{state:{from:"/ask"}})},[e,t]),!e)return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(gd,{}),p.jsx(yd,{}),p.jsx("div",{className:"pt-24 flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Redirecting to login..."})]})})]});const[n,r]=v.useState(!1),[s,i]=v.useState({title:"",content:"",tags:[]}),[o,a]=v.useState(""),[l,c]=v.useState({}),d=["javascript","react","typescript","python","css","html","node.js","sql","git","mongodb","express","vue.js"],h=(_,x)=>{i(T=>({...T,[_]:x})),l[_]&&c(T=>({...T,[_]:""}))},f=_=>{const x=_.toLowerCase().trim();x&&!s.tags.includes(x)&&s.tags.length<5&&(i(T=>({...T,tags:[...T.tags,x]})),a(""))},m=_=>{i(x=>({...x,tags:x.tags.filter(T=>T!==_)}))},w=_=>{(_.key==="Enter"||_.key===",")&&(_.preventDefault(),f(o))},y=()=>{const _={};return s.title.trim()?s.title.length<10&&(_.title="Title must be at least 10 characters"):_.title="Title is required",s.content.trim()?s.content.length<30&&(_.content="Description must be at least 30 characters"):_.content="Description is required",s.tags.length===0&&(_.tags="At least one tag is required"),c(_),Object.keys(_).length===0},S=async _=>{_.preventDefault(),y()&&(r(!0),setTimeout(()=>{console.log("Question submitted:",s),r(!1),t("/")},2e3))};return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(gd,{}),p.jsx(yd,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs(Bt,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow transition-colors mb-4",children:[p.jsx(_x,{className:"w-4 h-4 mr-2"}),"Back to Questions"]}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Ask a Question"}),p.jsx("p",{className:"text-muted-foreground",children:"Get help from our community of developers. Be specific and provide details."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Kn,{children:p.jsxs(Mi,{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:p.jsx(Sx,{className:"w-4 h-4 text-white"})}),p.jsx("span",{children:"Your Question"})]})}),p.jsx(un,{children:p.jsxs("form",{onSubmit:S,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jf,{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),p.jsx(jr,{id:"title",placeholder:"What's your programming question? Be specific.",value:s.title,onChange:_=>h("title",_.target.value),className:`transition-all ${l.title?"border-destructive focus:border-destructive":""}`}),l.title&&p.jsx("p",{className:"text-sm text-destructive",children:l.title}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.title.length,"/150 characters"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jf,{htmlFor:"content",className:"text-sm font-medium",children:"Description *"}),p.jsx(P1,{id:"content",placeholder:"Describe your problem in detail. Include what you've tried and what specific help you need.",value:s.content,onChange:_=>h("content",_.target.value),className:`min-h-[200px] transition-all ${l.content?"border-destructive focus:border-destructive":""}`}),l.content&&p.jsx("p",{className:"text-sm text-destructive",children:l.content}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.content.length," characters (minimum 30)"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jf,{htmlFor:"tags",className:"text-sm font-medium",children:"Tags * (max 5)"}),s.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.tags.map(_=>p.jsxs(Es,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20 hover:bg-primary/20 transition-colors",children:[p.jsx(A0,{className:"w-3 h-3 mr-1"}),_,p.jsx("button",{type:"button",onClick:()=>m(_),className:"ml-2 hover:text-destructive transition-colors",children:p.jsx(Cx,{className:"w-3 h-3"})})]},_))}),p.jsx(jr,{id:"tags",placeholder:"Add tags (press Enter or comma to add)",value:o,onChange:_=>a(_.target.value),onKeyDown:w,disabled:s.tags.length>=5,className:`transition-all ${l.tags?"border-destructive focus:border-destructive":""}`}),l.tags&&p.jsx("p",{className:"text-sm text-destructive",children:l.tags}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested tags:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.filter(_=>!s.tags.includes(_)).slice(0,8).map(_=>p.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>f(_),disabled:s.tags.length>=5,className:"text-xs hover:bg-primary/10 hover:text-primary transition-colors",children:[p.jsx(A0,{className:"w-3 h-3 mr-1"}),_]},_))})]})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:n,children:"Cancel"}),p.jsx(Pe,{type:"submit",disabled:n,className:"bg-gradient-primary glow-hover transition-all",children:n?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Posting..."]}):p.jsxs(p.Fragment,{children:[p.jsx(f7,{className:"w-4 h-4 mr-2"}),"Post Question"]})})]})]})})]})}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsx(Kn,{children:p.jsx(Mi,{className:"text-lg",children:"Writing Tips"})}),p.jsxs(un,{className:"space-y-4",children:[p.jsxs(iL,{children:[p.jsx(i7,{className:"h-4 w-4"}),p.jsxs(oL,{className:"text-sm",children:[p.jsx("strong",{children:"Be specific:"})," Include error messages, code snippets, and expected vs actual behavior."]})]}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Good question includes:"}),p.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[p.jsx("li",{children:" Clear, specific title"}),p.jsx("li",{children:" What you're trying to do"}),p.jsx("li",{children:" What you've tried"}),p.jsx("li",{children:" Expected vs actual results"}),p.jsx("li",{children:" Relevant code snippets"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Choose tags wisely:"}),p.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[p.jsx("li",{children:" Use specific technology names"}),p.jsx("li",{children:" Include programming language"}),p.jsx("li",{children:" Add framework if relevant"}),p.jsx("li",{children:" Max 5 tags for focus"})]})]})]})]})]})})]})]})})]})};var ree="Separator",DC="horizontal",see=["horizontal","vertical"],aL=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=DC,...s}=t,i=iee(r)?r:DC,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(be.div,{"data-orientation":i,...a,...s,ref:e})});aL.displayName=ree;function iee(t){return see.includes(t)}var lL=aL;const uw=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>p.jsx(lL,{ref:s,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));uw.displayName=lL.displayName;const oee=()=>{const{id:t}=FF(),[e,n]=v.useState(null),[r,s]=v.useState(!1),[i,o]=v.useState(""),a={id:t||"1",title:"How to join 2 columns in a data set to make a separate column in SQL",content:`I do not know the code for it as I am a beginner. As an example what I need to do is like there is a column 1 containing First name, and column 2 consists of last name I want a column to combine both of them.

Here's what I have so far:

\`\`\`sql
SELECT first_name, last_name 
FROM users;
\`\`\`

But I need a way to combine these into a single column called "full_name". I've tried a few things but keep getting syntax errors. Any help would be appreciated!`,tags:["sql","database","mysql","concatenation"],author:{name:"John Doe",avatar:"https://github.com/shadcn.png",reputation:1250,badges:["bronze","silver"]},stats:{votes:5,views:127,bookmarks:3},createdAt:"2025-01-12T10:30:00Z",lastActivity:"2025-01-12T14:15:00Z"},l=[{id:"1",content:"You can use the `CONCAT()` function to combine columns in SQL. Here's how:\n\n```sql\nSELECT \n    first_name,\n    last_name,\n    CONCAT(first_name, ' ', last_name) AS full_name\nFROM users;\n```\n\nThis will create a new column called `full_name` that combines the first and last name with a space in between.\n\nAlternative approaches:\n- Use the `||` operator (PostgreSQL, SQLite): `first_name || ' ' || last_name`\n- Use the `+` operator (SQL Server): `first_name + ' ' + last_name`\n\nThe `CONCAT()` function is more portable across different database systems.",author:{name:"Sarah Wilson",avatar:"",reputation:2890,badges:["gold","silver","bronze"]},stats:{votes:8},createdAt:"2025-01-12T11:45:00Z",isAccepted:!0},{id:"2",content:"Another approach using `CONCAT_WS()` (concat with separator):\n\n```sql\nSELECT \n    CONCAT_WS(' ', first_name, last_name) AS full_name\nFROM users;\n```\n\nThis is especially useful when some values might be NULL, as `CONCAT_WS()` ignores NULL values.",author:{name:"Mike Johnson",avatar:"",reputation:5420,badges:["gold"]},stats:{votes:3},createdAt:"2025-01-12T12:20:00Z",isAccepted:!1}],c=d=>{const h=new Date(d),m=new Date().getTime()-h.getTime(),w=Math.floor(m/(1e3*60*60)),y=Math.floor(w/24);return y>0?`${y}d ago`:w>0?`${w}h ago`:"Just now"};return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(gd,{}),p.jsx(yd,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[p.jsxs(Bt,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow transition-colors mb-6",children:[p.jsx(_x,{className:"w-4 h-4 mr-2"}),"Back to Questions"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs(cn,{className:"glass-strong",children:[p.jsxs(Kn,{className:"pb-4",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold leading-tight pr-4",children:a.title}),p.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:r?"text-warning":"",children:p.jsx(UI,{className:`w-4 h-4 ${r?"fill-current":""}`})}),p.jsx(Pe,{variant:"ghost",size:"sm",children:p.jsx(p7,{className:"w-4 h-4"})}),p.jsx(Pe,{variant:"ghost",size:"sm",children:p.jsx(c7,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Ex,{className:"w-4 h-4"}),p.jsxs("span",{children:["Asked ",c(a.createdAt)]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(d2,{className:"w-4 h-4"}),p.jsxs("span",{children:[a.stats.views," views"]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Tx,{className:"w-4 h-4"}),p.jsxs("span",{children:[l.length," answers"]})]})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(d=>p.jsxs(Es,{variant:"secondary",className:"hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",children:[p.jsx(Ix,{className:"w-3 h-3 mr-1"}),d]},d))})]}),p.jsx(un,{children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-3 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>n(e==="up"?null:"up"),className:`p-2 ${e==="up"?"text-success bg-success/10":"hover:text-success"}`,children:p.jsx(Up,{className:"w-6 h-6"})}),p.jsx("span",{className:"font-bold text-xl text-success",children:a.stats.votes}),p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>n(e==="down"?null:"down"),className:`p-2 ${e==="down"?"text-destructive bg-destructive/10":"hover:text-destructive"}`,children:p.jsx(Fp,{className:"w-6 h-6"})}),p.jsx(uw,{className:"w-8"}),p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:`p-2 ${r?"text-warning":"hover:text-warning"}`,children:p.jsx(UI,{className:`w-5 h-5 ${r?"fill-current":""}`})}),p.jsx("span",{className:"text-sm text-muted-foreground",children:a.stats.bookmarks})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-foreground",children:a.content})}),p.jsx("div",{className:"flex justify-end mt-8",children:p.jsxs("div",{className:"glass rounded-lg p-4 max-w-sm",children:[p.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["asked ",c(a.createdAt)]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ll,{className:"w-10 h-10",children:[p.jsx(jl,{src:a.author.avatar}),p.jsx(Fl,{children:a.author.name[0]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:a.author.name}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.author.reputation.toLocaleString()," reputation"]})]})]})]})})]})]})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h2",{className:"text-2xl font-bold",children:[l.length," Answer",l.length!==1?"s":""]}),l.map(d=>p.jsx(cn,{className:`glass-strong ${d.isAccepted?"ring-2 ring-success/50":""}`,children:p.jsx(un,{className:"p-6",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-3 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",className:"p-2 hover:text-success",children:p.jsx(Up,{className:"w-6 h-6"})}),p.jsx("span",{className:`font-bold text-xl ${d.stats.votes>0?"text-success":""}`,children:d.stats.votes}),p.jsx(Pe,{variant:"ghost",size:"sm",className:"p-2 hover:text-destructive",children:p.jsx(Fp,{className:"w-6 h-6"})}),d.isAccepted&&p.jsxs(p.Fragment,{children:[p.jsx(uw,{className:"w-8"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(c2,{className:"w-8 h-8 text-success fill-current"}),p.jsx("span",{className:"text-xs text-success font-medium mt-1",children:"Accepted"})]})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-foreground",children:d.content})}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsxs("div",{className:"glass rounded-lg p-4 max-w-sm",children:[p.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["answered ",c(d.createdAt)]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Ll,{className:"w-10 h-10",children:[p.jsx(jl,{src:d.author.avatar}),p.jsx(Fl,{children:d.author.name[0]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"font-medium",children:d.author.name}),d.author.badges.includes("gold")&&p.jsx(u2,{className:"w-4 h-4 text-yellow-500"})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.author.reputation.toLocaleString()," reputation"]})]})]})]})})]})]})})},d.id))]}),p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Kn,{children:p.jsx("h3",{className:"text-xl font-semibold",children:"Your Answer"})}),p.jsx(un,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(P1,{placeholder:"Write your answer here... Use code blocks with ``` for code snippets.",value:i,onChange:d=>o(d.target.value),className:"min-h-[200px]"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," characters (minimum 30)"]}),p.jsx(Pe,{disabled:i.length<30,className:"bg-gradient-primary glow-hover",children:"Post Your Answer"})]})]})})]})]}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs("div",{className:"space-y-6 sticky top-24",children:[p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Kn,{children:p.jsx("h3",{className:"font-semibold",children:"Question Stats"})}),p.jsxs(un,{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Asked"}),p.jsx("span",{children:c(a.createdAt)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Viewed"}),p.jsxs("span",{children:[a.stats.views," times"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Active"}),p.jsx("span",{children:c(a.lastActivity)})]})]})]}),p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Kn,{children:p.jsx("h3",{className:"font-semibold",children:"Related Questions"})}),p.jsx(un,{className:"space-y-3",children:["How to concatenate strings in MySQL?","SQL CONCAT vs CONCAT_WS differences","Handling NULL values in string concatenation"].map((d,h)=>p.jsx(Bt,{to:"#",className:"block text-sm hover:text-primary transition-colors",children:d},h))})]})]})})]})]})})]})},aee=()=>{var w,y,S;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),l=Fi(),c=Ss(),{user:d}=Gi(),h=((y=(w=c.state)==null?void 0:w.from)==null?void 0:y.pathname)||"/";v.useEffect(()=>{d&&l(h,{replace:!0})},[d,l,h]);const f=async _=>{_.preventDefault(),a(!0),i("");try{await wX(t,n),l(h,{replace:!0})}catch{i("Failed to login. Please check your credentials.")}finally{a(!1)}},m=async()=>{a(!0),i("");try{await _X(),l(h,{replace:!0})}catch{i("Failed to login with Google. Please try again.")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 glass rounded-lg",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Welcome back"}),p.jsx("p",{className:"text-muted-foreground",children:"Login to continue to StackIt"})]}),s&&p.jsx("div",{className:"p-4 text-sm text-destructive bg-destructive/10 rounded-lg",children:s}),p.jsxs("form",{className:"space-y-4",onSubmit:f,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),p.jsx(jr,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:_=>e(_.target.value),required:!0,disabled:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),p.jsx(jr,{id:"password",type:"password",placeholder:"",value:n,onChange:_=>r(_.target.value),required:!0,disabled:o})]}),p.jsx(Pe,{type:"submit",className:"w-full",disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-border"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),p.jsx(Pe,{variant:"outline",className:"w-full",onClick:m,disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin mr-2"}),"Logging in..."]}):"Google"}),p.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",p.jsx(Bt,{to:"/register",state:{from:(S=c.state)==null?void 0:S.from},className:"text-primary hover:underline",children:"Register here"})]}),p.jsx("div",{className:"text-center text-sm text-muted-foreground",children:p.jsx(Bt,{to:"/forgot-password",className:"hover:underline",children:"Forgot password?"})})]})})},lee=()=>{var m,w;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),l=Fi(),c=Ss(),{user:d}=Gi(),h=((w=(m=c.state)==null?void 0:m.from)==null?void 0:w.pathname)||"/",f=async y=>{y.preventDefault();try{const S=await xX(t,n);await t8(S.user.uid,{displayName:s,email:t,createdAt:new Date().toISOString()}),l(h,{replace:!0})}catch(S){a("Registration failed. "+S.message)}};return d?(l(h,{replace:!0}),null):p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 glass rounded-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-center",children:"Create Account"}),o&&p.jsx("div",{className:"text-red-500 text-center",children:o}),p.jsxs("form",{className:"space-y-6",onSubmit:f,children:[p.jsx(jr,{type:"text",placeholder:"Display Name",value:s,onChange:y=>i(y.target.value),required:!0}),p.jsx(jr,{type:"email",placeholder:"Email",value:t,onChange:y=>e(y.target.value),required:!0}),p.jsx(jr,{type:"password",placeholder:"Password",value:n,onChange:y=>r(y.target.value),required:!0,minLength:6}),p.jsx(Pe,{type:"submit",className:"w-full",children:"Register"})]}),p.jsxs("div",{className:"text-center text-sm",children:["Already have an account? ",p.jsx(Bt,{to:"/login",className:"text-primary",children:"Login here"})]})]})})};function cee(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,S=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:S,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,uee(s,...e)]}function uee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var R1="Progress",k1=100,[dee,jee]=cee(R1),[hee,fee]=dee(R1),cL=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=pee,...o}=t;(s||s===0)&&!MC(s)&&console.error(mee(`${s}`,"Progress"));const a=MC(s)?s:k1;r!==null&&!VC(r,a)&&console.error(gee(`${r}`,"Progress"));const l=VC(r,a)?r:null,c=rm(l)?i(l,a):void 0;return p.jsx(hee,{scope:n,value:l,max:a,children:p.jsx(be.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":rm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":hL(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});cL.displayName=R1;var uL="ProgressIndicator",dL=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=fee(uL,n);return p.jsx(be.div,{"data-state":hL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});dL.displayName=uL;function pee(t,e){return`${Math.round(t/e*100)}%`}function hL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function rm(t){return typeof t=="number"}function MC(t){return rm(t)&&!isNaN(t)&&t>0}function VC(t,e){return rm(t)&&!isNaN(t)&&t<=e&&t>=0}function mee(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${k1}\`.`}function gee(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${k1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fL=cL,yee=dL;const dw=v.forwardRef(({className:t,value:e,...n},r)=>p.jsx(fL,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(yee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));dw.displayName=fL.displayName;const vee=()=>{const[t]=v.useState(2350),[e]=v.useState(3e3),n=[{id:"1",name:"First Answer",description:"Posted your first answer",icon:p.jsx(g7,{className:"w-4 h-4"}),earned:!0,rarity:"common",xp:50},{id:"2",name:"Helper",description:"Answer 50 questions",icon:p.jsx(w7,{className:"w-4 h-4"}),earned:!0,progress:45,maxProgress:50,rarity:"rare",xp:200},{id:"3",name:"Expert",description:"Get 100 upvotes on answers",icon:p.jsx(m7,{className:"w-4 h-4"}),earned:!1,progress:67,maxProgress:100,rarity:"epic",xp:500},{id:"4",name:"Legend",description:"Reach 10K reputation",icon:p.jsx(u2,{className:"w-4 h-4"}),earned:!1,progress:2350,maxProgress:1e4,rarity:"legendary",xp:1e3},{id:"5",name:"Mentor",description:"Help 25 new users",icon:p.jsx(y7,{className:"w-4 h-4"}),earned:!1,progress:12,maxProgress:25,rarity:"epic",xp:300}],r=i=>{switch(i){case"common":return"border-gray-400 text-gray-400";case"rare":return"border-blue-400 text-blue-400";case"epic":return"border-purple-400 text-purple-400";case"legendary":return"border-yellow-400 text-yellow-400";default:return"border-gray-400 text-gray-400"}},s=i=>{switch(i){case"common":return"hover:shadow-gray-400/20";case"rare":return"hover:shadow-blue-400/20";case"epic":return"hover:shadow-purple-400/20";case"legendary":return"hover:shadow-yellow-400/20";default:return"hover:shadow-gray-400/20"}};return p.jsx(Hp,{children:p.jsxs(cn,{className:"glass-strong",children:[p.jsxs(Kn,{children:[p.jsxs(Mi,{className:"flex items-center space-x-2",children:[p.jsx(xx,{className:"w-5 h-5 text-primary"}),p.jsx("span",{children:"Your Badges"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Level Progress"}),p.jsxs("span",{className:"text-primary font-medium",children:[t," / ",e," XP"]})]}),p.jsx(dw,{value:t/e*100,className:"h-2"})]})]}),p.jsx(un,{className:"space-y-3",children:n.map((i,o)=>p.jsxs(j0,{children:[p.jsx(F0,{asChild:!0,children:p.jsx(pn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:`p-3 rounded-lg border transition-all duration-300 cursor-pointer ${i.earned?`${r(i.rarity)} bg-background/50 ${s(i.rarity)} hover:shadow-lg`:"border-border/50 bg-background/20 opacity-60 hover:opacity-80"}`,children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(pn.div,{className:`p-2 rounded-full border ${r(i.rarity)} ${i.earned?"bg-background/50":"bg-background/20"}`,animate:i.earned?{boxShadow:["0 0 0 rgba(59, 130, 246, 0)","0 0 20px rgba(59, 130, 246, 0.3)","0 0 0 rgba(59, 130, 246, 0)"]}:{},transition:{duration:2,repeat:1/0,repeatDelay:1},children:i.icon}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h4",{className:"font-medium",children:i.name}),p.jsx(Es,{variant:"outline",className:`text-xs ${r(i.rarity)}`,children:i.rarity}),i.earned&&p.jsxs(Es,{variant:"outline",className:"text-xs text-green-400 border-green-400",children:["+",i.xp," XP"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),i.progress!==void 0&&i.maxProgress&&p.jsxs("div",{className:"mt-2 space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsx("span",{className:"text-muted-foreground",children:"Progress"}),p.jsxs("span",{className:"text-primary",children:[i.progress,"/",i.maxProgress]})]}),p.jsx(dw,{value:i.progress/i.maxProgress*100,className:"h-1"})]})]})]})})}),p.jsx(Gp,{children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-medium",children:i.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),i.progress!==void 0&&i.maxProgress&&p.jsxs("p",{className:"text-sm text-primary mt-1",children:[i.progress,"/",i.maxProgress," completed"]}),p.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["+",i.xp," XP"]})]})})]},i.id))})]})})},wee=()=>{var e;const{user:t}=Gi();return p.jsx("div",{className:"min-h-screen animated-bg",children:p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs(Bt,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow mb-6",children:[p.jsx(_x,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsxs(Kn,{className:"items-center",children:[p.jsxs(Ll,{className:"w-24 h-24 mb-4",children:[p.jsx(jl,{src:(t==null?void 0:t.photoURL)||""}),p.jsx(Fl,{children:((e=t==null?void 0:t.displayName)==null?void 0:e.charAt(0))||"U"})]}),p.jsx(Mi,{className:"text-center",children:(t==null?void 0:t.displayName)||"Anonymous User"}),p.jsx("p",{className:"text-muted-foreground text-center",children:t==null?void 0:t.email})]}),p.jsx(un,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Reputation"}),p.jsx("span",{className:"font-medium",children:"1,250"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Questions"}),p.jsx("span",{className:"font-medium",children:"12"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Answers"}),p.jsx("span",{className:"font-medium",children:"34"})]})]})})]})}),p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsx(vee,{})})]})]})})})},_ee=()=>{const t=Ss();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},xee=()=>{const{user:t,loading:e}=Gi();return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?p.jsx(ZF,{}):p.jsx(JF,{to:"/login",replace:!0})},Eee=new bH,Tee=()=>p.jsx(AH,{client:Eee,children:p.jsx(OD,{children:p.jsxs(Hp,{children:[p.jsx(tW,{}),p.jsx(RW,{}),p.jsx(a5,{children:p.jsxs(e5,{children:[p.jsx(Xr,{path:"/",element:p.jsx(XZ,{})}),p.jsx(Xr,{path:"/login",element:p.jsx(aee,{})}),p.jsx(Xr,{path:"/register",element:p.jsx(lee,{})}),p.jsx(Xr,{path:"/question/:id",element:p.jsx(oee,{})}),p.jsxs(Xr,{element:p.jsx(xee,{}),children:[p.jsx(Xr,{path:"/ask",element:p.jsx(nee,{})}),p.jsx(Xr,{path:"/profile",element:p.jsx(wee,{})})]}),p.jsx(Xr,{path:"*",element:p.jsx(_ee,{})})]})})]})})});iR(document.getElementById("root")).render(p.jsx(l5,{children:p.jsx(OD,{children:p.jsx(Tee,{})})}));
//# sourceMappingURL=index-CpGrM2Ea.js.map
