var iE=t=>{throw TypeError(t)};var _g=(t,e,n)=>e.has(t)||iE("Cannot "+n);var $=(t,e,n)=>(_g(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?iE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(_g(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(_g(t,e,"access private method"),n);var lh=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return $(t,e,r)}});function pL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function AC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PC={exports:{}},Qp={},RC={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=Symbol.for("react.element"),mL=Symbol.for("react.portal"),gL=Symbol.for("react.fragment"),yL=Symbol.for("react.strict_mode"),vL=Symbol.for("react.profiler"),wL=Symbol.for("react.provider"),_L=Symbol.for("react.context"),xL=Symbol.for("react.forward_ref"),EL=Symbol.for("react.suspense"),TL=Symbol.for("react.memo"),bL=Symbol.for("react.lazy"),oE=Symbol.iterator;function IL(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var kC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NC=Object.assign,DC={};function Vl(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||kC}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MC(){}MC.prototype=Vl.prototype;function Z0(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||kC}var ew=Z0.prototype=new MC;ew.constructor=Z0;NC(ew,Vl.prototype);ew.isPureReactComponent=!0;var aE=Array.isArray,VC=Object.prototype.hasOwnProperty,tw={current:null},OC={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)VC.call(e,r)&&!OC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:pd,type:t,key:i,ref:o,props:s,_owner:tw.current}}function SL(t,e){return{$$typeof:pd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nw(t){return typeof t=="object"&&t!==null&&t.$$typeof===pd}function CL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lE=/\/+/g;function xg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CL(""+t.key):e.toString(36)}function Gh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pd:case mL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xg(o,0):r,aE(s)?(n="",t!=null&&(n=t.replace(lE,"$&/")+"/"),Gh(s,e,n,"",function(c){return c})):s!=null&&(nw(s)&&(s=SL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",aE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+xg(i,a);o+=Gh(i,e,n,l,s)}else if(l=IL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+xg(i,a++),o+=Gh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ch(t,e,n){if(t==null)return t;var r=[],s=0;return Gh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function AL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},qh={transition:null},PL={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:qh,ReactCurrentOwner:tw};function jC(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ch,forEach:function(t,e,n){ch(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!nw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Vl;ve.Fragment=gL;ve.Profiler=vL;ve.PureComponent=Z0;ve.StrictMode=yL;ve.Suspense=EL;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;ve.act=jC;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VC.call(e,l)&&!OC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pd,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:_L,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wL,_context:t},t.Consumer=t};ve.createElement=LC;ve.createFactory=function(t){var e=LC.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:xL,render:t}};ve.isValidElement=nw;ve.lazy=function(t){return{$$typeof:bL,_payload:{_status:-1,_result:t},_init:AL}};ve.memo=function(t,e){return{$$typeof:TL,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=qh.transition;qh.transition={};try{t()}finally{qh.transition=e}};ve.unstable_act=jC;ve.useCallback=function(t,e){return nn.current.useCallback(t,e)};ve.useContext=function(t){return nn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return nn.current.useEffect(t,e)};ve.useId=function(){return nn.current.useId()};ve.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return nn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ve.useRef=function(t){return nn.current.useRef(t)};ve.useState=function(t){return nn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return nn.current.useTransition()};ve.version="18.3.1";RC.exports=ve;var v=RC.exports;const G=AC(v),FC=pL({__proto__:null,default:G},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL=v,kL=Symbol.for("react.element"),NL=Symbol.for("react.fragment"),DL=Object.prototype.hasOwnProperty,ML=RL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VL={key:!0,ref:!0,__self:!0,__source:!0};function UC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DL.call(e,r)&&!VL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:kL,type:t,key:i,ref:o,props:s,_owner:ML.current}}Qp.Fragment=NL;Qp.jsx=UC;Qp.jsxs=UC;PC.exports=Qp;var p=PC.exports,BC={exports:{}},Dn={},$C={exports:{}},zC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var Q=q-1>>>1,Y=j[Q];if(0<s(Y,U))j[Q]=U,j[q]=Y,q=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var Q=0,Y=j.length,se=Y>>>1;Q<se;){var Ce=2*(Q+1)-1,Je=j[Ce],ye=Ce+1,He=j[ye];if(0>s(Je,q))ye<Y&&0>s(He,Je)?(j[Q]=He,j[ye]=q,Q=ye):(j[Q]=Je,j[Ce]=q,Q=Ce);else if(ye<Y&&0>s(He,q))j[Q]=He,j[ye]=q,Q=ye;else break e}}return U}function s(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function A(j){if(y=!1,T(j),!w)if(n(l)!==null)w=!0,ne(k);else{var U=n(c);U!==null&&te(A,U.startTime-j)}}function k(j,U){w=!1,y&&(y=!1,_(I),I=-1),m=!0;var q=f;try{for(T(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var Y=Q(h.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),T(U)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var Ce=n(c);Ce!==null&&te(A,Ce.startTime-U),se=!1}return se}finally{h=null,f=q,m=!1}}var V=!1,S=null,I=-1,P=5,R=-1;function D(){return!(t.unstable_now()-R<P)}function M(){if(S!==null){var j=t.unstable_now();R=j;var U=!0;try{U=S(!0,j)}finally{U?N():(V=!1,S=null)}}else V=!1}var N;if(typeof x=="function")N=function(){x(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,le=K.port2;K.port1.onmessage=M,N=function(){le.postMessage(null)}}else N=function(){b(M,0)};function ne(j){S=j,V||(V=!0,N())}function te(j,U){I=b(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ne(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return j()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=f;f=j;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(j,U,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,j={id:d++,callback:U,priorityLevel:j,startTime:q,expirationTime:Y,sortIndex:-1},q>Q?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(y?(_(I),I=-1):y=!0,te(A,q-Q))):(j.sortIndex=Y,e(l,j),w||m||(w=!0,ne(k))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var U=f;return function(){var q=f;f=U;try{return j.apply(this,arguments)}finally{f=q}}}})(zC);$C.exports=zC;var OL=$C.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL=v,Rn=OL;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WC=new Set,mu={};function Ho(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(mu[t]=e,t=0;t<e.length;t++)WC.add(e[t])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ly=Object.prototype.hasOwnProperty,jL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cE={},uE={};function FL(t){return Ly.call(uE,t)?!0:Ly.call(cE,t)?!1:jL.test(t)?uE[t]=!0:(cE[t]=!0,!1)}function UL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BL(t,e,n,r){if(e===null||typeof e>"u"||UL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rw=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rw,sw);kt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rw,sw);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rw,sw);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function iw(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BL(e,n,s,r)&&(n=null),r||s===null?FL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ts=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uh=Symbol.for("react.element"),_a=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),jy=Symbol.for("react.profiler"),KC=Symbol.for("react.provider"),HC=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),Fy=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),lw=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),GC=Symbol.for("react.offscreen"),dE=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=dE&&t[dE]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Eg;function Rc(t){if(Eg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eg=e&&e[1]||""}return`
`+Eg+t}var Tg=!1;function bg(t,e){if(!t||Tg)return"";Tg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rc(t):""}function $L(t){switch(t.tag){case 5:return Rc(t.type);case 16:return Rc("Lazy");case 13:return Rc("Suspense");case 19:return Rc("SuspenseList");case 0:case 2:case 15:return t=bg(t.type,!1),t;case 11:return t=bg(t.type.render,!1),t;case 1:return t=bg(t.type,!0),t;default:return""}}function By(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xa:return"Fragment";case _a:return"Portal";case jy:return"Profiler";case ow:return"StrictMode";case Fy:return"Suspense";case Uy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HC:return(t.displayName||"Context")+".Consumer";case KC:return(t._context.displayName||"Context")+".Provider";case aw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lw:return e=t.displayName||null,e!==null?e:By(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return By(t(e))}catch{}}return null}function zL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return By(e);case 8:return e===ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WL(t){var e=qC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dh(t){t._valueTracker||(t._valueTracker=WL(t))}function QC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $y(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XC(t,e){e=e.checked,e!=null&&iw(t,"checked",e,!1)}function zy(t,e){XC(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wy(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wy(t,e,n){(e!=="number"||Nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kc=Array.isArray;function La(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ky(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(kc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function YC(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,ZC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KL=["Webkit","ms","Moz","O"];Object.keys(zc).forEach(function(t){KL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zc[e]=zc[t]})});function eA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zc.hasOwnProperty(t)&&zc[t]?(""+e).trim():e+"px"}function tA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var HL=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gy(t,e){if(e){if(HL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function qy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=null;function cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xy=null,ja=null,Fa=null;function gE(t){if(t=yd(t)){if(typeof Xy!="function")throw Error(W(280));var e=t.stateNode;e&&(e=em(e),Xy(t.stateNode,t.type,e))}}function nA(t){ja?Fa?Fa.push(t):Fa=[t]:ja=t}function rA(){if(ja){var t=ja,e=Fa;if(Fa=ja=null,gE(t),e)for(t=0;t<e.length;t++)gE(e[t])}}function sA(t,e){return t(e)}function iA(){}var Ig=!1;function oA(t,e,n){if(Ig)return t(e,n);Ig=!0;try{return sA(t,e,n)}finally{Ig=!1,(ja!==null||Fa!==null)&&(iA(),rA())}}function yu(t,e){var n=t.stateNode;if(n===null)return null;var r=em(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Yy=!1;if(us)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){Yy=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{Yy=!1}function GL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Wc=!1,Df=null,Mf=!1,Jy=null,qL={onError:function(t){Wc=!0,Df=t}};function QL(t,e,n,r,s,i,o,a,l){Wc=!1,Df=null,GL.apply(qL,arguments)}function XL(t,e,n,r,s,i,o,a,l){if(QL.apply(this,arguments),Wc){if(Wc){var c=Df;Wc=!1,Df=null}else throw Error(W(198));Mf||(Mf=!0,Jy=c)}}function Go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yE(t){if(Go(t)!==t)throw Error(W(188))}function YL(t){var e=t.alternate;if(!e){if(e=Go(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yE(s),t;if(i===r)return yE(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function lA(t){return t=YL(t),t!==null?cA(t):null}function cA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cA(t);if(e!==null)return e;t=t.sibling}return null}var uA=Rn.unstable_scheduleCallback,vE=Rn.unstable_cancelCallback,JL=Rn.unstable_shouldYield,ZL=Rn.unstable_requestPaint,ot=Rn.unstable_now,ej=Rn.unstable_getCurrentPriorityLevel,uw=Rn.unstable_ImmediatePriority,dA=Rn.unstable_UserBlockingPriority,Vf=Rn.unstable_NormalPriority,tj=Rn.unstable_LowPriority,hA=Rn.unstable_IdlePriority,Xp=null,Pr=null;function nj(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Xp,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:ij,rj=Math.log,sj=Math.LN2;function ij(t){return t>>>=0,t===0?32:31-(rj(t)/sj|0)|0}var fh=64,ph=4194304;function Nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nc(a):(i&=o,i!==0&&(r=Nc(i)))}else o=n&~s,o!==0?r=Nc(o):i!==0&&(r=Nc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function oj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=oj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Zy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fA(){var t=fh;return fh<<=1,!(fh&4194240)&&(fh=64),t}function Sg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function md(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function lj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function pA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mA,hw,gA,yA,vA,ev=!1,mh=[],ai=null,li=null,ci=null,vu=new Map,wu=new Map,Hs=[],cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wE(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(e.pointerId)}}function gc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yd(e),e!==null&&hw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uj(t,e,n,r,s){switch(e){case"focusin":return ai=gc(ai,t,e,n,r,s),!0;case"dragenter":return li=gc(li,t,e,n,r,s),!0;case"mouseover":return ci=gc(ci,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vu.set(i,gc(vu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wu.set(i,gc(wu.get(i)||null,t,e,n,r,s)),!0}return!1}function wA(t){var e=co(t.target);if(e!==null){var n=Go(e);if(n!==null){if(e=n.tag,e===13){if(e=aA(n),e!==null){t.blockedOn=e,vA(t.priority,function(){gA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qy=r,n.target.dispatchEvent(r),Qy=null}else return e=yd(n),e!==null&&hw(e),t.blockedOn=n,!1;e.shift()}return!0}function _E(t,e,n){Qh(t)&&n.delete(e)}function dj(){ev=!1,ai!==null&&Qh(ai)&&(ai=null),li!==null&&Qh(li)&&(li=null),ci!==null&&Qh(ci)&&(ci=null),vu.forEach(_E),wu.forEach(_E)}function yc(t,e){t.blockedOn===e&&(t.blockedOn=null,ev||(ev=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,dj)))}function _u(t){function e(s){return yc(s,t)}if(0<mh.length){yc(mh[0],t);for(var n=1;n<mh.length;n++){var r=mh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ai!==null&&yc(ai,t),li!==null&&yc(li,t),ci!==null&&yc(ci,t),vu.forEach(e),wu.forEach(e),n=0;n<Hs.length;n++)r=Hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)wA(n),n.blockedOn===null&&Hs.shift()}var Ua=Ts.ReactCurrentBatchConfig,Lf=!0;function hj(t,e,n,r){var s=ke,i=Ua.transition;Ua.transition=null;try{ke=1,fw(t,e,n,r)}finally{ke=s,Ua.transition=i}}function fj(t,e,n,r){var s=ke,i=Ua.transition;Ua.transition=null;try{ke=4,fw(t,e,n,r)}finally{ke=s,Ua.transition=i}}function fw(t,e,n,r){if(Lf){var s=tv(t,e,n,r);if(s===null)Og(t,e,r,jf,n),wE(t,r);else if(uj(s,t,e,n,r))r.stopPropagation();else if(wE(t,r),e&4&&-1<cj.indexOf(t)){for(;s!==null;){var i=yd(s);if(i!==null&&mA(i),i=tv(t,e,n,r),i===null&&Og(t,e,r,jf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Og(t,e,r,null,n)}}var jf=null;function tv(t,e,n,r){if(jf=null,t=cw(r),t=co(t),t!==null)if(e=Go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function _A(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ej()){case uw:return 1;case dA:return 4;case Vf:case tj:return 16;case hA:return 536870912;default:return 16}default:return 16}}var ri=null,pw=null,Xh=null;function xA(){if(Xh)return Xh;var t,e=pw,n=e.length,r,s="value"in ri?ri.value:ri.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Xh=s.slice(t,1<r?1-r:void 0)}function Yh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gh(){return!0}function xE(){return!1}function Mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gh:xE,this.isPropagationStopped=xE,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mw=Mn(Ol),gd=Ye({},Ol,{view:0,detail:0}),pj=Mn(gd),Cg,Ag,vc,Yp=Ye({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(Cg=t.screenX-vc.screenX,Ag=t.screenY-vc.screenY):Ag=Cg=0,vc=t),Cg)},movementY:function(t){return"movementY"in t?t.movementY:Ag}}),EE=Mn(Yp),mj=Ye({},Yp,{dataTransfer:0}),gj=Mn(mj),yj=Ye({},gd,{relatedTarget:0}),Pg=Mn(yj),vj=Ye({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),wj=Mn(vj),_j=Ye({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xj=Mn(_j),Ej=Ye({},Ol,{data:0}),TE=Mn(Ej),Tj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ij[t])?!!e[t]:!1}function gw(){return Sj}var Cj=Ye({},gd,{key:function(t){if(t.key){var e=Tj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gw,charCode:function(t){return t.type==="keypress"?Yh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aj=Mn(Cj),Pj=Ye({},Yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bE=Mn(Pj),Rj=Ye({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gw}),kj=Mn(Rj),Nj=Ye({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dj=Mn(Nj),Mj=Ye({},Yp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vj=Mn(Mj),Oj=[9,13,27,32],yw=us&&"CompositionEvent"in window,Kc=null;us&&"documentMode"in document&&(Kc=document.documentMode);var Lj=us&&"TextEvent"in window&&!Kc,EA=us&&(!yw||Kc&&8<Kc&&11>=Kc),IE=" ",SE=!1;function TA(t,e){switch(t){case"keyup":return Oj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function jj(t,e){switch(t){case"compositionend":return bA(e);case"keypress":return e.which!==32?null:(SE=!0,IE);case"textInput":return t=e.data,t===IE&&SE?null:t;default:return null}}function Fj(t,e){if(Ea)return t==="compositionend"||!yw&&TA(t,e)?(t=xA(),Xh=pw=ri=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EA&&e.locale!=="ko"?null:e.data;default:return null}}var Uj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uj[t.type]:e==="textarea"}function IA(t,e,n,r){nA(r),e=Ff(e,"onChange"),0<e.length&&(n=new mw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hc=null,xu=null;function Bj(t){OA(t,0)}function Jp(t){var e=Ia(t);if(QC(e))return t}function $j(t,e){if(t==="change")return e}var SA=!1;if(us){var Rg;if(us){var kg="oninput"in document;if(!kg){var AE=document.createElement("div");AE.setAttribute("oninput","return;"),kg=typeof AE.oninput=="function"}Rg=kg}else Rg=!1;SA=Rg&&(!document.documentMode||9<document.documentMode)}function PE(){Hc&&(Hc.detachEvent("onpropertychange",CA),xu=Hc=null)}function CA(t){if(t.propertyName==="value"&&Jp(xu)){var e=[];IA(e,xu,t,cw(t)),oA(Bj,e)}}function zj(t,e,n){t==="focusin"?(PE(),Hc=e,xu=n,Hc.attachEvent("onpropertychange",CA)):t==="focusout"&&PE()}function Wj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jp(xu)}function Kj(t,e){if(t==="click")return Jp(e)}function Hj(t,e){if(t==="input"||t==="change")return Jp(e)}function Gj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:Gj;function Eu(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ly.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function RE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kE(t,e){var n=RE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RE(n)}}function AA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PA(){for(var t=window,e=Nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nf(t.document)}return e}function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qj(t){var e=PA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AA(n.ownerDocument.documentElement,n)){if(r!==null&&vw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kE(n,i);var o=kE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qj=us&&"documentMode"in document&&11>=document.documentMode,Ta=null,nv=null,Gc=null,rv=!1;function NE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rv||Ta==null||Ta!==Nf(r)||(r=Ta,"selectionStart"in r&&vw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gc&&Eu(Gc,r)||(Gc=r,r=Ff(nv,"onSelect"),0<r.length&&(e=new mw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ta)))}function yh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ba={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},Ng={},RA={};us&&(RA=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Zp(t){if(Ng[t])return Ng[t];if(!ba[t])return t;var e=ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RA)return Ng[t]=e[n];return t}var kA=Zp("animationend"),NA=Zp("animationiteration"),DA=Zp("animationstart"),MA=Zp("transitionend"),VA=new Map,DE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){VA.set(t,e),Ho(e,[t])}for(var Dg=0;Dg<DE.length;Dg++){var Mg=DE[Dg],Xj=Mg.toLowerCase(),Yj=Mg[0].toUpperCase()+Mg.slice(1);Mi(Xj,"on"+Yj)}Mi(kA,"onAnimationEnd");Mi(NA,"onAnimationIteration");Mi(DA,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(MA,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function ME(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XL(r,e,void 0,t),t.currentTarget=null}function OA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ME(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ME(s,a,c),i=l}}}if(Mf)throw t=Jy,Mf=!1,Jy=null,t}function Ue(t,e){var n=e[lv];n===void 0&&(n=e[lv]=new Set);var r=t+"__bubble";n.has(r)||(LA(e,t,2,!1),n.add(r))}function Vg(t,e,n){var r=0;e&&(r|=4),LA(n,t,r,e)}var vh="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[vh]){t[vh]=!0,WC.forEach(function(n){n!=="selectionchange"&&(Jj.has(n)||Vg(n,!1,t),Vg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vh]||(e[vh]=!0,Vg("selectionchange",!1,e))}}function LA(t,e,n,r){switch(_A(e)){case 1:var s=hj;break;case 4:s=fj;break;default:s=fw}n=s.bind(null,e,n,t),s=void 0,!Yy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Og(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=co(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}oA(function(){var c=i,d=cw(n),h=[];e:{var f=VA.get(t);if(f!==void 0){var m=mw,w=t;switch(t){case"keypress":if(Yh(n)===0)break e;case"keydown":case"keyup":m=Aj;break;case"focusin":w="focus",m=Pg;break;case"focusout":w="blur",m=Pg;break;case"beforeblur":case"afterblur":m=Pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=EE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kj;break;case kA:case NA:case DA:m=wj;break;case MA:m=Dj;break;case"scroll":m=pj;break;case"wheel":m=Vj;break;case"copy":case"cut":case"paste":m=xj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bE}var y=(e&4)!==0,b=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,T;x!==null;){T=x;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,_!==null&&(A=yu(x,_),A!=null&&y.push(bu(x,A,T)))),b)break;x=x.return}0<y.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Qy&&(w=n.relatedTarget||n.fromElement)&&(co(w)||w[ds]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?co(w):null,w!==null&&(b=Go(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(y=EE,A="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=bE,A="onPointerLeave",_="onPointerEnter",x="pointer"),b=m==null?f:Ia(m),T=w==null?f:Ia(w),f=new y(A,x+"leave",m,n,d),f.target=b,f.relatedTarget=T,A=null,co(d)===c&&(y=new y(_,x+"enter",w,n,d),y.target=T,y.relatedTarget=b,A=y),b=A,m&&w)t:{for(y=m,_=w,x=0,T=y;T;T=ia(T))x++;for(T=0,A=_;A;A=ia(A))T++;for(;0<x-T;)y=ia(y),x--;for(;0<T-x;)_=ia(_),T--;for(;x--;){if(y===_||_!==null&&y===_.alternate)break t;y=ia(y),_=ia(_)}y=null}else y=null;m!==null&&VE(h,f,m,y,!1),w!==null&&b!==null&&VE(h,b,w,y,!0)}}e:{if(f=c?Ia(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=$j;else if(CE(f))if(SA)k=Hj;else{k=Wj;var V=zj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Kj);if(k&&(k=k(t,c))){IA(h,k,n,d);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Wy(f,"number",f.value)}switch(V=c?Ia(c):window,t){case"focusin":(CE(V)||V.contentEditable==="true")&&(Ta=V,nv=c,Gc=null);break;case"focusout":Gc=nv=Ta=null;break;case"mousedown":rv=!0;break;case"contextmenu":case"mouseup":case"dragend":rv=!1,NE(h,n,d);break;case"selectionchange":if(Qj)break;case"keydown":case"keyup":NE(h,n,d)}var S;if(yw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ea?TA(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(EA&&n.locale!=="ko"&&(Ea||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ea&&(S=xA()):(ri=d,pw="value"in ri?ri.value:ri.textContent,Ea=!0)),V=Ff(c,I),0<V.length&&(I=new TE(I,t,null,n,d),h.push({event:I,listeners:V}),S?I.data=S:(S=bA(n),S!==null&&(I.data=S)))),(S=Lj?jj(t,n):Fj(t,n))&&(c=Ff(c,"onBeforeInput"),0<c.length&&(d=new TE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}OA(h,e)})}function bu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yu(t,n),i!=null&&r.unshift(bu(t,i,s)),i=yu(t,e),i!=null&&r.push(bu(t,i,s))),t=t.return}return r}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=yu(n,i),l!=null&&o.unshift(bu(n,l,a))):s||(l=yu(n,i),l!=null&&o.push(bu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Zj=/\r\n?/g,e4=/\u0000|\uFFFD/g;function OE(t){return(typeof t=="string"?t:""+t).replace(Zj,`
`).replace(e4,"")}function wh(t,e,n){if(e=OE(e),OE(t)!==e&&n)throw Error(W(425))}function Uf(){}var sv=null,iv=null;function ov(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var av=typeof setTimeout=="function"?setTimeout:void 0,t4=typeof clearTimeout=="function"?clearTimeout:void 0,LE=typeof Promise=="function"?Promise:void 0,n4=typeof queueMicrotask=="function"?queueMicrotask:typeof LE<"u"?function(t){return LE.resolve(null).then(t).catch(r4)}:av;function r4(t){setTimeout(function(){throw t})}function Lg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_u(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ll,Iu="__reactProps$"+Ll,ds="__reactContainer$"+Ll,lv="__reactEvents$"+Ll,s4="__reactListeners$"+Ll,i4="__reactHandles$"+Ll;function co(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ds]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jE(t);t!==null;){if(n=t[Ir])return n;t=jE(t)}return e}t=n,n=t.parentNode}return null}function yd(t){return t=t[Ir]||t[ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function em(t){return t[Iu]||null}var cv=[],Sa=-1;function Vi(t){return{current:t}}function Be(t){0>Sa||(t.current=cv[Sa],cv[Sa]=null,Sa--)}function Le(t,e){Sa++,cv[Sa]=t.current,t.current=e}var Ei={},Ht=Vi(Ei),pn=Vi(!1),Po=Ei;function ol(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function Bf(){Be(pn),Be(Ht)}function FE(t,e,n){if(Ht.current!==Ei)throw Error(W(168));Le(Ht,e),Le(pn,n)}function jA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,zL(t)||"Unknown",s));return Ye({},n,r)}function $f(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,Po=Ht.current,Le(Ht,t),Le(pn,pn.current),!0}function UE(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=jA(t,e,Po),r.__reactInternalMemoizedMergedChildContext=t,Be(pn),Be(Ht),Le(Ht,t)):Be(pn),Le(pn,n)}var es=null,tm=!1,jg=!1;function FA(t){es===null?es=[t]:es.push(t)}function o4(t){tm=!0,FA(t)}function Oi(){if(!jg&&es!==null){jg=!0;var t=0,e=ke;try{var n=es;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,tm=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),uA(uw,Oi),s}finally{ke=e,jg=!1}}return null}var Ca=[],Aa=0,zf=null,Wf=0,jn=[],Fn=0,Ro=null,ns=1,rs="";function Zi(t,e){Ca[Aa++]=Wf,Ca[Aa++]=zf,zf=t,Wf=e}function UA(t,e,n){jn[Fn++]=ns,jn[Fn++]=rs,jn[Fn++]=Ro,Ro=t;var r=ns;t=rs;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ns=1<<32-ur(e)+s|n<<s|r,rs=i+t}else ns=1<<i|n<<s|r,rs=t}function ww(t){t.return!==null&&(Zi(t,1),UA(t,1,0))}function _w(t){for(;t===zf;)zf=Ca[--Aa],Ca[Aa]=null,Wf=Ca[--Aa],Ca[Aa]=null;for(;t===Ro;)Ro=jn[--Fn],jn[Fn]=null,rs=jn[--Fn],jn[Fn]=null,ns=jn[--Fn],jn[Fn]=null}var An=null,In=null,ze=!1,lr=null;function BA(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,In=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:ns,overflow:rs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,In=null,!0):!1;default:return!1}}function uv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dv(t){if(ze){var e=In;if(e){var n=e;if(!BE(t,e)){if(uv(t))throw Error(W(418));e=ui(n.nextSibling);var r=An;e&&BE(t,e)?BA(r,n):(t.flags=t.flags&-4097|2,ze=!1,An=t)}}else{if(uv(t))throw Error(W(418));t.flags=t.flags&-4097|2,ze=!1,An=t}}}function $E(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function _h(t){if(t!==An)return!1;if(!ze)return $E(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ov(t.type,t.memoizedProps)),e&&(e=In)){if(uv(t))throw $A(),Error(W(418));for(;e;)BA(t,e),e=ui(e.nextSibling)}if($E(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=An?ui(t.stateNode.nextSibling):null;return!0}function $A(){for(var t=In;t;)t=ui(t.nextSibling)}function al(){In=An=null,ze=!1}function xw(t){lr===null?lr=[t]:lr.push(t)}var a4=Ts.ReactCurrentBatchConfig;function wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function xh(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function zA(t){function e(_,x){if(t){var T=_.deletions;T===null?(_.deletions=[x],_.flags|=16):T.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=pi(_,x),_.index=0,_.sibling=null,_}function i(_,x,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<x?(_.flags|=2,x):T):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,T,A){return x===null||x.tag!==6?(x=Kg(T,_.mode,A),x.return=_,x):(x=s(x,T),x.return=_,x)}function l(_,x,T,A){var k=T.type;return k===xa?d(_,x,T.props.children,A,T.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ws&&zE(k)===x.type)?(A=s(x,T.props),A.ref=wc(_,x,T),A.return=_,A):(A=sf(T.type,T.key,T.props,null,_.mode,A),A.ref=wc(_,x,T),A.return=_,A)}function c(_,x,T,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=Hg(T,_.mode,A),x.return=_,x):(x=s(x,T.children||[]),x.return=_,x)}function d(_,x,T,A,k){return x===null||x.tag!==7?(x=Eo(T,_.mode,A,k),x.return=_,x):(x=s(x,T),x.return=_,x)}function h(_,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kg(""+x,_.mode,T),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case uh:return T=sf(x.type,x.key,x.props,null,_.mode,T),T.ref=wc(_,null,x),T.return=_,T;case _a:return x=Hg(x,_.mode,T),x.return=_,x;case Ws:var A=x._init;return h(_,A(x._payload),T)}if(kc(x)||pc(x))return x=Eo(x,_.mode,T,null),x.return=_,x;xh(_,x)}return null}function f(_,x,T,A){var k=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return k!==null?null:a(_,x,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case uh:return T.key===k?l(_,x,T,A):null;case _a:return T.key===k?c(_,x,T,A):null;case Ws:return k=T._init,f(_,x,k(T._payload),A)}if(kc(T)||pc(T))return k!==null?null:d(_,x,T,A,null);xh(_,T)}return null}function m(_,x,T,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(T)||null,a(x,_,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case uh:return _=_.get(A.key===null?T:A.key)||null,l(x,_,A,k);case _a:return _=_.get(A.key===null?T:A.key)||null,c(x,_,A,k);case Ws:var V=A._init;return m(_,x,T,V(A._payload),k)}if(kc(A)||pc(A))return _=_.get(T)||null,d(x,_,A,k,null);xh(x,A)}return null}function w(_,x,T,A){for(var k=null,V=null,S=x,I=x=0,P=null;S!==null&&I<T.length;I++){S.index>I?(P=S,S=null):P=S.sibling;var R=f(_,S,T[I],A);if(R===null){S===null&&(S=P);break}t&&S&&R.alternate===null&&e(_,S),x=i(R,x,I),V===null?k=R:V.sibling=R,V=R,S=P}if(I===T.length)return n(_,S),ze&&Zi(_,I),k;if(S===null){for(;I<T.length;I++)S=h(_,T[I],A),S!==null&&(x=i(S,x,I),V===null?k=S:V.sibling=S,V=S);return ze&&Zi(_,I),k}for(S=r(_,S);I<T.length;I++)P=m(S,_,I,T[I],A),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?I:P.key),x=i(P,x,I),V===null?k=P:V.sibling=P,V=P);return t&&S.forEach(function(D){return e(_,D)}),ze&&Zi(_,I),k}function y(_,x,T,A){var k=pc(T);if(typeof k!="function")throw Error(W(150));if(T=k.call(T),T==null)throw Error(W(151));for(var V=k=null,S=x,I=x=0,P=null,R=T.next();S!==null&&!R.done;I++,R=T.next()){S.index>I?(P=S,S=null):P=S.sibling;var D=f(_,S,R.value,A);if(D===null){S===null&&(S=P);break}t&&S&&D.alternate===null&&e(_,S),x=i(D,x,I),V===null?k=D:V.sibling=D,V=D,S=P}if(R.done)return n(_,S),ze&&Zi(_,I),k;if(S===null){for(;!R.done;I++,R=T.next())R=h(_,R.value,A),R!==null&&(x=i(R,x,I),V===null?k=R:V.sibling=R,V=R);return ze&&Zi(_,I),k}for(S=r(_,S);!R.done;I++,R=T.next())R=m(S,_,I,R.value,A),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?I:R.key),x=i(R,x,I),V===null?k=R:V.sibling=R,V=R);return t&&S.forEach(function(M){return e(_,M)}),ze&&Zi(_,I),k}function b(_,x,T,A){if(typeof T=="object"&&T!==null&&T.type===xa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case uh:e:{for(var k=T.key,V=x;V!==null;){if(V.key===k){if(k=T.type,k===xa){if(V.tag===7){n(_,V.sibling),x=s(V,T.props.children),x.return=_,_=x;break e}}else if(V.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ws&&zE(k)===V.type){n(_,V.sibling),x=s(V,T.props),x.ref=wc(_,V,T),x.return=_,_=x;break e}n(_,V);break}else e(_,V);V=V.sibling}T.type===xa?(x=Eo(T.props.children,_.mode,A,T.key),x.return=_,_=x):(A=sf(T.type,T.key,T.props,null,_.mode,A),A.ref=wc(_,x,T),A.return=_,_=A)}return o(_);case _a:e:{for(V=T.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(_,x.sibling),x=s(x,T.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=Hg(T,_.mode,A),x.return=_,_=x}return o(_);case Ws:return V=T._init,b(_,x,V(T._payload),A)}if(kc(T))return w(_,x,T,A);if(pc(T))return y(_,x,T,A);xh(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,T),x.return=_,_=x):(n(_,x),x=Kg(T,_.mode,A),x.return=_,_=x),o(_)):n(_,x)}return b}var ll=zA(!0),WA=zA(!1),Kf=Vi(null),Hf=null,Pa=null,Ew=null;function Tw(){Ew=Pa=Hf=null}function bw(t){var e=Kf.current;Be(Kf),t._currentValue=e}function hv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ba(t,e){Hf=t,Ew=Pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Ew!==t)if(t={context:t,memoizedValue:e,next:null},Pa===null){if(Hf===null)throw Error(W(308));Pa=t,Hf.dependencies={lanes:0,firstContext:t}}else Pa=Pa.next=t;return e}var uo=null;function Iw(t){uo===null?uo=[t]:uo.push(t)}function KA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Iw(e)):(n.next=s.next,s.next=n),e.interleaved=n,hs(t,r)}function hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hs(t,n)}return s=r.interleaved,s===null?(e.next=e,Iw(r)):(e.next=s.next,s.next=e),r.interleaved=e,hs(t,n)}function Jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dw(t,n)}}function WE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var s=t.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Ye({},h,f);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);No|=o,t.lanes=o,t.memoizedState=h}}function KE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var vd={},Rr=Vi(vd),Su=Vi(vd),Cu=Vi(vd);function ho(t){if(t===vd)throw Error(W(174));return t}function Cw(t,e){switch(Le(Cu,e),Le(Su,t),Le(Rr,vd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hy(e,t)}Be(Rr),Le(Rr,e)}function cl(){Be(Rr),Be(Su),Be(Cu)}function GA(t){ho(Cu.current);var e=ho(Rr.current),n=Hy(e,t.type);e!==n&&(Le(Su,t),Le(Rr,n))}function Aw(t){Su.current===t&&(Be(Rr),Be(Su))}var Ge=Vi(0);function qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fg=[];function Pw(){for(var t=0;t<Fg.length;t++)Fg[t]._workInProgressVersionPrimary=null;Fg.length=0}var Zh=Ts.ReactCurrentDispatcher,Ug=Ts.ReactCurrentBatchConfig,ko=0,Xe=null,gt=null,xt=null,Qf=!1,qc=!1,Au=0,l4=0;function Lt(){throw Error(W(321))}function Rw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function kw(t,e,n,r,s,i){if(ko=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zh.current=t===null||t.memoizedState===null?h4:f4,t=n(r,s),qc){i=0;do{if(qc=!1,Au=0,25<=i)throw Error(W(301));i+=1,xt=gt=null,e.updateQueue=null,Zh.current=p4,t=n(r,s)}while(qc)}if(Zh.current=Xf,e=gt!==null&&gt.next!==null,ko=0,xt=gt=Xe=null,Qf=!1,e)throw Error(W(300));return t}function Nw(){var t=Au!==0;return Au=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Xe.memoizedState=xt=t:xt=xt.next=t,xt}function Xn(){if(gt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=xt===null?Xe.memoizedState:xt.next;if(e!==null)xt=e,gt=t;else{if(t===null)throw Error(W(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},xt===null?Xe.memoizedState=xt=t:xt=xt.next=t}return xt}function Pu(t,e){return typeof e=="function"?e(t):e}function Bg(t){var e=Xn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ko&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=d,No|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,No|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $g(t){var e=Xn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qA(){}function QA(t,e){var n=Xe,r=Xn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,Dw(JA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Ru(9,YA.bind(null,n,r,s,e),void 0,null),Tt===null)throw Error(W(349));ko&30||XA(n,e,s)}return s}function XA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YA(t,e,n,r){e.value=n,e.getSnapshot=r,ZA(e)&&eP(t)}function JA(t,e,n){return n(function(){ZA(e)&&eP(t)})}function ZA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function eP(t){var e=hs(t,1);e!==null&&dr(e,t,1,-1)}function HE(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:t},e.queue=t,t=t.dispatch=d4.bind(null,Xe,t),[e.memoizedState,t]}function Ru(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tP(){return Xn().memoizedState}function ef(t,e,n,r){var s=_r();Xe.flags|=t,s.memoizedState=Ru(1|e,n,void 0,r===void 0?null:r)}function nm(t,e,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&Rw(r,o.deps)){s.memoizedState=Ru(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=Ru(1|e,n,i,r)}function GE(t,e){return ef(8390656,8,t,e)}function Dw(t,e){return nm(2048,8,t,e)}function nP(t,e){return nm(4,2,t,e)}function rP(t,e){return nm(4,4,t,e)}function sP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iP(t,e,n){return n=n!=null?n.concat([t]):null,nm(4,4,sP.bind(null,e,t),n)}function Mw(){}function oP(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aP(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lP(t,e,n){return ko&21?(fr(n,e)||(n=fA(),Xe.lanes|=n,No|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function c4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Ug.transition;Ug.transition={};try{t(!1),e()}finally{ke=n,Ug.transition=r}}function cP(){return Xn().memoizedState}function u4(t,e,n){var r=fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uP(t))dP(e,n);else if(n=KA(t,e,n,r),n!==null){var s=en();dr(n,t,r,s),hP(n,e,r)}}function d4(t,e,n){var r=fi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uP(t))dP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=e.interleaved;l===null?(s.next=s,Iw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=KA(t,e,s,r),n!==null&&(s=en(),dr(n,t,r,s),hP(n,e,r))}}function uP(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function dP(t,e){qc=Qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dw(t,n)}}var Xf={readContext:Qn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},h4={readContext:Qn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:GE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,sP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u4.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:HE,useDebugValue:Mw,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=HE(!1),e=t[0];return t=c4.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=_r();if(ze){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Tt===null)throw Error(W(349));ko&30||XA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,GE(JA.bind(null,r,i,t),[t]),r.flags|=2048,Ru(9,YA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_r(),e=Tt.identifierPrefix;if(ze){var n=rs,r=ns;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f4={readContext:Qn,useCallback:oP,useContext:Qn,useEffect:Dw,useImperativeHandle:iP,useInsertionEffect:nP,useLayoutEffect:rP,useMemo:aP,useReducer:Bg,useRef:tP,useState:function(){return Bg(Pu)},useDebugValue:Mw,useDeferredValue:function(t){var e=Xn();return lP(e,gt.memoizedState,t)},useTransition:function(){var t=Bg(Pu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:qA,useSyncExternalStore:QA,useId:cP,unstable_isNewReconciler:!1},p4={readContext:Qn,useCallback:oP,useContext:Qn,useEffect:Dw,useImperativeHandle:iP,useInsertionEffect:nP,useLayoutEffect:rP,useMemo:aP,useReducer:$g,useRef:tP,useState:function(){return $g(Pu)},useDebugValue:Mw,useDeferredValue:function(t){var e=Xn();return gt===null?e.memoizedState=t:lP(e,gt.memoizedState,t)},useTransition:function(){var t=$g(Pu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:qA,useSyncExternalStore:QA,useId:cP,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rm={isMounted:function(t){return(t=t._reactInternals)?Go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=fi(t),i=as(r,s);i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(dr(e,t,s,r),Jh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=fi(t),i=as(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(dr(e,t,s,r),Jh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=fi(t),s=as(n,r);s.tag=2,e!=null&&(s.callback=e),e=di(t,s,r),e!==null&&(dr(e,t,r,n),Jh(e,t,r))}};function qE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Eu(n,r)||!Eu(s,i):!0}function fP(t,e,n){var r=!1,s=Ei,i=e.contextType;return typeof i=="object"&&i!==null?i=Qn(i):(s=mn(e)?Po:Ht.current,r=e.contextTypes,i=(r=r!=null)?ol(t,s):Ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function QE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rm.enqueueReplaceState(e,e.state,null)}function pv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qn(i):(i=mn(e)?Po:Ht.current,s.context=ol(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rm.enqueueReplaceState(s,s.state,null),Gf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var n="",r=e;do n+=$L(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m4=typeof WeakMap=="function"?WeakMap:Map;function pP(t,e,n){n=as(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jf||(Jf=!0,Iv=r),mv(t,e)},n}function mP(t,e,n){n=as(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mv(t,e),typeof r!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=P4.bind(null,t,e,n),e.then(t,t))}function YE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=as(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var g4=Ts.ReactCurrentOwner,dn=!1;function Xt(t,e,n,r){e.child=t===null?WA(e,null,n,r):ll(e,t.child,n,r)}function ZE(t,e,n,r,s){n=n.render;var i=e.ref;return Ba(e,s),r=kw(t,e,n,r,i,s),n=Nw(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(ze&&n&&ww(e),e.flags|=1,Xt(t,e,r,s),e.child)}function eT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$w(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gP(t,e,i,r,s)):(t=sf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eu,n(o,r)&&t.ref===e.ref)return fs(t,e,s)}return e.flags|=1,t=pi(i,r),t.ref=e.ref,t.return=e,e.child=t}function gP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Eu(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,fs(t,e,s)}return gv(t,e,n,r,s)}function yP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ka,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(ka,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(ka,xn),xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(ka,xn),xn|=r;return Xt(t,e,s,n),e.child}function vP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gv(t,e,n,r,s){var i=mn(n)?Po:Ht.current;return i=ol(e,i),Ba(e,s),n=kw(t,e,n,r,i,s),r=Nw(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fs(t,e,s)):(ze&&r&&ww(e),e.flags|=1,Xt(t,e,n,s),e.child)}function tT(t,e,n,r,s){if(mn(n)){var i=!0;$f(e)}else i=!1;if(Ba(e,s),e.stateNode===null)tf(t,e),fP(e,n,r),pv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qn(c):(c=mn(n)?Po:Ht.current,c=ol(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QE(e,o,r,c),Ks=!1;var f=e.memoizedState;o.state=f,Gf(e,r,o,s),l=e.memoizedState,a!==r||f!==l||pn.current||Ks?(typeof d=="function"&&(fv(e,n,d,r),l=e.memoizedState),(a=Ks||qE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=mn(n)?Po:Ht.current,l=ol(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&QE(e,o,r,l),Ks=!1,f=e.memoizedState,o.state=f,Gf(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||pn.current||Ks?(typeof m=="function"&&(fv(e,n,m,r),w=e.memoizedState),(c=Ks||qE(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return yv(t,e,n,r,i,s)}function yv(t,e,n,r,s,i){vP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&UE(e,n,!1),fs(t,e,i);r=e.stateNode,g4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ll(e,t.child,null,i),e.child=ll(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&UE(e,n,!0),e.child}function wP(t){var e=t.stateNode;e.pendingContext?FE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FE(t,e.context,!1),Cw(t,e.containerInfo)}function nT(t,e,n,r,s){return al(),xw(s),e.flags|=256,Xt(t,e,n,r),e.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function wv(t){return{baseLanes:t,cachePool:null,transitions:null}}function _P(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ge,s&1),t===null)return dv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=om(o,r,0,null),t=Eo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wv(n),e.memoizedState=vv,t):Vw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return y4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=pi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=pi(a,i):(i=Eo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?wv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vv,r}return i=t.child,t=i.sibling,r=pi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vw(t,e){return e=om({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,n,r){return r!==null&&xw(r),ll(e,t.child,null,n),t=Vw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zg(Error(W(422))),Eh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=om({mode:"visible",children:r.children},s,0,null),i=Eo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ll(e,t.child,null,o),e.child.memoizedState=wv(o),e.memoizedState=vv,i);if(!(e.mode&1))return Eh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=zg(i,r,void 0),Eh(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=Tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hs(t,s),dr(r,t,s,-1))}return Bw(),r=zg(Error(W(421))),Eh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=ui(s.nextSibling),An=e,ze=!0,lr=null,t!==null&&(jn[Fn++]=ns,jn[Fn++]=rs,jn[Fn++]=Ro,ns=t.id,rs=t.overflow,Ro=e),e=Vw(e,r.children),e.flags|=4096,e)}function rT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hv(t.return,e,n)}function Wg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rT(t,n,e);else if(t.tag===19)rT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wg(e,!0,n,null,i);break;case"together":Wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),No|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v4(t,e,n){switch(e.tag){case 3:wP(e),al();break;case 5:GA(e);break;case 1:mn(e.type)&&$f(e);break;case 4:Cw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Kf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?_P(t,e,n):(Le(Ge,Ge.current&1),t=fs(t,e,n),t!==null?t.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,yP(t,e,n)}return fs(t,e,n)}var EP,_v,TP,bP;EP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_v=function(){};TP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ho(Rr.current);var i=null;switch(n){case"input":s=$y(t,s),r=$y(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Ky(t,s),r=Ky(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}Gy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};bP=function(t,e,n,r){n!==r&&(e.flags|=4)};function _c(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function w4(t,e,n){var r=e.pendingProps;switch(_w(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return mn(e.type)&&Bf(),jt(e),null;case 3:return r=e.stateNode,cl(),Be(pn),Be(Ht),Pw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Av(lr),lr=null))),_v(t,e),jt(e),null;case 5:Aw(e);var s=ho(Cu.current);if(n=e.type,t!==null&&e.stateNode!=null)TP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return jt(e),null}if(t=ho(Rr.current),_h(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ir]=e,r[Iu]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Dc.length;s++)Ue(Dc[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":hE(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":pE(r,i),Ue("invalid",r)}Gy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wh(r.textContent,a,t),s=["children",""+a]):mu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":dh(r),fE(r,i,!0);break;case"textarea":dh(r),mE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Iu]=r,EP(t,e,!1,!1),e.stateNode=t;e:{switch(o=qy(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Dc.length;s++)Ue(Dc[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":hE(t,r),s=$y(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":pE(t,r),s=Ky(t,r),Ue("invalid",t);break;default:s=r}Gy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?tA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gu(t,l):typeof l=="number"&&gu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&iw(t,i,l,o))}switch(n){case"input":dh(t),fE(t,r,!1);break;case"textarea":dh(t),mE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?La(t,!!r.multiple,i,!1):r.defaultValue!=null&&La(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)bP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ho(Cu.current),ho(Rr.current),_h(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(i=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:wh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return jt(e),null;case 13:if(Be(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&In!==null&&e.mode&1&&!(e.flags&128))$A(),al(),e.flags|=98560,i=!1;else if(i=_h(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Ir]=e}else al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else lr!==null&&(Av(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?yt===0&&(yt=3):Bw())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return cl(),_v(t,e),t===null&&Tu(e.stateNode.containerInfo),jt(e),null;case 10:return bw(e.type._context),jt(e),null;case 17:return mn(e.type)&&Bf(),jt(e),null;case 19:if(Be(Ge),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_c(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qf(t),o!==null){for(e.flags|=128,_c(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>dl&&(e.flags|=128,r=!0,_c(i,!1),e.lanes=4194304)}else{if(!r)if(t=qf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_c(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return jt(e),null}else 2*ot()-i.renderingStartTime>dl&&n!==1073741824&&(e.flags|=128,r=!0,_c(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Ge.current,Le(Ge,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Uw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function _4(t,e){switch(_w(e),e.tag){case 1:return mn(e.type)&&Bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),Be(pn),Be(Ht),Pw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Aw(e),null;case 13:if(Be(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ge),null;case 4:return cl(),null;case 10:return bw(e.type._context),null;case 22:case 23:return Uw(),null;case 24:return null;default:return null}}var Th=!1,zt=!1,x4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ra(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function xv(t,e,n){try{n()}catch(r){rt(t,e,r)}}var sT=!1;function E4(t,e){if(sv=Lf,t=PA(),vw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iv={focusedElem:t,selectionRange:n},Lf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:rr(e.type,y),b);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){rt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=sT,sT=!1,w}function Qc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xv(e,n,i)}s=s.next}while(s!==r)}}function sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ev(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IP(t){var e=t.alternate;e!==null&&(t.alternate=null,IP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Iu],delete e[lv],delete e[s4],delete e[i4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SP(t){return t.tag===5||t.tag===3||t.tag===4}function iT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(Tv(t,e,n),t=t.sibling;t!==null;)Tv(t,e,n),t=t.sibling}function bv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bv(t,e,n),t=t.sibling;t!==null;)bv(t,e,n),t=t.sibling}var St=null,or=!1;function Ms(t,e,n){for(n=n.child;n!==null;)CP(t,e,n),n=n.sibling}function CP(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Xp,n)}catch{}switch(n.tag){case 5:zt||Ra(n,e);case 6:var r=St,s=or;St=null,Ms(t,e,n),St=r,or=s,St!==null&&(or?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(or?(t=St,n=n.stateNode,t.nodeType===8?Lg(t.parentNode,n):t.nodeType===1&&Lg(t,n),_u(t)):Lg(St,n.stateNode));break;case 4:r=St,s=or,St=n.stateNode.containerInfo,or=!0,Ms(t,e,n),St=r,or=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xv(n,e,o),s=s.next}while(s!==r)}Ms(t,e,n);break;case 1:if(!zt&&(Ra(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Ms(t,e,n);break;case 21:Ms(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Ms(t,e,n),zt=r):Ms(t,e,n);break;default:Ms(t,e,n)}}function oT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x4),e.forEach(function(r){var s=k4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,or=!1;break e;case 3:St=a.stateNode.containerInfo,or=!0;break e;case 4:St=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(St===null)throw Error(W(160));CP(i,o,s),St=null,or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AP(e,t),e=e.sibling}function AP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),wr(t),r&4){try{Qc(3,t,t.return),sm(3,t)}catch(y){rt(t,t.return,y)}try{Qc(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:tr(e,t),wr(t),r&512&&n!==null&&Ra(n,n.return);break;case 5:if(tr(e,t),wr(t),r&512&&n!==null&&Ra(n,n.return),t.flags&32){var s=t.stateNode;try{gu(s,"")}catch(y){rt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&XC(s,i),qy(a,o);var c=qy(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?tA(s,h):d==="dangerouslySetInnerHTML"?ZC(s,h):d==="children"?gu(s,h):iw(s,d,h,c)}switch(a){case"input":zy(s,i);break;case"textarea":YC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?La(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?La(s,!!i.multiple,i.defaultValue,!0):La(s,!!i.multiple,i.multiple?[]:"",!1))}s[Iu]=i}catch(y){rt(t,t.return,y)}}break;case 6:if(tr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){rt(t,t.return,y)}}break;case 3:if(tr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:tr(e,t),wr(t);break;case 13:tr(e,t),wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jw=ot())),r&4&&oT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(c=zt)||d,tr(e,t),zt=c):tr(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:Qc(4,f,f.return);break;case 1:Ra(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:Ra(f,f.return);break;case 22:if(f.memoizedState!==null){lT(h);continue}}m!==null?(m.return=f,Z=m):lT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eA("display",o))}catch(y){rt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){rt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),wr(t),r&4&&oT(t);break;case 21:break;default:tr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SP(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gu(s,""),r.flags&=-33);var i=iT(t);bv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iT(t);Tv(t,a,o);break;default:throw Error(W(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T4(t,e,n){Z=t,PP(t)}function PP(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Th;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Th;var c=zt;if(Th=o,(zt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?cT(s):l!==null?(l.return=o,Z=l):cT(s);for(;i!==null;)Z=i,PP(i),i=i.sibling;Z=s,Th=a,zt=c}aT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):aT(t)}}function aT(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||sm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&KE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&_u(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}zt||e.flags&512&&Ev(e)}catch(f){rt(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function lT(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function cT(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sm(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{Ev(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{Ev(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var b4=Math.ceil,Yf=Ts.ReactCurrentDispatcher,Ow=Ts.ReactCurrentOwner,Kn=Ts.ReactCurrentBatchConfig,Te=0,Tt=null,ft=null,Rt=0,xn=0,ka=Vi(0),yt=0,ku=null,No=0,im=0,Lw=0,Xc=null,an=null,jw=0,dl=1/0,Zr=null,Jf=!1,Iv=null,hi=null,bh=!1,si=null,Zf=0,Yc=0,Sv=null,nf=-1,rf=0;function en(){return Te&6?ot():nf!==-1?nf:nf=ot()}function fi(t){return t.mode&1?Te&2&&Rt!==0?Rt&-Rt:a4.transition!==null?(rf===0&&(rf=fA()),rf):(t=ke,t!==0||(t=window.event,t=t===void 0?16:_A(t.type)),t):1}function dr(t,e,n,r){if(50<Yc)throw Yc=0,Sv=null,Error(W(185));md(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(im|=n),yt===4&&Gs(t,Rt)),gn(t,r),n===1&&Te===0&&!(e.mode&1)&&(dl=ot()+500,tm&&Oi()))}function gn(t,e){var n=t.callbackNode;aj(t,e);var r=Of(t,t===Tt?Rt:0);if(r===0)n!==null&&vE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vE(n),e===1)t.tag===0?o4(uT.bind(null,t)):FA(uT.bind(null,t)),n4(function(){!(Te&6)&&Oi()}),n=null;else{switch(pA(r)){case 1:n=uw;break;case 4:n=dA;break;case 16:n=Vf;break;case 536870912:n=hA;break;default:n=Vf}n=LP(n,RP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RP(t,e){if(nf=-1,rf=0,Te&6)throw Error(W(327));var n=t.callbackNode;if($a()&&t.callbackNode!==n)return null;var r=Of(t,t===Tt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var s=Te;Te|=2;var i=NP();(Tt!==t||Rt!==e)&&(Zr=null,dl=ot()+500,xo(t,e));do try{C4();break}catch(a){kP(t,a)}while(!0);Tw(),Yf.current=i,Te=s,ft!==null?e=0:(Tt=null,Rt=0,e=yt)}if(e!==0){if(e===2&&(s=Zy(t),s!==0&&(r=s,e=Cv(t,s))),e===1)throw n=ku,xo(t,0),Gs(t,r),gn(t,ot()),n;if(e===6)Gs(t,r);else{if(s=t.current.alternate,!(r&30)&&!I4(s)&&(e=ep(t,r),e===2&&(i=Zy(t),i!==0&&(r=i,e=Cv(t,i))),e===1))throw n=ku,xo(t,0),Gs(t,r),gn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:eo(t,an,Zr);break;case 3:if(Gs(t,r),(r&130023424)===r&&(e=jw+500-ot(),10<e)){if(Of(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=av(eo.bind(null,t,an,Zr),e);break}eo(t,an,Zr);break;case 4:if(Gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b4(r/1960))-r,10<r){t.timeoutHandle=av(eo.bind(null,t,an,Zr),r);break}eo(t,an,Zr);break;case 5:eo(t,an,Zr);break;default:throw Error(W(329))}}}return gn(t,ot()),t.callbackNode===n?RP.bind(null,t):null}function Cv(t,e){var n=Xc;return t.current.memoizedState.isDehydrated&&(xo(t,e).flags|=256),t=ep(t,e),t!==2&&(e=an,an=n,e!==null&&Av(e)),t}function Av(t){an===null?an=t:an.push.apply(an,t)}function I4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gs(t,e){for(e&=~Lw,e&=~im,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function uT(t){if(Te&6)throw Error(W(327));$a();var e=Of(t,0);if(!(e&1))return gn(t,ot()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=Zy(t);r!==0&&(e=r,n=Cv(t,r))}if(n===1)throw n=ku,xo(t,0),Gs(t,e),gn(t,ot()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eo(t,an,Zr),gn(t,ot()),null}function Fw(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(dl=ot()+500,tm&&Oi())}}function Do(t){si!==null&&si.tag===0&&!(Te&6)&&$a();var e=Te;Te|=1;var n=Kn.transition,r=ke;try{if(Kn.transition=null,ke=1,t)return t()}finally{ke=r,Kn.transition=n,Te=e,!(Te&6)&&Oi()}}function Uw(){xn=ka.current,Be(ka)}function xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t4(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(_w(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bf();break;case 3:cl(),Be(pn),Be(Ht),Pw();break;case 5:Aw(r);break;case 4:cl();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:bw(r.type._context);break;case 22:case 23:Uw()}n=n.return}if(Tt=t,ft=t=pi(t.current,null),Rt=xn=e,yt=0,ku=null,Lw=im=No=0,an=Xc=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}uo=null}return t}function kP(t,e){do{var n=ft;try{if(Tw(),Zh.current=Xf,Qf){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qf=!1}if(ko=0,xt=gt=Xe=null,qc=!1,Au=0,Ow.current=null,n===null||n.return===null){yt=1,ku=e,ft=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=YE(o);if(m!==null){m.flags&=-257,JE(m,o,a,i,e),m.mode&1&&XE(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){XE(i,c,e),Bw();break e}l=Error(W(426))}}else if(ze&&a.mode&1){var b=YE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),JE(b,o,a,i,e),xw(ul(l,a));break e}}i=l=ul(l,a),yt!==4&&(yt=2),Xc===null?Xc=[i]:Xc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=pP(i,l,e);WE(i,_);break e;case 1:a=l;var x=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(hi===null||!hi.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=mP(i,a,e);WE(i,A);break e}}i=i.return}while(i!==null)}MP(n)}catch(k){e=k,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function NP(){var t=Yf.current;return Yf.current=Xf,t===null?Xf:t}function Bw(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||!(No&268435455)&&!(im&268435455)||Gs(Tt,Rt)}function ep(t,e){var n=Te;Te|=2;var r=NP();(Tt!==t||Rt!==e)&&(Zr=null,xo(t,e));do try{S4();break}catch(s){kP(t,s)}while(!0);if(Tw(),Te=n,Yf.current=r,ft!==null)throw Error(W(261));return Tt=null,Rt=0,yt}function S4(){for(;ft!==null;)DP(ft)}function C4(){for(;ft!==null&&!JL();)DP(ft)}function DP(t){var e=OP(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?MP(t):ft=e,Ow.current=null}function MP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_4(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ft=null;return}}else if(n=w4(n,e,xn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);yt===0&&(yt=5)}function eo(t,e,n){var r=ke,s=Kn.transition;try{Kn.transition=null,ke=1,A4(t,e,n,r)}finally{Kn.transition=s,ke=r}return null}function A4(t,e,n,r){do $a();while(si!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(lj(t,i),t===Tt&&(ft=Tt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bh||(bh=!0,LP(Vf,function(){return $a(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=ke;ke=1;var a=Te;Te|=4,Ow.current=null,E4(t,n),AP(n,t),qj(iv),Lf=!!sv,iv=sv=null,t.current=n,T4(n),ZL(),Te=a,ke=o,Kn.transition=i}else t.current=n;if(bh&&(bh=!1,si=t,Zf=s),i=t.pendingLanes,i===0&&(hi=null),nj(n.stateNode),gn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jf)throw Jf=!1,t=Iv,Iv=null,t;return Zf&1&&t.tag!==0&&$a(),i=t.pendingLanes,i&1?t===Sv?Yc++:(Yc=0,Sv=t):Yc=0,Oi(),null}function $a(){if(si!==null){var t=pA(Zf),e=Kn.transition,n=ke;try{if(Kn.transition=null,ke=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,Zf=0,Te&6)throw Error(W(331));var s=Te;for(Te|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Qc(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(IP(d),d===c){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Z=_;break e}Z=i.return}}var x=t.current;for(Z=x;Z!==null;){o=Z;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Z=T;else e:for(o=x;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sm(9,a)}}catch(k){rt(a,a.return,k)}if(a===o){Z=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Z=A;break e}Z=a.return}}if(Te=s,Oi(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Xp,t)}catch{}r=!0}return r}finally{ke=n,Kn.transition=e}}return!1}function dT(t,e,n){e=ul(n,e),e=pP(t,e,1),t=di(t,e,1),e=en(),t!==null&&(md(t,1,e),gn(t,e))}function rt(t,e,n){if(t.tag===3)dT(t,t,n);else for(;e!==null;){if(e.tag===3){dT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))){t=ul(n,t),t=mP(e,t,1),e=di(e,t,1),t=en(),e!==null&&(md(e,1,t),gn(e,t));break}}e=e.return}}function P4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Rt&n)===n&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>ot()-jw?xo(t,0):Lw|=n),gn(t,e)}function VP(t,e){e===0&&(t.mode&1?(e=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):e=1);var n=en();t=hs(t,e),t!==null&&(md(t,e,n),gn(t,n))}function R4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VP(t,n)}function k4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),VP(t,n)}var OP;OP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,v4(t,e,n);dn=!!(t.flags&131072)}else dn=!1,ze&&e.flags&1048576&&UA(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var s=ol(e,Ht.current);Ba(e,n),s=kw(null,e,r,t,s,n);var i=Nw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,$f(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sw(e),s.updater=rm,e.stateNode=s,s._reactInternals=e,pv(e,r,t,n),e=yv(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&ww(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=D4(r),t=rr(r,t),s){case 0:e=gv(null,e,r,t,n);break e;case 1:e=tT(null,e,r,t,n);break e;case 11:e=ZE(null,e,r,t,n);break e;case 14:e=eT(null,e,r,rr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),gv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),tT(t,e,r,s,n);case 3:e:{if(wP(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HA(t,e),Gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ul(Error(W(423)),e),e=nT(t,e,r,n,s);break e}else if(r!==s){s=ul(Error(W(424)),e),e=nT(t,e,r,n,s);break e}else for(In=ui(e.stateNode.containerInfo.firstChild),An=e,ze=!0,lr=null,n=WA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===s){e=fs(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return GA(e),t===null&&dv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ov(r,s)?o=null:i!==null&&ov(r,i)&&(e.flags|=32),vP(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&dv(e),null;case 13:return _P(t,e,n);case 4:return Cw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ll(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),ZE(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Kf,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!pn.current){e=fs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=as(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),hv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ba(e,n),s=Qn(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=rr(r,e.pendingProps),s=rr(r.type,s),eT(t,e,r,s,n);case 15:return gP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),tf(t,e),e.tag=1,mn(r)?(t=!0,$f(e)):t=!1,Ba(e,n),fP(e,r,s),pv(e,r,s,n),yv(null,e,r,!0,t,n);case 19:return xP(t,e,n);case 22:return yP(t,e,n)}throw Error(W(156,e.tag))};function LP(t,e){return uA(t,e)}function N4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new N4(t,e,n,r)}function $w(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D4(t){if(typeof t=="function")return $w(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aw)return 11;if(t===lw)return 14}return 2}function pi(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$w(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xa:return Eo(n.children,s,i,e);case ow:o=8,s|=8;break;case jy:return t=Bn(12,n,e,s|2),t.elementType=jy,t.lanes=i,t;case Fy:return t=Bn(13,n,e,s),t.elementType=Fy,t.lanes=i,t;case Uy:return t=Bn(19,n,e,s),t.elementType=Uy,t.lanes=i,t;case GC:return om(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KC:o=10;break e;case HC:o=9;break e;case aw:o=11;break e;case lw:o=14;break e;case Ws:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Eo(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function om(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=GC,t.lanes=n,t.stateNode={isHidden:!1},t}function Kg(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Hg(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sg(0),this.expirationTimes=Sg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zw(t,e,n,r,s,i,o,a,l){return t=new M4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(i),t}function V4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jP(t){if(!t)return Ei;t=t._reactInternals;e:{if(Go(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(mn(n))return jA(t,n,e)}return e}function FP(t,e,n,r,s,i,o,a,l){return t=zw(n,r,!0,t,s,i,o,a,l),t.context=jP(null),n=t.current,r=en(),s=fi(n),i=as(r,s),i.callback=e??null,di(n,i,s),t.current.lanes=s,md(t,s,r),gn(t,r),t}function am(t,e,n,r){var s=e.current,i=en(),o=fi(s);return n=jP(n),e.context===null?e.context=n:e.pendingContext=n,e=as(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(s,e,o),t!==null&&(dr(t,s,o,i),Jh(t,s,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ww(t,e){hT(t,e),(t=t.alternate)&&hT(t,e)}function O4(){return null}var UP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kw(t){this._internalRoot=t}lm.prototype.render=Kw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));am(t,e,null,null)};lm.prototype.unmount=Kw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Do(function(){am(null,t,null,null)}),e[ds]=null}};function lm(t){this._internalRoot=t}lm.prototype.unstable_scheduleHydration=function(t){if(t){var e=yA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hs.length&&e!==0&&e<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&wA(t)}};function Hw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fT(){}function L4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=tp(o);i.call(c)}}var o=FP(e,r,t,0,null,!1,!1,"",fT);return t._reactRootContainer=o,t[ds]=o.current,Tu(t.nodeType===8?t.parentNode:t),Do(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=tp(l);a.call(c)}}var l=zw(t,0,!1,null,null,!1,!1,"",fT);return t._reactRootContainer=l,t[ds]=l.current,Tu(t.nodeType===8?t.parentNode:t),Do(function(){am(e,l,n,r)}),l}function um(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=tp(o);a.call(l)}}am(e,o,t,s)}else o=L4(n,e,t,s,r);return tp(o)}mA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nc(e.pendingLanes);n!==0&&(dw(e,n|1),gn(e,ot()),!(Te&6)&&(dl=ot()+500,Oi()))}break;case 13:Do(function(){var r=hs(t,1);if(r!==null){var s=en();dr(r,t,1,s)}}),Ww(t,1)}};hw=function(t){if(t.tag===13){var e=hs(t,134217728);if(e!==null){var n=en();dr(e,t,134217728,n)}Ww(t,134217728)}};gA=function(t){if(t.tag===13){var e=fi(t),n=hs(t,e);if(n!==null){var r=en();dr(n,t,e,r)}Ww(t,e)}};yA=function(){return ke};vA=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Xy=function(t,e,n){switch(e){case"input":if(zy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=em(r);if(!s)throw Error(W(90));QC(r),zy(r,s)}}}break;case"textarea":YC(t,n);break;case"select":e=n.value,e!=null&&La(t,!!n.multiple,e,!1)}};sA=Fw;iA=Do;var j4={usingClientEntryPoint:!1,Events:[yd,Ia,em,nA,rA,Fw]},xc={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F4={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lA(t),t===null?null:t.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Xp=Ih.inject(F4),Pr=Ih}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j4;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hw(e))throw Error(W(200));return V4(t,e,null,n)};Dn.createRoot=function(t,e){if(!Hw(t))throw Error(W(299));var n=!1,r="",s=UP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zw(t,1,!1,null,null,n,!1,r,s),t[ds]=e.current,Tu(t.nodeType===8?t.parentNode:t),new Kw(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=lA(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Do(t)};Dn.hydrate=function(t,e,n){if(!cm(e))throw Error(W(200));return um(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!Hw(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=UP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FP(e,null,t,1,n??null,s,!1,i,o),t[ds]=e.current,Tu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new lm(e)};Dn.render=function(t,e,n){if(!cm(e))throw Error(W(200));return um(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!cm(t))throw Error(W(40));return t._reactRootContainer?(Do(function(){um(null,null,t,!1,function(){t._reactRootContainer=null,t[ds]=null})}),!0):!1};Dn.unstable_batchedUpdates=Fw;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cm(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return um(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function BP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BP)}catch(t){console.error(t)}}BP(),BC.exports=Dn;var wd=BC.exports;const $P=AC(wd);var zP,pT=wd;zP=pT.createRoot,pT.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}var ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ii||(ii={}));const mT="popstate";function U4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return np("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Du(s)}return WP(e,n,null,t)}function B4(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=qo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),np("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Du(i))}function r(s,i){Gw(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return WP(e,n,r,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $4(){return Math.random().toString(36).substr(2,8)}function gT(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,n,r){return n===void 0&&(n=null),Nu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||$4()})}function Du(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ii.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Nu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ii.Pop;let b=d(),_=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:_})}function f(b,_){a=ii.Push;let x=np(y.location,b,_);n&&n(x,b),c=d()+1;let T=gT(x,c),A=y.createHref(x);try{o.pushState(T,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}i&&l&&l({action:a,location:y.location,delta:1})}function m(b,_){a=ii.Replace;let x=np(y.location,b,_);n&&n(x,b),c=d();let T=gT(x,c),A=y.createHref(x);o.replaceState(T,"",A),i&&l&&l({action:a,location:y.location,delta:0})}function w(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Du(b);return x=x.replace(/ $/,"%20"),at(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let y={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(mT,h),l=b,()=>{s.removeEventListener(mT,h),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let _=w(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(b){return o.go(b)}};return y}var yT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yT||(yT={}));function z4(t,e,n){return n===void 0&&(n="/"),W4(t,e,n,!1)}function W4(t,e,n,r){let s=typeof e=="string"?qo(e):e,i=qw(s.pathname||"/",n);if(i==null)return null;let o=KP(t);K4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=nF(i);a=eF(o[l],c,r)}return a}function KP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KP(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:J4(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of HP(i.path))s(i,o,l)}),e}function HP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=HP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H4=/^:[\w-]+$/,G4=3,q4=2,Q4=1,X4=10,Y4=-2,vT=t=>t==="*";function J4(t,e){let n=t.split("/"),r=n.length;return n.some(vT)&&(r+=Y4),e&&(r+=q4),n.filter(s=>!vT(s)).reduce((s,i)=>s+(H4.test(i)?G4:i===""?Q4:X4),r)}function Z4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function eF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=wT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=wT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:mi([i,h.pathname]),pathnameBase:oF(mi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=mi([i,h.pathnameBase]))}return o}function wT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function tF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function nF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:sF(n,e):e,search:aF(r),hash:lF(s)}}function sF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qw(t,e){let n=iF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qo(t):(s=Nu({},t),at(!s.pathname||!s.pathname.includes("?"),Gg("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Gg("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Gg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=rF(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),oF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GP=["post","put","patch","delete"];new Set(GP);const uF=["get",...GP];new Set(uF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}const Yw=v.createContext(null),dF=v.createContext(null),Li=v.createContext(null),dm=v.createContext(null),$r=v.createContext({outlet:null,matches:[],isDataRoute:!1}),qP=v.createContext(null);function hF(t,e){let{relative:n}=e===void 0?{}:e;jl()||at(!1);let{basename:r,navigator:s}=v.useContext(Li),{hash:i,pathname:o,search:a}=XP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:mi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function jl(){return v.useContext(dm)!=null}function bs(){return jl()||at(!1),v.useContext(dm).location}function QP(t){v.useContext(Li).static||v.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=v.useContext($r);return t?AF():fF()}function fF(){jl()||at(!1);let t=v.useContext(Yw),{basename:e,future:n,navigator:r}=v.useContext(Li),{matches:s}=v.useContext($r),{pathname:i}=bs(),o=JSON.stringify(Qw(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return QP(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Xw(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const pF=v.createContext(null);function mF(t){let e=v.useContext($r).outlet;return e&&v.createElement(pF.Provider,{value:t},e)}function gF(){let{matches:t}=v.useContext($r),e=t[t.length-1];return e?e.params:{}}function XP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Li),{matches:s}=v.useContext($r),{pathname:i}=bs(),o=JSON.stringify(Qw(s,r.v7_relativeSplatPath));return v.useMemo(()=>Xw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function yF(t,e){return vF(t,e)}function vF(t,e,n,r){jl()||at(!1);let{navigator:s}=v.useContext(Li),{matches:i}=v.useContext($r),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bs(),d;if(e){var h;let b=typeof e=="string"?qo(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||at(!1),d=b}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=z4(t,{pathname:m}),y=TF(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:mi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:mi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?v.createElement(dm.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ii.Pop}},y):y}function wF(){let t=CF(),e=cF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const _F=v.createElement(wF,null);class xF extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement($r.Provider,{value:this.props.routeContext},v.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EF(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Yw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement($r.Provider,{value:e},r)}function TF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,y=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||_F,l&&(c<0&&f===0?(w=!0,b=null):c===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let T;return m?T=y:w?T=b:h.route.Component?T=v.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,v.createElement(EF,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(xF,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var YP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(YP||{}),rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rp||{});function bF(t){let e=v.useContext(Yw);return e||at(!1),e}function IF(t){let e=v.useContext(dF);return e||at(!1),e}function SF(t){let e=v.useContext($r);return e||at(!1),e}function JP(t){let e=SF(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function CF(){var t;let e=v.useContext(qP),n=IF(rp.UseRouteError),r=JP(rp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function AF(){let{router:t}=bF(YP.UseNavigateStable),e=JP(rp.UseNavigateStable),n=v.useRef(!1);return QP(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mu({fromRouteId:e},i)))},[t,e])}function PF(t){let{to:e,replace:n,state:r,relative:s}=t;jl()||at(!1);let{future:i,static:o}=v.useContext(Li),{matches:a}=v.useContext($r),{pathname:l}=bs(),c=ji(),d=Xw(e,Qw(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function RF(t){return mF(t.context)}function Yr(t){at(!1)}function ZP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ii.Pop,navigator:i,static:o=!1,future:a}=t;jl()&&at(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Mu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=qo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,y=v.useMemo(()=>{let b=qw(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:w},navigationType:s}},[l,d,h,f,m,w,s]);return y==null?null:v.createElement(Li.Provider,{value:c},v.createElement(dm.Provider,{children:n,value:y}))}function kF(t){let{children:e,location:n}=t;return yF(Pv(e),n)}new Promise(()=>{});function Pv(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Pv(r.props.children,i));return}r.type!==Yr&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function NF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function DF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MF(t,e){return t.button===0&&(!e||e==="_self")&&!DF(t)}const VF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OF="6";try{window.__reactRouterVersion=OF}catch{}const LF="startTransition",sp=FC[LF];function jF(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=U4({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&sp?sp(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(ZP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}function FF(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=B4({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&sp?sp(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(ZP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const UF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=NF(e,VF),{basename:m}=v.useContext(Li),w,y=!1;if(typeof c=="string"&&BF.test(c)&&(w=c,UF))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),k=qw(A.pathname,m);A.origin===T.origin&&k!=null?c=k+A.search+A.hash:y=!0}catch{}let b=hF(c,{relative:s}),_=$F(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(T){r&&r(T),T.defaultPrevented||_(T)}return v.createElement("a",Rv({},f,{href:w||b,onClick:y||i?r:x,ref:n,target:l}))});var _T;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_T||(_T={}));var xT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xT||(xT={}));function $F(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ji(),c=bs(),d=XP(t,{relative:o});return v.useCallback(h=>{if(MF(h,n)){h.preventDefault();let f=r!==void 0?r:Du(c)===Du(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const zF=()=>{};var ET={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},tR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new KF;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HF=function(t){const e=eR(t);return tR.encodeByteArray(e,!0)},ip=function(t){return HF(t).replace(/\./g,"")},nR=function(t){try{return tR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=()=>rR().__FIREBASE_DEFAULTS__,qF=()=>{if(typeof process>"u"||typeof ET>"u")return;const t=ET.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nR(t[1]);return e&&JSON.parse(e)},hm=()=>{try{return zF()||GF()||qF()||QF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sR=t=>{var e,n;return(n=(e=hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XF=t=>{const e=sR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iR=()=>{var t;return(t=hm())===null||t===void 0?void 0:t.config},oR=t=>{var e;return(e=hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ip(JSON.stringify(n)),ip(JSON.stringify(o)),""].join(".")}const Jc={};function ZF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function e5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TT=!1;function lR(t,e){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||Jc[t]===e||Jc[t]||TT)return;Jc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=ZF().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{TT=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=e5(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(b,y);const A=c();l(x,_),T.append(x,w,b,A),document.body.appendChild(T)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function cR(){var t;const e=(t=hm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i5(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){return!cR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function o5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a5,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_d.prototype.create)}}class _d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?l5(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Is(s,a,r)}}function l5(t,e){return t.replace(c5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const c5=/\{\$([^}]+)}/g;function u5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bT(i)&&bT(o)){if(!Mo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d5(t,e){const n=new h5(t,e);return n.subscribe.bind(n)}class h5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qg),s.error===void 0&&(s.error=qg),s.complete===void 0&&(s.complete=qg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return t&&t._delegate?t._delegate:t}class Vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g5(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function m5(t){return t===to?void 0:t}function g5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const v5={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},w5=we.INFO,_5={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},x5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jw{constructor(e){this.name=e,this._logLevel=w5,this._logHandler=x5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const E5=(t,e)=>e.some(n=>t instanceof n);let IT,ST;function T5(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b5(){return ST||(ST=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fR=new WeakMap,kv=new WeakMap,pR=new WeakMap,Qg=new WeakMap,Zw=new WeakMap;function I5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fR.set(n,t)}).catch(()=>{}),Zw.set(e,t),e}function S5(t){if(kv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});kv.set(t,e)}let Nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C5(t){Nv=t(Nv)}function A5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xg(this),e,...n);return pR.set(r,e.sort?e.sort():[e]),gi(r)}:b5().includes(t)?function(...e){return t.apply(Xg(this),e),gi(fR.get(this))}:function(...e){return gi(t.apply(Xg(this),e))}}function P5(t){return typeof t=="function"?A5(t):(t instanceof IDBTransaction&&S5(t),E5(t,T5())?new Proxy(t,Nv):t)}function gi(t){if(t instanceof IDBRequest)return I5(t);if(Qg.has(t))return Qg.get(t);const e=P5(t);return e!==t&&(Qg.set(t,e),Zw.set(e,t)),e}const Xg=t=>Zw.get(t);function R5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gi(o.result),l.oldVersion,l.newVersion,gi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const k5=["get","getKey","getAll","getAllKeys","count"],N5=["put","add","delete","clear"],Yg=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=N5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||k5.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Yg.set(e,i),i}C5(t=>({...t,get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function M5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dv="@firebase/app",AT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Jw("@firebase/app"),V5="@firebase/app-compat",O5="@firebase/analytics-compat",L5="@firebase/analytics",j5="@firebase/app-check-compat",F5="@firebase/app-check",U5="@firebase/auth",B5="@firebase/auth-compat",$5="@firebase/database",z5="@firebase/data-connect",W5="@firebase/database-compat",K5="@firebase/functions",H5="@firebase/functions-compat",G5="@firebase/installations",q5="@firebase/installations-compat",Q5="@firebase/messaging",X5="@firebase/messaging-compat",Y5="@firebase/performance",J5="@firebase/performance-compat",Z5="@firebase/remote-config",e3="@firebase/remote-config-compat",t3="@firebase/storage",n3="@firebase/storage-compat",r3="@firebase/firestore",s3="@firebase/ai",i3="@firebase/firestore-compat",o3="firebase",a3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="[DEFAULT]",l3={[Dv]:"fire-core",[V5]:"fire-core-compat",[L5]:"fire-analytics",[O5]:"fire-analytics-compat",[F5]:"fire-app-check",[j5]:"fire-app-check-compat",[U5]:"fire-auth",[B5]:"fire-auth-compat",[$5]:"fire-rtdb",[z5]:"fire-data-connect",[W5]:"fire-rtdb-compat",[K5]:"fire-fn",[H5]:"fire-fn-compat",[G5]:"fire-iid",[q5]:"fire-iid-compat",[Q5]:"fire-fcm",[X5]:"fire-fcm-compat",[Y5]:"fire-perf",[J5]:"fire-perf-compat",[Z5]:"fire-rc",[e3]:"fire-rc-compat",[t3]:"fire-gcs",[n3]:"fire-gcs-compat",[r3]:"fire-fst",[i3]:"fire-fst-compat",[s3]:"fire-vertex","fire-js":"fire-js",[o3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Map,c3=new Map,Vv=new Map;function PT(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hl(t){const e=t.name;if(Vv.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Vv.set(e,t);for(const n of op.values())PT(n,t);for(const n of c3.values())PT(n,t);return!0}function e_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new _d("app","Firebase",u3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=a3;function mR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw yi.create("bad-app-name",{appName:String(s)});if(n||(n=iR()),!n)throw yi.create("no-options");const i=op.get(s);if(i){if(Mo(n,i.options)&&Mo(r,i.config))return i;throw yi.create("duplicate-app",{appName:s})}const o=new y5(s);for(const l of Vv.values())o.addComponent(l);const a=new d3(n,r,o);return op.set(s,a),a}function gR(t=Mv){const e=op.get(t);if(!e&&t===Mv&&iR())return mR();if(!e)throw yi.create("no-app",{appName:t});return e}function vi(t,e,n){var r;let s=(r=l3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}hl(new Vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebase-heartbeat-database",f3=1,Vu="firebase-heartbeat-store";let Jg=null;function yR(){return Jg||(Jg=R5(h3,f3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Jg}async function p3(t){try{const n=(await yR()).transaction(Vu),r=await n.objectStore(Vu).get(vR(t));return await n.done,r}catch(e){if(e instanceof Is)ps.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function RT(t,e){try{const r=(await yR()).transaction(Vu,"readwrite");await r.objectStore(Vu).put(e,vR(t)),await r.done}catch(n){if(n instanceof Is)ps.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function vR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1024,g3=30;class y3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>g3){const o=_3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kT(),{heartbeatsToSend:r,unsentEntries:s}=v3(this._heartbeatsCache.heartbeats),i=ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ps.warn(n),""}}}function kT(){return new Date().toISOString().substring(0,10)}function v3(t,e=m3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),NT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),NT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?o5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NT(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}function _3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){hl(new Vo("platform-logger",e=>new D5(e),"PRIVATE")),hl(new Vo("heartbeat",e=>new y3(e),"PRIVATE")),vi(Dv,AT,t),vi(Dv,AT,"esm2017"),vi("fire-js","")}x3("");var Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function Ed(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function E3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T3=wR,_R=new _d("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Jw("@firebase/auth");function b3(t,...e){ap.logLevel<=we.WARN&&ap.warn(`Auth (${Ul}): ${t}`,...e)}function of(t,...e){ap.logLevel<=we.ERROR&&ap.error(`Auth (${Ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw n_(t,...e)}function hr(t,...e){return n_(t,...e)}function t_(t,e,n){const r=Object.assign(Object.assign({},T3()),{[e]:n});return new _d("auth","Firebase",r).create(e,{appName:t.name})}function ls(t){return t_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),t_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _R.create(t,...e)}function ae(t,e,...n){if(!t)throw n_(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function ms(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S3(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S3()||r5()||"connection"in navigator)?navigator.onLine:!0}function A3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=t5()||s5()}get(){return C3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k3=new Td(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ui(t,e,n,r,s={}){return ER(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=xd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return n5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Fl(t.emulatorConfig.host)&&(c.credentials="include"),xR.fetch()(await TR(t,t.config.apiHost,n,a),c)})}async function ER(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P3),e);try{const s=new D3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw t_(t,d,c);Yn(t,d)}}catch(s){if(s instanceof Is)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function bd(t,e,n,r,s={}){const i=await Ui(t,e,n,r,s);return"mfaPendingCredential"in i&&Yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function TR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?r_(t.config,s):`${t.config.apiScheme}://${s}`;return R3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function N3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),k3.get())})}}function Sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hr(t,e,r);return s.customData._tokenResponse=n,s}function MT(t){return t!==void 0&&t.enterprise!==void 0}class M3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V3(t,e){return Ui(t,"GET","/v2/recaptchaConfig",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return Ui(t,"POST","/v1/accounts:delete",e)}async function lp(t,e){return Ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L3(t,e=!1){const n=kn(t),r=await n.getIdToken(e),s=s_(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Zc(Zg(s.auth_time)),issuedAtTime:Zc(Zg(s.iat)),expirationTime:Zc(Zg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Zg(t){return Number(t)*1e3}function s_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const s=nR(n);return s?JSON.parse(s):(of("Failed to decode base64 JWT payload"),null)}catch(s){return of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function VT(t){const e=s_(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&j3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ou(t,lp(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bR(i.providerUserInfo):[],a=B3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Lv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function U3(t){const e=kn(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bR(t){return t.map(e=>{var{providerId:n}=e,r=Ed(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){const n=await ER(t,{},async()=>{const r=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await TR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Fl(t.emulatorConfig.host)&&(l.credentials="include"),xR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z3(t,e){return Ui(t,"POST","/v2/accounts:revokeToken",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=VT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new za;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ed(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L3(this,e)}reload(){return U3(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Ou(this,O3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:V,stsTokenManager:S}=n;ae(T&&S,e,"internal-error");const I=za.fromJSON(this.name,S);ae(typeof T=="string",e,"internal-error"),Vs(h,e.name),Vs(f,e.name),ae(typeof A=="boolean",e,"internal-error"),ae(typeof k=="boolean",e,"internal-error"),Vs(m,e.name),Vs(w,e.name),Vs(y,e.name),Vs(b,e.name),Vs(_,e.name),Vs(x,e.name);const P=new cr({uid:T,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:k,photoURL:w,phoneNumber:m,tenantId:y,stsTokenManager:I,createdAt:_,lastLoginAt:x});return V&&Array.isArray(V)&&(P.providerData=V.map(R=>Object.assign({},R))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new za;s.updateFromServerResponse(n);const i=new cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?bR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new za;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;function is(t){ms(t instanceof Function,"Expected a class definition");let e=OT.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IR.type="NONE";const LT=IR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=af(this.userKey,s.apiKey,i),this.fullPersistenceKey=af("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lp(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wa(is(LT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||is(LT);const o=af(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await lp(e,{idToken:d}).catch(()=>{});if(!f)break;h=await cr._fromGetAccountInfoResponse(e,f,d)}else h=cr._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Wa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kR(e))return"Blackberry";if(NR(e))return"Webos";if(CR(e))return"Safari";if((e.includes("chrome/")||AR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SR(t=vt()){return/firefox\//i.test(t)}function CR(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AR(t=vt()){return/crios\//i.test(t)}function PR(t=vt()){return/iemobile/i.test(t)}function RR(t=vt()){return/android/i.test(t)}function kR(t=vt()){return/blackberry/i.test(t)}function NR(t=vt()){return/webos/i.test(t)}function i_(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W3(t=vt()){var e;return i_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K3(){return i5()&&document.documentMode===10}function DR(t=vt()){return i_(t)||RR(t)||NR(t)||kR(t)||/windows phone/i.test(t)||PR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e=[]){let n;switch(t){case"Browser":n=jT(vt());break;case"Worker":n=`${jT(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e={}){return Ui(t,"GET","/v2/passwordPolicy",Fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=6;class Q3{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FT(this),this.idTokenSubscription=new FT(this),this.beforeStateQueue=new H3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lp(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ls(this));const n=e?kn(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G3(this),n=new Q3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&b3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(t){return kn(t)}class FT{constructor(e){this.auth=e,this.observer=null,this.addObserver=d5(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y3(t){fm=t}function VR(t){return fm.loadJS(t)}function J3(){return fm.recaptchaEnterpriseScript}function Z3(){return fm.gapiScript}function e6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t6{constructor(){this.enterprise=new n6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r6="recaptcha-enterprise",OR="NO_RECAPTCHA";class s6{constructor(e){this.type=r6,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{V3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new M3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;MT(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(OR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&MT(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=J3();l.length!==0&&(l+=a),VR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function UT(t,e,n,r=!1,s=!1){const i=new s6(t);let o;if(s)o=OR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function jv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await UT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await UT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e){const n=e_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Mo(i,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function o6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a6(t,e,n){const r=Bi(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=LR(e),{host:o,port:a}=l6(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Mo(c,r.config.emulator)&&Mo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fl(o)?(aR(`${i}//${o}${l}`),lR("Auth",!0)):c6()}function LR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l6(t){const e=LR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:BT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:BT(o)}}}function BT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function u6(t,e){return Ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e){return bd(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return bd(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}async function f6(t,e){return bd(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends o_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Lu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,n,"signInWithPassword",d6);case"emailLink":return h6(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,r,"signUpPassword",u6);case"emailLink":return f6(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e){return bd(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="http://localhost";class Oo extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ed(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Oo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ka(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:p6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g6(t){const e=Mc(Vc(t)).link,n=e?Mc(Vc(e)).deep_link_id:null,r=Mc(Vc(t)).deep_link_id;return(r?Mc(Vc(r)).link:null)||r||n||e||t}class a_{constructor(e){var n,r,s,i,o,a;const l=Mc(Vc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=m6((s=l.mode)!==null&&s!==void 0?s:null);ae(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g6(e);try{return new a_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,n){return Lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=a_.parseLink(n);return ae(r,"argument-error"),Lu._fromEmailAndCode(e,r.code,r.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends l_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Id{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Id{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Id{constructor(){super("twitter.com")}static credential(e,n){return Oo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return bd(t,"POST","/v1/accounts:signUp",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=$T(r);return new Lo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$T(r);return new Lo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends Is{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,up.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new up(e,n,r,s)}}function jR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?up._fromErrorAndOperation(t,i,e,r):i})}async function v6(t,e,n=!1){const r=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(ls(r));const s="reauthenticate";try{const i=await Ou(t,jR(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=s_(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Lo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e,n=!1){if(bn(t.app))return Promise.reject(ls(t));const r="signIn",s=await jR(t,r,e),i=await Lo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _6(t,e){return FR(Bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t){const e=Bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x6(t,e,n){if(bn(t.app))return Promise.reject(ls(t));const r=Bi(t),o=await jv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&UR(t),l}),a=await Lo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function E6(t,e,n){return bn(t.app)?Promise.reject(ls(t)):_6(kn(t),Bl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UR(t),r})}function T6(t,e,n,r){return kn(t).onIdTokenChanged(e,n,r)}function b6(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}function I6(t,e,n,r){return kn(t).onAuthStateChanged(e,n,r)}function S6(t){return kn(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=1e3,A6=10;class $R extends BR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);K3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,A6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$R.type="LOCAL";const P6=$R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR extends BR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zR.type="SESSION";const WR=zR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await R6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=c_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function N6(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function D6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V6(){return KR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebaseLocalStorageDb",O6=1,hp="firebaseLocalStorage",GR="fbase_key";class Sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mm(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function L6(){const t=indexedDB.deleteDatabase(HR);return new Sd(t).toPromise()}function Fv(){const t=indexedDB.open(HR,O6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hp,{keyPath:GR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hp)?e(r):(r.close(),await L6(),e(await Fv()))})})}async function zT(t,e,n){const r=mm(t,!0).put({[GR]:e,value:n});return new Sd(r).toPromise()}async function j6(t,e){const n=mm(t,!1).get(e),r=await new Sd(n).toPromise();return r===void 0?null:r.value}function WT(t,e){const n=mm(t,!0).delete(e);return new Sd(n).toPromise()}const F6=800,U6=3;class qR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(V6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D6(),!this.activeServiceWorker)return;this.sender=new k6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fv();return await zT(e,dp,"1"),await WT(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=mm(s,!1).getAll();return new Sd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qR.type="LOCAL";const B6=qR;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e){return e?is(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $6(t){return FR(t.auth,new u_(t),t.bypassAuthState)}function z6(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),w6(n,new u_(t),t.bypassAuthState)}async function W6(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),v6(n,new u_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $6;case"linkViaPopup":case"linkViaRedirect":return W6;case"reauthViaPopup":case"reauthViaRedirect":return z6;default:Yn(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new Td(2e3,1e4);async function H6(t,e,n){if(bn(t.app))return Promise.reject(hr(t,"operation-not-supported-in-this-environment"));const r=Bi(t);I3(t,e,l_);const s=QR(r,n);return new fo(r,"signInViaPopup",e,s).executeNotNull()}class fo extends XR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=c_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K6.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="pendingRedirect",lf=new Map;class q6 extends XR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await Q6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q6(t,e){const n=J6(e),r=Y6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function X6(t,e){lf.set(t._key(),e)}function Y6(t){return is(t._redirectPersistence)}function J6(t){return af(G6,t.config.apiKey,t.name)}async function Z6(t,e,n=!1){if(bn(t.app))return Promise.reject(ls(t));const r=Bi(t),s=QR(r,e),o=await new q6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=10*60*1e3;class tU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eU&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(e))}saveEventToCache(e){this.cachedEventUids.add(KT(e)),this.lastProcessedEventTime=Date.now()}}function KT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e={}){return Ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iU=/^https?/;async function oU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rU(t);for(const n of e)try{if(aU(n))return}catch{}Yn(t,"unauthorized-domain")}function aU(t){const e=Ov(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iU.test(n))return!1;if(sU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new Td(3e4,6e4);function HT(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cU(t){return new Promise((e,n)=>{var r,s,i;function o(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(hr(t,"network-request-failed"))},timeout:lU.get()})}if(!((s=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=kr().gapi)===null||i===void 0)&&i.load)o();else{const a=e6("iframefcb");return kr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},VR(`${Z3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cf=null,e})}let cf=null;function uU(t){return cf=cf||cU(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=new Td(5e3,15e3),hU="__/auth/iframe",fU="emulator/auth/iframe",pU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gU(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r_(e,fU):`https://${t.config.authDomain}/${hU}`,r={apiKey:e.apiKey,appName:t.name,v:Ul},s=mU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${xd(r).slice(1)}`}async function yU(t){const e=await uU(t),n=kr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:gU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=kr().setTimeout(()=>{i(o)},dU.get());function l(){kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wU=500,_U=600,xU="_blank",EU="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TU(t,e,n,r=wU,s=_U){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vU),{width:r.toString(),height:s.toString(),top:i,left:o}),c=vt().toLowerCase();n&&(a=AR(c)?xU:n),SR(c)&&(e=e||EU,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(W3(c)&&a!=="_self")return bU(e||"",a),new GT(null);const h=window.open(e||"",a,d);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new GT(h)}function bU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="__/auth/handler",SU="emulator/auth/handler",CU=encodeURIComponent("fac");async function qT(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ul,eventId:s};if(e instanceof l_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Id){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${CU}=${encodeURIComponent(l)}`:"";return`${AU(t)}?${xd(a).slice(1)}${c}`}function AU({config:t}){return t.emulator?r_(t,SU):`https://${t.authDomain}/${IU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="webStorageSupport";class PU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WR,this._completeRedirectFn=Z6,this._overrideRedirectResult=X6}async _openPopup(e,n,r,s){var i;ms((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await qT(e,n,r,Ov(),s);return TU(e,o,c_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qT(e,n,r,Ov(),s);return N6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yU(e),r=new tU(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ey,{type:ey},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ey];o!==void 0&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DR()||CR()||i_()}}const RU=PU;var QT="@firebase/auth",XT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DU(t){hl(new Vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(t)},c=new X3(r,s,i,l);return o6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hl(new Vo("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new kU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(QT,XT,NU(t)),vi(QT,XT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=5*60,VU=oR("authIdTokenMaxAge")||MU;let YT=null;const OU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VU)return;const s=n==null?void 0:n.token;YT!==s&&(YT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LU(t=gR()){const e=e_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i6(t,{popupRedirectResolver:RU,persistence:[B6,P6,WR]}),r=oR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=OU(i.toString());b6(n,o,()=>o(n.currentUser)),T6(n,a=>o(a))}}const s=sR("auth");return s&&a6(n,`http://${s}`),n}function jU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=hr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",jU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DU("Browser");var FU="firebase",UU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(FU,UU,"app");var JT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,JR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function P(){}P.prototype=I.prototype,S.D=I.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(R,D,M){for(var N=Array(arguments.length-2),K=2;K<arguments.length;K++)N[K-2]=arguments[K];return I.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,P){P||(P=0);var R=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)R[D]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(D=0;16>D;++D)R[D]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=S.g[0],P=S.g[1],D=S.g[2];var M=S.g[3],N=I+(M^P&(D^M))+R[0]+3614090360&4294967295;I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[1]+3905402710&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[5]+1200080426&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[9]+2336552879&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[13]+4254626195&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(D^M&(P^D))+R[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[6]+3225465664&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[10]+38016083&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[14]+3275163606&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[2]+4243563512&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(P^D^M)+R[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[8]+2272392833&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[4]+1272893353&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[0]+3936430074&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[12]+3873151461&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(D^(P|~M))+R[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[7]+1126891415&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[3]+2399980690&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[15]+4264355552&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[11]+3174756917&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var P=I-this.blockSize,R=this.B,D=this.h,M=0;M<I;){if(D==0)for(;M<=P;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<I;)if(R[D++]=S.charCodeAt(M++),D==this.blockSize){s(this,R),D=0;break}}else for(;M<I;)if(R[D++]=S[M++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var P=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=P&255,P/=256;for(this.u(S),S=Array(16),I=P=0;4>I;++I)for(var R=0;32>R;R+=8)S[P++]=this.g[I]>>>R&255;return S};function i(S,I){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=I(S)}function o(S,I){this.h=I;for(var P=[],R=!0,D=S.length-1;0<=D;D--){var M=S[D]|0;R&&M==I||(P[D]=M,R=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?i(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(c(-S));for(var I=[],P=1,R=0;S>=P;R++)I[R]=S/P|0,P*=4294967296;return new o(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return b(d(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(I,8)),R=h,D=0;D<S.length;D+=8){var M=Math.min(8,S.length-D),N=parseInt(S.substring(D,D+M),I);8>M?(M=c(Math.pow(I,M)),R=R.j(M).add(c(N))):(R=R.j(P),R=R.add(c(N)))}return R}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,I=1,P=0;P<this.g.length;P++){var R=this.i(P);S+=(0<=R?R:4294967296+R)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var I=c(Math.pow(S,6)),P=this,R="";;){var D=A(P,I).g;P=_(P,D.j(I));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=D,w(P))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:w(S)?0:1};function b(S){for(var I=S.g.length,P=[],R=0;R<I;R++)P[R]=~S.g[R];return new o(P,~S.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0,D=0;D<=I;D++){var M=R+(this.i(D)&65535)+(S.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);R=N>>>16,M&=65535,N&=65535,P[D]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(S,I){return S.add(b(I))}t.j=function(S){if(w(this)||w(S))return h;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var I=this.g.length+S.g.length,P=[],R=0;R<2*I;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<S.g.length;D++){var M=this.i(R)>>>16,N=this.i(R)&65535,K=S.i(D)>>>16,le=S.i(D)&65535;P[2*R+2*D]+=N*le,x(P,2*R+2*D),P[2*R+2*D+1]+=M*le,x(P,2*R+2*D+1),P[2*R+2*D+1]+=N*K,x(P,2*R+2*D+1),P[2*R+2*D+2]+=M*K,x(P,2*R+2*D+2)}for(R=0;R<I;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=I;R<2*I;R++)P[R]=0;return new o(P,0)};function x(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function T(S,I){this.g=S,this.h=I}function A(S,I){if(w(I))throw Error("division by zero");if(w(S))return new T(h,h);if(y(S))return I=A(b(S),I),new T(b(I.g),b(I.h));if(y(I))return I=A(S,b(I)),new T(b(I.g),I.h);if(30<S.g.length){if(y(S)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var P=f,R=I;0>=R.l(S);)P=k(P),R=k(R);var D=V(P,1),M=V(R,1);for(R=V(R,2),P=V(P,2);!w(R);){var N=M.add(R);0>=N.l(S)&&(D=D.add(P),M=N),R=V(R,1),P=V(P,1)}return I=_(S,D.j(I)),new T(D,I)}for(D=h;0<=S.l(I);){for(P=Math.max(1,Math.floor(S.m()/I.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(P),N=M.j(I);y(N)||0<N.l(S);)P-=R,M=c(P),N=M.j(I);w(M)&&(M=f),D=D.add(M),S=_(S,N)}return new T(D,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)&S.i(R);return new o(P,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)|S.i(R);return new o(P,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)^S.i(R);return new o(P,this.h^S.h)};function k(S){for(var I=S.g.length+1,P=[],R=0;R<I;R++)P[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(P,S.h)}function V(S,I){var P=I>>5;I%=32;for(var R=S.g.length-P,D=[],M=0;M<R;M++)D[M]=0<I?S.i(M+P)>>>I|S.i(M+P+1)<<32-I:S.i(M+P);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,wi=o}).apply(typeof JT<"u"?JT:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZR,Oc,ek,uf,Uv,tk,nk,rk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var E=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var L=u[C];if(!(L in E))break e;E=E[L]}u=u[u.length-1],C=E[u],g=g(C),g!=C&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var E=0,C=!1,L={next:function(){if(!C&&E<u.length){var F=E++;return{value:g(F,u[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,E){return u.call.apply(u.bind,arguments)}function h(u,g,E){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function f(u,g,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function w(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(C,L,F){for(var H=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)H[Oe-2]=arguments[Oe];return g.prototype[L].apply(C,H)}}function y(u){const g=u.length;if(0<g){const E=Array(g);for(let C=0;C<g;C++)E[C]=u[C];return E}return[]}function b(u,g){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(l(C)){const L=u.length||0,F=C.length||0;u.length=L+F;for(let H=0;H<F;H++)u[L+H]=C[H]}else u.push(C)}}class _{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var k=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,g,E){for(const C in u)g.call(E,u[C],C,u)}function S(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function I(u){const g={};for(const E in u)g[E]=u[E];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let E,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(E in C)u[E]=C[E];for(let F=0;F<P.length;F++)E=P[F],Object.prototype.hasOwnProperty.call(C,E)&&(u[E]=C[E])}}function D(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function M(u){a.setTimeout(()=>{throw u},0)}function N(){var u=U;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class K{constructor(){this.h=this.g=null}add(g,E){const C=le.get();C.set(g,E),this.h?this.h.next=C:this.g=C,this.h=C}}var le=new _(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,j=!1,U=new K,q=()=>{const u=a.Promise.resolve(void 0);te=()=>{u.then(Q)}};var Q=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(E){M(E)}var g=le;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}j=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,g),a.removeEventListener("test",E,g)}catch{}return u}();function Je(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(k){e:{try{A(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ye[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Je.aa.h.call(this)}}w(Je,se);var ye={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),yn=0;function lt(u,g,E,C,L){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!C,this.ha=L,this.key=++yn,this.da=this.fa=!1}function Nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wr(u){this.src=u,this.g={},this.h=0}Wr.prototype.add=function(u,g,E,C,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=Jn(u,g,C,L);return-1<H?(g=u[H],E||(g.fa=!1)):(g=new lt(g,this.src,F,!!C,L),g.fa=E,u.push(g)),g};function gr(u,g){var E=g.type;if(E in u.g){var C=u.g[E],L=Array.prototype.indexOf.call(C,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(C,L,1),F&&(Nt(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Jn(u,g,E,C){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==C)return L}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Cs={};function Zn(u,g,E,C,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Zn(u,g[F],E,C,L);return null}return E=ec(E),u&&u[He]?u.K(g,E,c(C)?!!C.capture:!!C,L):Yl(u,g,E,!1,C,L)}function Yl(u,g,E,C,L,F){if(!g)throw Error("Invalid event type");var H=c(L)?!!L.capture:!!L,Oe=As(u);if(Oe||(u[Kr]=Oe=new Wr(u)),E=Oe.add(g,E,C,H,F),E.proxy)return E;if(C=Jl(),E.proxy=C,C.src=u,C.listener=E,u.addEventListener)Ce||(L=H),L===void 0&&(L=!1),u.addEventListener(g.toString(),C,L);else if(u.attachEvent)u.attachEvent(Kd(g.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Jl(){function u(E){return g.call(u.src,u.listener,E)}const g=ig;return u}function ct(u,g,E,C,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)ct(u,g[F],E,C,L);else C=c(C)?!!C.capture:!!C,E=ec(E),u&&u[He]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],E=Jn(F,E,C,L),-1<E&&(Nt(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=As(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Jn(g,E,C,L)),(E=-1<u?g[u]:null)&&yr(E))}function yr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[He])gr(g.i,u);else{var E=u.type,C=u.proxy;g.removeEventListener?g.removeEventListener(E,C,u.capture):g.detachEvent?g.detachEvent(Kd(E),C):g.addListener&&g.removeListener&&g.removeListener(C),(E=As(g))?(gr(E,u),E.h==0&&(E.src=null,g[Kr]=null)):Nt(u)}}}function Kd(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function ig(u,g){if(u.da)u=!0;else{g=new Je(g,this);var E=u.listener,C=u.ha||u.src;u.fa&&yr(u),u=E.call(C,g)}return u}function As(u){return u=u[Kr],u instanceof Wr?u:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ec(u){return typeof u=="function"?u:(u[Zl]||(u[Zl]=function(g){return u.handleEvent(g)}),u[Zl])}function ut(){Y.call(this),this.i=new Wr(this),this.M=this,this.F=null}w(ut,Y),ut.prototype[He]=!0,ut.prototype.removeEventListener=function(u,g,E,C){ct(this,u,g,E,C)};function Ze(u,g){var E,C=u.F;if(C)for(E=[];C;C=C.F)E.push(C);if(u=u.M,C=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var L=g;g=new se(C,u),R(g,L)}if(L=!0,E)for(var F=E.length-1;0<=F;F--){var H=g.g=E[F];L=Hi(H,C,!0,g)&&L}if(H=g.g=u,L=Hi(H,C,!0,g)&&L,L=Hi(H,C,!1,g)&&L,E)for(F=0;F<E.length;F++)H=g.g=E[F],L=Hi(H,C,!1,g)&&L}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],C=0;C<E.length;C++)Nt(E[C]);delete u.g[g],u.h--}}this.F=null},ut.prototype.K=function(u,g,E,C){return this.i.add(String(u),g,!1,E,C)},ut.prototype.L=function(u,g,E,C){return this.i.add(String(u),g,!0,E,C)};function Hi(u,g,E,C){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var H=g[F];if(H&&!H.da&&H.capture==E){var Oe=H.listener,It=H.ha||H.src;H.fa&&gr(u.i,H),L=Oe.call(It,C)!==!1&&L}}return L&&!C.defaultPrevented}function Hr(u,g,E){if(typeof u=="function")E&&(u=f(u,E));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function tc(u){u.g=Hr(()=>{u.g=null,u.i&&(u.i=!1,tc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class og extends Y{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(u){Y.call(this),this.h=u,this.g={}}w(Ps,Y);var nc=[];function Hd(u){V(u.g,function(g,E){this.g.hasOwnProperty(E)&&yr(g)},u),u.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Hd(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=a.JSON.stringify,vr=a.JSON.parse,ag=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function de(){}de.prototype.h=null;function De(u){return u.h||(u.h=u.i())}function Ae(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){se.call(this,"d")}w(on,se);function Rs(){se.call(this,"c")}w(Rs,se);var Gr={},g1=null;function Gd(){return g1=g1||new ut}Gr.La="serverreachability";function y1(u){se.call(this,Gr.La,u)}w(y1,se);function rc(u){const g=Gd();Ze(g,new y1(g))}Gr.STAT_EVENT="statevent";function v1(u,g){se.call(this,Gr.STAT_EVENT,u),this.stat=g}w(v1,se);function qt(u){const g=Gd();Ze(g,new v1(g,u))}Gr.Ma="timingevent";function w1(u,g){se.call(this,Gr.Ma,u),this.size=g}w(w1,se);function sc(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function ic(){this.g=!0}ic.prototype.xa=function(){this.g=!1};function KO(u,g,E,C,L,F){u.info(function(){if(u.g)if(F)for(var H="",Oe=F.split("&"),It=0;It<Oe.length;It++){var be=Oe[It].split("=");if(1<be.length){var Mt=be[0];be=be[1];var Vt=Mt.split("_");H=2<=Vt.length&&Vt[1]=="type"?H+(Mt+"="+be+"&"):H+(Mt+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+g+`
`+E+`
`+H})}function HO(u,g,E,C,L,F,H){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+g+`
`+E+`
`+F+" "+H})}function ta(u,g,E,C){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+qO(u,E)+(C?" "+C:"")})}function GO(u,g){u.info(function(){return"TIMEOUT: "+g})}ic.prototype.info=function(){};function qO(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var C=E[u];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Gi(E)}catch{return g}}var qd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lg;function Qd(){}w(Qd,de),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},lg=new Qd;function ks(u,g,E,C){this.j=u,this.i=g,this.l=E,this.R=C||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new x1}function x1(){this.i=null,this.g="",this.h=!1}var E1={},cg={};function ug(u,g,E){u.L=1,u.v=Zd(qr(g)),u.m=E,u.P=!0,T1(u,null)}function T1(u,g){u.F=Date.now(),Xd(u),u.A=qr(u.v);var E=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),L1(E.i,"t",C),u.C=0,E=u.j.J,u.h=new x1,u.g=tE(u.j,E?g:null,!u.m),0<u.O&&(u.M=new og(f(u.Y,u,u.g),u.O)),g=u.U,E=u.g,C=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(nc[0]=L.toString()),L=nc);for(var F=0;F<L.length;F++){var H=Zn(E,L[F],C||g.handleEvent,!1,g.h||g);if(!H)break;g.g[H.key]=H}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),rc(),KO(u.i,u.u,u.A,u.l,u.R,u.m)}ks.prototype.ca=function(u){u=u.target;const g=this.M;g&&Qr(u)==3?g.j():this.Y(u)},ks.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Qr(this.g);var g=this.g.Ba();const sa=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||W1(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=sa?rc(3):rc(2)),dg(this);var E=this.g.Z();this.X=E;t:if(b1(this)){var C=W1(this.g);u="";var L=C.length,F=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),oc(this);var H="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(C[g],{stream:!(F&&g==L-1)});C.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=E==200,HO(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,It=this.g;if((Oe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Oe)){var be=Oe;break t}}be=null}if(E=be)ta(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hg(this,E);else{this.o=!1,this.s=3,qt(12),qi(this),oc(this);break e}}if(this.P){E=!0;let er;for(;!this.J&&this.C<H.length;)if(er=QO(this,H),er==cg){Vt==4&&(this.s=4,qt(14),E=!1),ta(this.i,this.l,null,"[Incomplete Response]");break}else if(er==E1){this.s=4,qt(15),ta(this.i,this.l,H,"[Invalid Chunk]"),E=!1;break}else ta(this.i,this.l,er,null),hg(this,er);if(b1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||H.length!=0||this.h.h||(this.s=1,qt(16),E=!1),this.o=this.o&&E,!E)ta(this.i,this.l,H,"[Invalid Chunked Response]"),qi(this),oc(this);else if(0<H.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),vg(Mt),Mt.M=!0,qt(11))}}else ta(this.i,this.l,H,null),hg(this,H);Vt==4&&qi(this),this.o&&!this.J&&(Vt==4?Y1(this.j,this):(this.o=!1,Xd(this)))}else hL(this.g),E==400&&0<H.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),qi(this),oc(this)}}}catch{}finally{}};function b1(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function QO(u,g){var E=u.C,C=g.indexOf(`
`,E);return C==-1?cg:(E=Number(g.substring(E,C)),isNaN(E)?E1:(C+=1,C+E>g.length?cg:(g=g.slice(C,C+E),u.C=C+E,g)))}ks.prototype.cancel=function(){this.J=!0,qi(this)};function Xd(u){u.S=Date.now()+u.I,I1(u,u.I)}function I1(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=sc(f(u.ba,u),g)}function dg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ks.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(GO(this.i,this.A),this.L!=2&&(rc(),qt(17)),qi(this),this.s=2,oc(this)):I1(this,this.S-u)};function oc(u){u.j.G==0||u.J||Y1(u.j,u)}function qi(u){dg(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Hd(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function hg(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||fg(E.h,u))){if(!u.K&&fg(E.h,u)&&E.G==3){try{var C=E.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)ih(E),rh(E);else break e;yg(E),qt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=sc(f(E.Za,E),6e3));if(1>=A1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xi(E,11)}else if((u.K||E.g==u)&&ih(E),!x(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let be=L[g];if(E.T=be[0],be=be[1],E.G==2)if(be[0]=="c"){E.K=be[1],E.ia=be[2];const Mt=be[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Vt=be[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const sa=be[5];sa!=null&&typeof sa=="number"&&0<sa&&(C=1.5*sa,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const er=u.g;if(er){const ah=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ah){var F=C.h;F.g||ah.indexOf("spdy")==-1&&ah.indexOf("quic")==-1&&ah.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(pg(F,F.h),F.h=null))}if(C.D){const wg=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;wg&&(C.ya=wg,je(C.I,C.D,wg))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var H=u;if(C.qa=eE(C,C.J?C.ia:null,C.W),H.K){P1(C.h,H);var Oe=H,It=C.L;It&&(Oe.I=It),Oe.B&&(dg(Oe),Xd(Oe)),C.g=H}else Q1(C);0<E.i.length&&sh(E)}else be[0]!="stop"&&be[0]!="close"||Xi(E,7);else E.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Xi(E,7):gg(E):be[0]!="noop"&&E.l&&E.l.ta(be),E.v=0)}}rc(4)}catch{}}var XO=class{constructor(u,g){this.g=u,this.map=g}};function S1(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C1(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function A1(u){return u.h?1:u.g?u.g.size:0}function fg(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function pg(u,g){u.g?u.g.add(g):u.h=g}function P1(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}S1.prototype.cancel=function(){if(this.i=R1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function R1(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return y(u.i)}function YO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],E=u.length,C=0;C<E;C++)g.push(u[C]);return g}g=[],E=0;for(C in u)g[E++]=u[C];return g}function JO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const C in u)g[E++]=C;return g}}}function k1(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=JO(u),C=YO(u),L=C.length,F=0;F<L;F++)g.call(void 0,C[F],E&&E[F],u)}var N1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZO(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var C=u[E].indexOf("="),L=null;if(0<=C){var F=u[E].substring(0,C);L=u[E].substring(C+1)}else F=u[E];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Qi){this.h=u.h,Yd(this,u.j),this.o=u.o,this.g=u.g,Jd(this,u.s),this.l=u.l;var g=u.i,E=new cc;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),D1(this,E),this.m=u.m}else u&&(g=String(u).match(N1))?(this.h=!1,Yd(this,g[1]||"",!0),this.o=ac(g[2]||""),this.g=ac(g[3]||"",!0),Jd(this,g[4]),this.l=ac(g[5]||"",!0),D1(this,g[6]||"",!0),this.m=ac(g[7]||"")):(this.h=!1,this.i=new cc(null,this.h))}Qi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(lc(g,M1,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(lc(g,M1,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(lc(E,E.charAt(0)=="/"?nL:tL,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",lc(E,sL)),u.join("")};function qr(u){return new Qi(u)}function Yd(u,g,E){u.j=E?ac(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Jd(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function D1(u,g,E){g instanceof cc?(u.i=g,iL(u.i,u.h)):(E||(g=lc(g,rL)),u.i=new cc(g,u.h))}function je(u,g,E){u.i.set(g,E)}function Zd(u){return je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ac(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lc(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,eL),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var M1=/[#\/\?@]/g,tL=/[#\?:]/g,nL=/[#\?]/g,rL=/[#\?@]/g,sL=/#/g;function cc(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ns(u){u.g||(u.g=new Map,u.h=0,u.i&&ZO(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=cc.prototype,t.add=function(u,g){Ns(this),this.i=null,u=na(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function V1(u,g){Ns(u),g=na(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function O1(u,g){return Ns(u),g=na(u,g),u.g.has(g)}t.forEach=function(u,g){Ns(this),this.g.forEach(function(E,C){E.forEach(function(L){u.call(g,L,C,this)},this)},this)},t.na=function(){Ns(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let C=0;C<g.length;C++){const L=u[C];for(let F=0;F<L.length;F++)E.push(g[C])}return E},t.V=function(u){Ns(this);let g=[];if(typeof u=="string")O1(this,u)&&(g=g.concat(this.g.get(na(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},t.set=function(u,g){return Ns(this),this.i=null,u=na(this,u),O1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function L1(u,g,E){V1(u,g),0<E.length&&(u.i=null,u.g.set(na(u,g),y(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var C=g[E];const F=encodeURIComponent(String(C)),H=this.V(C);for(C=0;C<H.length;C++){var L=F;H[C]!==""&&(L+="="+encodeURIComponent(String(H[C]))),u.push(L)}}return this.i=u.join("&")};function na(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function iL(u,g){g&&!u.j&&(Ns(u),u.i=null,u.g.forEach(function(E,C){var L=C.toLowerCase();C!=L&&(V1(this,C),L1(this,L,E))},u)),u.j=g}function oL(u,g){const E=new ic;if(a.Image){const C=new Image;C.onload=m(Ds,E,"TestLoadImage: loaded",!0,g,C),C.onerror=m(Ds,E,"TestLoadImage: error",!1,g,C),C.onabort=m(Ds,E,"TestLoadImage: abort",!1,g,C),C.ontimeout=m(Ds,E,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else g(!1)}function aL(u,g){const E=new ic,C=new AbortController,L=setTimeout(()=>{C.abort(),Ds(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:C.signal}).then(F=>{clearTimeout(L),F.ok?Ds(E,"TestPingServer: ok",!0,g):Ds(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Ds(E,"TestPingServer: error",!1,g)})}function Ds(u,g,E,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(E)}catch{}}function lL(){this.g=new ag}function cL(u,g,E){const C=E||"";try{k1(u,function(L,F){let H=L;c(L)&&(H=Gi(L)),g.push(C+F+"="+encodeURIComponent(H))})}catch(L){throw g.push(C+"type="+encodeURIComponent("_badmap")),L}}function eh(u){this.l=u.Ub||null,this.j=u.eb||!1}w(eh,de),eh.prototype.g=function(){return new th(this.l,this.j)},eh.prototype.i=function(u){return function(){return u}}({});function th(u,g){ut.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(th,ut),t=th.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,dc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function j1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?uc(this):dc(this),this.readyState==3&&j1(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,uc(this))},t.Qa=function(u){this.g&&(this.response=u,uc(this))},t.ga=function(){this.g&&uc(this)};function uc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dc(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function dc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function F1(u){let g="";return V(u,function(E,C){g+=C,g+=":",g+=E,g+=`\r
`}),g}function mg(u,g,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=F1(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):je(u,g,E))}function et(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(et,ut);var uL=/^https?$/i,dL=["POST","PUT"];t=et.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lg.g(),this.v=this.o?De(this.o):De(lg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){U1(this,F);return}if(u=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)E.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())E.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dL,g,void 0))||C||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of E)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z1(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){U1(this,F)}};function U1(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,B1(u),nh(u)}function B1(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),nh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$1(this):this.bb())},t.bb=function(){$1(this)};function $1(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Qr(u)!=4||u.Z()!=2)){if(u.u&&Qr(u)==4)Hr(u.Ea,0,u);else if(Ze(u,"readystatechange"),Qr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var C;if(C=H===0){var L=String(u.D).match(N1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!uL.test(L?L.toLowerCase():"")}E=C}if(E)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var F=2<Qr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",B1(u)}}finally{nh(u)}}}}function nh(u,g){if(u.g){z1(u);const E=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ze(u,"ready");try{E.onreadystatechange=C}catch{}}}function z1(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Qr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),vr(g)}};function W1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hL(u){const g={};u=(u.g&&2<=Qr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(x(u[C]))continue;var E=D(u[C]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[L]||[];g[L]=F,F.push(E)}S(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hc(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function K1(u){this.Aa=0,this.i=[],this.j=new ic,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hc("baseRetryDelayMs",5e3,u),this.cb=hc("retryDelaySeedMs",1e4,u),this.Wa=hc("forwardChannelMaxRetries",2,u),this.wa=hc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new S1(u&&u.concurrentRequestLimit),this.Da=new lL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=K1.prototype,t.la=8,t.G=1,t.connect=function(u,g,E,C){qt(0),this.W=u,this.H=g||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=eE(this,null,this.W),sh(this)};function gg(u){if(H1(u),u.G==3){var g=u.U++,E=qr(u.I);if(je(E,"SID",u.K),je(E,"RID",g),je(E,"TYPE","terminate"),fc(u,E),g=new ks(u,u.j,g),g.L=2,g.v=Zd(qr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=g.v,E=!0),E||(g.g=tE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xd(g)}Z1(u)}function rh(u){u.g&&(vg(u),u.g.cancel(),u.g=null)}function H1(u){rh(u),u.u&&(a.clearTimeout(u.u),u.u=null),ih(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function sh(u){if(!C1(u.h)&&!u.s){u.s=!0;var g=u.Ga;te||q(),j||(te(),j=!0),U.add(g,u),u.B=0}}function fL(u,g){return A1(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=sc(f(u.Ga,u,g),J1(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ks(this,this.j,u);let F=this.o;if(this.S&&(F?(F=I(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=q1(this,L,g),E=qr(this.I),je(E,"RID",u),je(E,"CVER",22),this.D&&je(E,"X-HTTP-Session-Id",this.D),fc(this,E),F&&(this.O?g="headers="+encodeURIComponent(String(F1(F)))+"&"+g:this.m&&mg(E,this.m,F)),pg(this.h,L),this.Ua&&je(E,"TYPE","init"),this.P?(je(E,"$req",g),je(E,"SID","null"),L.T=!0,ug(L,E,null)):ug(L,E,g),this.G=2}}else this.G==3&&(u?G1(this,u):this.i.length==0||C1(this.h)||G1(this))};function G1(u,g){var E;g?E=g.l:E=u.U++;const C=qr(u.I);je(C,"SID",u.K),je(C,"RID",E),je(C,"AID",u.T),fc(u,C),u.m&&u.o&&mg(C,u.m,u.o),E=new ks(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=q1(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pg(u.h,E),ug(E,C,g)}function fc(u,g){u.H&&V(u.H,function(E,C){je(g,C,E)}),u.l&&k1({},function(E,C){je(g,C,E)})}function q1(u,g,E){E=Math.min(u.i.length,E);var C=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const H=["count="+E];F==-1?0<E?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let Oe=!0;for(let It=0;It<E;It++){let be=L[It].g;const Mt=L[It].map;if(be-=F,0>be)F=Math.max(0,L[It].g-100),Oe=!1;else try{cL(Mt,H,"req"+be+"_")}catch{C&&C(Mt)}}if(Oe){C=H.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,C}function Q1(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;te||q(),j||(te(),j=!0),U.add(g,u),u.v=0}}function yg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=sc(f(u.Fa,u),J1(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,X1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=sc(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),rh(this),X1(this))};function vg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function X1(u){u.g=new ks(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=qr(u.qa);je(g,"RID","rpc"),je(g,"SID",u.K),je(g,"AID",u.T),je(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&je(g,"TO",u.ja),je(g,"TYPE","xmlhttp"),fc(u,g),u.m&&u.o&&mg(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Zd(qr(g)),E.m=null,E.P=!0,T1(E,u)}t.Za=function(){this.C!=null&&(this.C=null,rh(this),yg(this),qt(19))};function ih(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Y1(u,g){var E=null;if(u.g==g){ih(u),vg(u),u.g=null;var C=2}else if(fg(u.h,g))E=g.D,P1(u.h,g),C=1;else return;if(u.G!=0){if(g.o)if(C==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;C=Gd(),Ze(C,new w1(C,E)),sh(u)}else Q1(u);else if(L=g.s,L==3||L==0&&0<g.X||!(C==1&&fL(u,g)||C==2&&yg(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),L){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function J1(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function Xi(u,g){if(u.j.info("Error code "+g),g==2){var E=f(u.fb,u),C=u.Xa;const L=!C;C=new Qi(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yd(C,"https"),Zd(C),L?oL(C.toString(),E):aL(C.toString(),E)}else qt(2);u.G=0,u.l&&u.l.sa(g),Z1(u),H1(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Z1(u){if(u.G=0,u.ka=[],u.l){const g=R1(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ka,g),b(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function eE(u,g,E){var C=E instanceof Qi?qr(E):new Qi(E);if(C.g!="")g&&(C.g=g+"."+C.g),Jd(C,C.s);else{var L=a.location;C=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new Qi(null);C&&Yd(F,C),g&&(F.g=g),L&&Jd(F,L),E&&(F.l=E),C=F}return E=u.D,g=u.ya,E&&g&&je(C,E,g),je(C,"VER",u.la),fc(u,C),C}function tE(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new et(new eh({eb:E})):new et(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nE(){}t=nE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oh(){}oh.prototype.g=function(u,g){return new vn(u,g)};function vn(u,g){ut.call(this),this.g=new K1(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!x(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ra(this)}w(vn,ut),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){gg(this.g)},vn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Gi(u),u=E);g.i.push(new XO(g.Ya++,u)),g.G==3&&sh(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,gg(this.g),delete this.g,vn.aa.N.call(this)};function rE(u){on.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(rE,on);function sE(){Rs.call(this),this.status=1}w(sE,Rs);function ra(u){this.g=u}w(ra,nE),ra.prototype.ua=function(){Ze(this.g,"a")},ra.prototype.ta=function(u){Ze(this.g,new rE(u))},ra.prototype.sa=function(u){Ze(this.g,new sE)},ra.prototype.ra=function(){Ze(this.g,"b")},oh.prototype.createWebChannel=oh.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,rk=function(){return new oh},nk=function(){return Gd()},tk=Gr,Uv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qd.NO_ERROR=0,qd.TIMEOUT=8,qd.HTTP_ERROR=6,uf=qd,_1.COMPLETE="complete",ek=_1,Ae.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Oc=Ae,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,ZR=et}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const ZT="@firebase/firestore",eb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Jw("@firebase/firestore");function ma(){return jo.logLevel}function z(t,...e){if(jo.logLevel<=we.DEBUG){const n=e.map(d_);jo.debug(`Firestore (${$l}): ${t}`,...n)}}function Jt(t,...e){if(jo.logLevel<=we.ERROR){const n=e.map(d_);jo.error(`Firestore (${$l}): ${t}`,...n)}}function jr(t,...e){if(jo.logLevel<=we.WARN){const n=e.map(d_);jo.warn(`Firestore (${$l}): ${t}`,...n)}}function d_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sk(t,r,n)}function sk(t,e,n){let r=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jt(r),new Error(r)}function re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sk(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class $U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zU{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new ik(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class WU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){re(this.o===void 0,3512);const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=GU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Bv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ue(r,s);{const i=ok(),o=qU(i.encode(nb(t,n)),i.encode(nb(e,n)));return o!==0?o:ue(r,s)}}n+=r>65535?2:1}return ue(t.length,e.length)}function nb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ue(t[n],e[n]);return ue(t.length,e.length)}function fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function ak(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),s=xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Bv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class Me extends xr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const QU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends xr{construct(e,n,r){return new qe(e,n,r)}static isValidIdentifier(e){return QU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rb}static keyField(){return new qe([rb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Me.fromString(e))}static fromName(e){return new X(Me.fromString(e).popFirst(5))}static empty(){return new X(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YU(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sb(t){if(!X.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function f_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=f_(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cd(t,e){if(!lk(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=-62135596800,ob=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ob);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ib)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ob}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cd(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ib;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:pt("string",Re._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Re(0,0))}static max(){return new ie(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;class fp{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function $v(t){return t.fields.find(e=>e.kind===2)}function no(t){return t.fields.filter(e=>e.kind!==2)}fp.UNKNOWN_ID=-1;class df{constructor(e,n){this.fieldPath=e,this.kind=n}}class Fu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Fu(0,Nn.min())}}function JU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Nn(s,X.empty(),e)}function ck(t){return new Nn(t.readTime,t.key,ju)}class Nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(ie.min(),X.empty(),ju)}static max(){return new Nn(ie.max(),X.empty(),ju)}}function p_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==uk)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="SimpleDb";class gm{static open(e,n,r,s){try{return new gm(n,e.transaction(s,r))}catch(i){throw new eu(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new cs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new eu(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=m_(r.target.error);this.S.reject(new eu(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(z(En,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eB(n)}}class _i{static delete(e){return z(En,"Removing database:",e),io(rR().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!hR())return!1;if(_i.F())return!0;const e=vt(),n=_i.M(e),r=0<n&&n<10,s=hk(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,_i.M(vt())===12.2&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(z(En,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new eu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new J(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new eu(e,o))},s.onupgradeneeded=i=>{z(En,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;if(this.L!==null&&this.L!==i.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${i.oldVersion}, event.newVersion=${i.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,i.oldVersion,this.version).next(()=>{z(En,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var r;n.newVersion===null&&(jr('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=gm.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.v(),c)).catch(c=>(a.abort(c),O.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(z(En,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function hk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ZU{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return io(this.$.delete())}}class eu extends J{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function $i(t){return t.name==="IndexedDbTransactionError"}class eB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z(En,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(z(En,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),io(r)}add(e){return z(En,"ADD",this.store.name,e,e),io(this.store.add(e))}get(e){return io(this.store.get(e)).next(n=>(n===void 0&&(n=null),z(En,"GET",this.store.name,e,n),n))}delete(e){return z(En,"DELETE",this.store.name,e),io(this.store.delete(e))}count(){return z(En,"COUNT",this.store.name),io(this.store.count())}j(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new O((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.J(i,(a,l)=>{o.push(l)}).next(()=>o)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}Y(e,n){z(En,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const s=this.cursor(r);return this.J(s,(i,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.J(s,n)}ee(e){const n=this.cursor({});return new O((r,s)=>{n.onerror=i=>{const o=m_(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}J(e,n){const r=[];return new O((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new ZU(a),c=n(a.primaryKey,a.value,l);if(c instanceof O){const d=c.catch(h=>(l.done(),O.reject(h)));r.push(d)}l.isDone?s():l.W===null?a.continue():a.continue(l.W)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function io(t){return new O((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=m_(r.target.error);n(s)}})}let ab=!1;function m_(t){const e=_i.M(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ab||(ab=!0,setTimeout(()=>{throw r},0)),r}}return t}const tu="IndexBackfiller";class tB{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){z(tu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.te.re();z(tu,`Documents written: ${n}`)}catch(n){$i(n)?z(tu,"Ignoring IndexedDB error during index backfill: ",n):await Qo(n)}await this.ne(6e4)})}}class nB{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ie(n,e))}ie(e,n){const r=new Set;let s=n,i=!0;return O.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z(tu,`Processing collection: ${o}`),this.se(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.oe(s,i)).next(a=>(z(tu,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}oe(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=ck(i);p_(o,r)>0&&(r=o)}),new Nn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}$n.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function ym(t){return t==null}function Uu(t){return t===0&&1/t==-1/0}function rB(t){return typeof t=="number"&&Number.isInteger(t)&&!Uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="";function Kt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lb(e)),e=sB(t.get(n),e);return lb(e)}function sB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case pp:n+="";break;default:n+=i}}return n}function lb(t){return t+pp+""}function Cr(t){const e=t.length;if(re(e>=2,64408,{path:t}),e===2)return re(t.charAt(0)===pp&&t.charAt(1)==="",56145,{path:t}),Me.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(pp,i);switch((o<0||o>n)&&ee(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ee(61167,{path:t})}i=o+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="remoteDocuments",Ad="owner",oa="owner",Bu="mutationQueues",iB="userId",ar="mutations",cb="batchId",po="userMutationsIndex",ub=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){return[t,Kt(e)]}function fk(t,e,n){return[t,Kt(e),n]}const oB={},ml="documentMutations",mp="remoteDocumentsV14",aB=["prefixPath","collectionGroup","readTime","documentId"],ff="documentKeyIndex",lB=["prefixPath","collectionGroup","documentId"],pk="collectionGroupIndex",cB=["collectionGroup","readTime","prefixPath","documentId"],$u="remoteDocumentGlobal",zv="remoteDocumentGlobalKey",gl="targets",mk="queryTargetsIndex",uB=["canonicalId","targetId"],yl="targetDocuments",dB=["targetId","path"],g_="documentTargetsIndex",hB=["path","targetId"],gp="targetGlobalKey",bo="targetGlobal",zu="collectionParents",fB=["collectionId","parent"],vl="clientMetadata",pB="clientId",vm="bundles",mB="bundleId",wm="namedQueries",gB="name",y_="indexConfiguration",yB="indexId",Wv="collectionGroupIndex",vB="collectionGroup",nu="indexState",wB=["indexId","uid"],gk="sequenceNumberIndex",_B=["uid","sequenceNumber"],ru="indexEntries",xB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yk="documentKeyIndex",EB=["indexId","uid","orderedDocumentKey"],_m="documentOverlays",TB=["userId","collectionPath","documentId"],Kv="collectionPathOverlayIndex",bB=["userId","collectionPath","largestBatchId"],vk="collectionGroupOverlayIndex",IB=["userId","collectionGroup","largestBatchId"],v_="globals",SB="name",wk=[Bu,ar,ml,ro,gl,Ad,bo,yl,vl,$u,zu,vm,wm],CB=[...wk,_m],_k=[Bu,ar,ml,mp,gl,Ad,bo,yl,vl,$u,zu,vm,wm,_m],xk=_k,w_=[...xk,y_,nu,ru],AB=w_,Ek=[...w_,v_],PB=Ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends dk{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function wt(t,e){const n=he(t);return _i.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hb(this.data.getIterator())}getIteratorFrom(e){return new hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ne(this.comparator);return n.data=e,n}}class hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function aa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ne(qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bk("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const RB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(re(!!t,39018),typeof t=="string"){let e=0;const n=RB.exec(t);if(re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="server_timestamp",Sk="__type__",Ck="__previous_value__",Ak="__local_write_time__";function __(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sk])===null||n===void 0?void 0:n.stringValue)===Ik}function xm(t){const e=t.mapValue.fields[Ck];return __(e)?xm(e):e}function Wu(t){const e=gs(t.mapValue.fields[Ak].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const yp="(default)";class Fo{constructor(e,n){this.projectId=e,this.database=n||yp}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===yp}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__type__",Pk="__max__",oi={mapValue:{fields:{__type__:{stringValue:Pk}}}},E_="__vector__",wl="value",pf={nullValue:"NULL_VALUE"};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:Rk(t)?9007199254740991:Em(t)?10:11:ee(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gs(s.timestampValue),a=gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ys(s.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),a=$e(i.doubleValue);return o===a?Uu(o)===Uu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(db(o)!==db(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Ku(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function bi(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$e(i.integerValue||i.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return fb(t.timestampValue,e.timestampValue);case 4:return fb(Wu(t),Wu(e));case 5:return Bv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ys(i),l=ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ue(a[c],l[c]);if(d!==0)return d}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue($e(i.latitude),$e(o.latitude));return a!==0?a:ue($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},f=o.fields||{},m=(a=h[wl])===null||a===void 0?void 0:a.arrayValue,w=(l=f[wl])===null||l===void 0?void 0:l.arrayValue,y=ue(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:pb(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===oi.mapValue&&o===oi.mapValue)return 0;if(i===oi.mapValue)return 1;if(o===oi.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Bv(l[h],d[h]);if(f!==0)return f;const m=bi(a[l[h]],c[d[h]]);if(m!==0)return m}return ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{le:n})}}function fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=gs(t),r=gs(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function pb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=bi(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function _l(t){return Gv(t)}function Gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Gv(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function mf(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xm(t);return e?16+mf(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+mf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xo(r.fields,(i,o)=>{s+=i.length+mf(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function Hu(t){return!!t&&"arrayValue"in t}function mb(t){return!!t&&"nullValue"in t}function gb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gf(t){return!!t&&"mapValue"in t}function Em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[x_])===null||n===void 0?void 0:n.stringValue)===E_}function su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Rk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Pk}const kk={mapValue:{fields:{[x_]:{stringValue:E_},[wl]:{arrayValue:{}}}}};function NB(t){return"nullValue"in t?pf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?T_(Fo.empty(),X.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Em(t)?kk:{mapValue:{}}:ee(35942,{value:t})}function DB(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?T_(Fo.empty(),X.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?kk:"mapValue"in t?Em(t)?{mapValue:{}}:oi:ee(61959,{value:t})}function yb(t,e){const n=bi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function vb(t,e){const n=bi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=qe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=su(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(su(this.value))}}function Nk(t){const e=[];return Xo(t.fields,(n,r)=>{const s=new qe([n]);if(gf(r)){const i=Nk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,ie.min(),ie.min(),ie.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new st(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new st(e,2,n,ie.min(),ie.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new st(e,3,n,ie.min(),ie.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.position=e,this.inclusive=n}}function wb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=bi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n="asc"){this.field=e,this.dir=n}}function MB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dk=class{};class _e extends Dk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VB(e,n,r):n==="array-contains"?new jB(e,r):n==="in"?new Fk(e,r):n==="not-in"?new FB(e,r):n==="array-contains-any"?new UB(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OB(e,r):new LB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bi(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(bi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends Dk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ve(e,n)}matches(e){return El(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function El(t){return t.op==="and"}function Qv(t){return t.op==="or"}function b_(t){return Mk(t)&&El(t)}function Mk(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function Xv(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(b_(t))return t.filters.map(e=>Xv(e)).join(",");{const e=t.filters.map(n=>Xv(n)).join(",");return`${t.op}(${e})`}}function Vk(t,e){return t instanceof _e?function(r,s){return s instanceof _e&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Vk(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function Ok(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function Lk(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(Lk).join(" ,")+"}"}(t):"Filter"}class VB extends _e{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class OB extends _e{constructor(e,n){super(e,"in",n),this.keys=jk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LB extends _e{constructor(e,n){super(e,"not-in",n),this.keys=jk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class jB extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hu(n)&&Ku(n.arrayValue,this.value)}}class Fk extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class FB extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ku(this.value.arrayValue,n)}}class UB extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function Yv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new BB(t,e,n,r,s,i,o)}function Uo(t){const e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.Pe=n}return e.Pe}function Pd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_b(t.startAt,e.startAt)&&_b(t.endAt,e.endAt)}function wp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _p(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function xb(t,e,n){let r=pf,s=!0;for(const i of _p(t,e)){let o=pf,a=!0;switch(i.op){case"<":case"<=":o=NB(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=pf}yb({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];yb({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function Eb(t,e,n){let r=oi,s=!0;for(const i of _p(t,e)){let o=oi,a=!0;switch(i.op){case">=":case">":o=DB(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=oi}vb({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];vb({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $B(t,e,n,r,s,i,o,a){return new Tm(t,e,n,r,s,i,o,a)}function bm(t){return new Tm(t)}function Tb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zB(t){return t.collectionGroup!==null}function iu(t){const e=he(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ne(qe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new vp(i,r))}),n.has(qe.keyField().canonicalString())||e.Te.push(new vp(qe.keyField(),r))}return e.Te}function Hn(t){const e=he(t);return e.Ie||(e.Ie=WB(e,iu(t))),e.Ie}function WB(t,e){if(t.limitType==="F")return Yv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vp(s.field,i)});const n=t.endAt?new xl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xl(t.startAt.position,t.startAt.inclusive):null;return Yv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e,n){return new Tm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Im(t,e){return Pd(Hn(t),Hn(e))&&t.limitType===e.limitType}function Uk(t){return`${Uo(Hn(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Lk(s)).join(", ")}]`),ym(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_l(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_l(s)).join(",")),`Target(${r})`}(Hn(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of iu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=wb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,iu(r),s)||r.endAt&&!function(o,a,l){const c=wb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,iu(r),s))}(t,e)}function KB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bk(t){return(e,n)=>{let r=!1;for(const s of iu(t)){const i=HB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function HB(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?bi(l,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Tk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new Ke(X.comparator);function Sn(){return GB}const $k=new Ke(X.comparator);function Lc(...t){let e=$k;for(const n of t)e=e.insert(n.key,n);return e}function zk(t){let e=$k;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return ou()}function Wk(){return ou()}function ou(){return new Ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const qB=new Ke(X.comparator),QB=new Ne(X.comparator);function me(...t){let e=QB;for(const n of t)e=e.add(n);return e}const XB=new Ne(ue);function YB(){return XB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function Kk(t){return{integerValue:""+t}}function JB(t,e){return rB(e)?Kk(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function ZB(t,e,n){return t instanceof Gu?function(s,i){const o={fields:{[Sk]:{stringValue:Ik},[Ak]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&__(i)&&(i=xm(i)),i&&(o.fields[Ck]=i),{mapValue:o}}(n,e):t instanceof Tl?Gk(t,e):t instanceof bl?qk(t,e):function(s,i){const o=Hk(s,i),a=bb(o)+bb(s.Ee);return qv(o)&&qv(s.Ee)?Kk(a):I_(s.serializer,a)}(t,e)}function e9(t,e,n){return t instanceof Tl?Gk(t,e):t instanceof bl?qk(t,e):n}function Hk(t,e){return t instanceof qu?function(r){return qv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gu extends Sm{}class Tl extends Sm{constructor(e){super(),this.elements=e}}function Gk(t,e){const n=Qk(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class bl extends Sm{constructor(e){super(),this.elements=e}}function qk(t,e){let n=Qk(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class qu extends Sm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function bb(t){return $e(t.integerValue||t.doubleValue)}function Qk(t){return Hu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n){this.field=e,this.transform=n}}function n9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Tl&&s instanceof Tl||r instanceof bl&&s instanceof bl?fl(r.elements,s.elements,Fr):r instanceof qu&&s instanceof qu?Fr(r.Ee,s.Ee):r instanceof Gu&&s instanceof Gu}(t.transform,e.transform)}class r9{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Cm=class{};function Xk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S_(t.key,Cn.none()):new zl(t.key,t.data,Cn.none());{const n=t.data,r=ln.empty();let s=new Ne(qe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zi(t.key,r,new zn(s.toArray()),Cn.none())}}function s9(t,e,n){t instanceof zl?function(s,i,o){const a=s.value.clone(),l=Sb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(s,i,o){if(!yf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Sb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Yk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function au(t,e,n,r){return t instanceof zl?function(i,o,a,l){if(!yf(i.precondition,o))return a;const c=i.value.clone(),d=Cb(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(i,o,a,l){if(!yf(i.precondition,o))return a;const c=Cb(i.fieldTransforms,l,o),d=o.data;return d.setAll(Yk(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return yf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Hk(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function Ib(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fl(r,s,(i,o)=>n9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zl extends Cm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends Cm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sb(t,e,n){const r=new Map;re(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,e9(o,a,n[s]))}return r}function Cb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,ZB(i,o,e))}return r}class S_ extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jk extends Cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&s9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Wk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Xk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>Ib(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>Ib(n,r))}}class A_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){re(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return qB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new A_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,xe;function a9(t){switch(t){case B.OK:return ee(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function Zk(t){if(t===void 0)return Jt("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return ee(39323,{code:t})}}(xe=dt||(dt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new wi([4294967295,4294967295],0);function Ab(t){const e=ok().encode(t),n=new JR;return n.update(e),new Uint8Array(n.digest())}function Pb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wi([n,r],0),new wi([s,i],0)]}class R_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=wi.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(wi.fromNumber(r)));return s.compare(l9)===1&&(s=new wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Ab(e),[r,s]=Pb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new R_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=Ab(e),[r,s]=Pb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Am(ie.min(),s,new Ke(ue),Sn(),me())}}class kd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kd(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class eN{constructor(e,n){this.targetId=e,this.De=n}}class tN{constructor(e,n,r=mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Rb{constructor(){this.ve=0,this.Ce=kb(),this.Fe=mt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=me(),n=me(),r=me();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new kd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=kb()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class c9{constructor(e){this.We=e,this.Ge=new Map,this.ze=Sn(),this.je=Ph(),this.Je=Ph(),this.He=new Ke(ue)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(wp(i))if(r===0){const o=new X(i.path);this.Xe(n,o,st.newNoDocument(o,ie.min()))}else re(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof bk)return jr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new R_(o,s,i)}catch(l){return jr(l instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&wp(a.target)){const l=new X(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,st.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=me();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new Am(e,n,this.He,this.ze,r);return this.ze=Sn(),this.je=Ph(),this.Je=Ph(),this.He=new Ke(ue),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Rb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ne(ue),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ne(ue),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Rb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ph(){return new Ke(X.comparator)}function kb(){return new Ke(X.comparator)}const u9={asc:"ASCENDING",desc:"DESCENDING"},d9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h9={and:"AND",or:"OR"};class f9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zv(t,e){return t.useProto3Json||ym(e)?e:{value:e}}function Il(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p9(t,e){return Il(t,e.toTimestamp())}function tn(t){return re(!!t,49232),ie.fromTimestamp(function(n){const r=gs(n);return new Re(r.seconds,r.nanos)}(t))}function k_(t,e){return e0(t,e).canonicalString()}function e0(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rN(t){const e=Me.fromString(t);return re(hN(e),10190,{key:e.toString()}),e}function xp(t,e){return k_(t.databaseId,e.path)}function Io(t,e){const n=rN(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(oN(n))}function sN(t,e){return k_(t.databaseId,e)}function iN(t){const e=rN(t);return e.length===4?Me.emptyPath():oN(e)}function t0(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oN(t){return re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Nb(t,e,n){return{name:xp(t,e),fields:n.value.mapValue.fields}}function m9(t,e,n){const r=Io(t,e.name),s=tn(e.updateTime),i=e.createTime?tn(e.createTime):ie.min(),o=new ln({mapValue:{fields:e.fields}}),a=st.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function g9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(re(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(re(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:Zk(c.code);return new J(d,c.message||"")}(o);n=new tN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Io(t,r.document.name),i=tn(r.document.updateTime),o=r.document.createTime?tn(r.document.createTime):ie.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=st.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new vf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Io(t,r.document),i=r.readTime?tn(r.readTime):ie.min(),o=st.newNoDocument(s,i),a=r.removedTargetIds||[];n=new vf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Io(t,r.document),i=r.removedTargetIds||[];n=new vf([],i,s,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new o9(s,i),a=r.targetId;n=new eN(a,o)}}return n}function Ep(t,e){let n;if(e instanceof zl)n={update:Nb(t,e.key,e.value)};else if(e instanceof S_)n={delete:xp(t,e.key)};else if(e instanceof zi)n={update:Nb(t,e.key,e.data),updateMask:E9(e.fieldMask)};else{if(!(e instanceof Jk))return ee(16599,{Rt:e.type});n={verify:xp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:p9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function n0(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Cn.updateTime(tn(i.updateTime)):i.exists!==void 0?Cn.exists(i.exists):Cn.none()}(e.currentDocument):Cn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)re(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new Gu;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new Tl(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new bl(d)}else"increment"in a?l=new qu(o,a.increment):ee(16584,{proto:a});const c=qe.fromServerFormat(a.fieldPath);return new t9(c,l)}(t,s)):[];if(e.update){e.update.name;const s=Io(t,e.update.name),i=new ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new zn(c.map(d=>qe.fromServerFormat(d)))}(e.updateMask);return new zi(s,i,o,n,r)}return new zl(s,i,n,r)}if(e.delete){const s=Io(t,e.delete);return new S_(s,n)}if(e.verify){const s=Io(t,e.verify);return new Jk(s,n)}return ee(1463,{proto:e})}function y9(t,e){return t&&t.length>0?(re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?tn(s.updateTime):tn(i);return o.isEqual(ie.min())&&(o=tn(i)),new r9(o,s.transformResults||[])}(n,e))):[]}function aN(t,e){return{documents:[sN(t,e.path)]}}function lN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sN(t,s);const i=function(c){if(c.length!==0)return dN(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:ya(f.field),direction:w9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function cN(t){let e=iN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){re(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=uN(h);return f instanceof Ve&&b_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new vp(va(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ym(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new xl(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new xl(m,f)}(n.endAt)),$B(e,s,o,i,a,"F",l,c)}function v9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=va(n.unaryFilter.field);return _e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=va(n.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=va(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return _e.create(va(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(r=>uN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function w9(t){return u9[t]}function _9(t){return d9[t]}function x9(t){return h9[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return qe.fromServerFormat(t.fieldPath)}function dN(t){return t instanceof _e?function(n){if(n.op==="=="){if(gb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(mb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(mb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:_9(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(s=>dN(s));return r.length===1?r[0]:{compositeFilter:{op:x9(n.op),filters:r}}}(t):ee(54877,{filter:t})}function E9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.gt=e}}function T9(t,e){let n;if(e.document)n=m9(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=X.fromSegments(e.noDocument.path),s=$o(e.noDocument.readTime);n=st.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee(56709);{const r=X.fromSegments(e.unknownDocument.path),s=$o(e.unknownDocument.version);n=st.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Re(s[0],s[1]);return ie.fromTimestamp(i)}(e.readTime)),n}function Db(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:xp(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Il(i,o.version.toTimestamp()),createTime:Il(i,o.createTime.toTimestamp())}}(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bo(e.version)};else{if(!e.isUnknownDocument())return ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Bo(e.version)}}return r}function Tp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $o(t){const e=new Re(t.seconds,t.nanoseconds);return ie.fromTimestamp(e)}function oo(t,e){const n=(e.baseMutations||[]).map(i=>n0(t.gt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>n0(t.gt,i)),s=Re.fromMillis(e.localWriteTimeMs);return new C_(e.batchId,s,n,r)}function Fc(t){const e=$o(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?$o(t.lastLimboFreeSnapshotVersion):ie.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return re(o===1,1966,{count:o}),Hn(bm(iN(i.documents[0])))}(t.query):function(i){return Hn(cN(i))}(t.query),new os(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mt.fromBase64String(t.resumeToken))}function pN(t,e){const n=Bo(e.snapshotVersion),r=Bo(e.lastLimboFreeSnapshotVersion);let s;s=wp(e.target)?aN(t.gt,e.target):lN(t.gt,e.target).Vt;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uo(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function mN(t){const e=cN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jv(e,e.limit,"L"):e}function ty(t,e){return new P_(e.largestBatchId,n0(t.gt,e.overlayMutation))}function Mb(t,e){const n=e.path.lastSegment();return[t,Kt(e.path.popLast()),n]}function Vb(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Bo(r.readTime),documentKey:Kt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{getBundleMetadata(e,n){return Ob(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:$o(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return Ob(e).put(function(s){return{bundleId:s.id,createTime:Bo(tn(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return Lb(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:mN(i.bundledQuery),readTime:$o(i.readTime)}}(r)})}saveNamedQuery(e,n){return Lb(e).put(function(s){return{name:s.name,readTime:Bo(tn(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function Ob(t){return wt(t,vm)}function Lb(t){return wt(t,wm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new Pm(e,r)}getOverlay(e,n){return Ec(e).get(Mb(this.userId,n)).next(r=>r?ty(this.serializer,r):null)}getOverlays(e,n){const r=Ar();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new P_(n,o);s.push(this.wt(e,a))}),O.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Kt(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Ec(e).Y(Kv,a))}),O.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ar(),i=Kt(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ec(e).j(Kv,o).next(a=>{for(const l of a){const c=ty(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Ar();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ec(e).X({index:vk,range:a},(l,c,d)=>{const h=ty(this.serializer,c);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>i)}wt(e,n){return Ec(e).put(function(s,i,o){const[a,l,c]=Mb(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ep(s.gt,o.mutation)}}(this.serializer,this.userId,n))}}function Ec(t){return wt(t,_m)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{St(e){return wt(e,v_)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?mt.fromUint8Array(r):mt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft($e(e.integerValue));else if("doubleValue"in e){const r=$e(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Uu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=gs(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(ys(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?Rk(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):Em(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):ee(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const s of Object.keys(r))this.xt(s,n),this.Dt(r[s],n)}Lt(e,n){var r,s;const i=e.fields||{};this.Ct(n,53);const o=wl,a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(n,15),n.Ft($e(a)),this.xt(o,n),this.Dt(i[o],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const s of r)this.Dt(s,n)}Bt(e,n){this.Ct(n,37),X.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}ao.Ut=new ao;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=255;function S9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function jb(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=S9(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class C9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const s=n.codePointAt(0);this.Wt(240|s>>>18),this.Wt(128|63&s>>>12),this.Wt(128|63&s>>>6),this.Wt(128|63&s)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const s=n.codePointAt(0);this.jt(240|s>>>18),this.jt(128|63&s>>>12),this.jt(128|63&s>>>6),this.jt(128|63&s)}}this.Jt()}Zt(e){const n=this.Xt(e),r=jb(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}tn(e){const n=this.Xt(e),r=jb(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}nn(){this.rn(la),this.rn(255)}sn(){this._n(la),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===la?(this.rn(la),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===la?(this._n(la),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class A9{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class P9{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class Tc{constructor(){this.un=new C9,this.cn=new A9(this.un),this.ln=new P9(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r,s){this.Pn=e,this.Tn=n,this.In=r,this.dn=s}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new lo(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:wf(this.In),directionalValue:wf(this.dn),orderedDocumentKey:wf(n),documentKey:r.path.toArray()}}Rn(e,n,r){const s=this.An(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Os(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=Fb(t.In,e.In),n!==0?n:(n=Fb(t.dn,e.dn),n!==0?n:X.comparator(t.Tn,e.Tn)))}function Fb(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function wf(t){return dR()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function Ub(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class Bb{constructor(e){this.Vn=new Ne((n,r)=>qe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(re(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=$v(e);if(n!==void 0&&!this.yn(n))return!1;const r=no(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.yn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.wn(a,l)||!this.Sn(this.mn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.mn.length||!this.Sn(this.mn[o++],a))return!1}return!0}bn(){if(this.gn)return null;let e=new Ne(qe.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new df(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new df(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new df(r.field,r.dir==="asc"?0:1)));return new fp(fp.UNKNOWN_ID,this.collectionId,n,Fu.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){var e,n;if(re(t instanceof _e||t instanceof Ve,20012),t instanceof _e){if(t instanceof Fk){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>_e.create(t.field,"==",i)))||[];return Ve.create(s,"or")}return t}const r=t.filters.map(s=>gN(s));return Ve.create(r,t.op)}function R9(t){if(t.getFilters().length===0)return[];const e=i0(gN(t));return re(yN(e),7391),r0(e)||s0(e)?[e]:e.getFilters()}function r0(t){return t instanceof _e}function s0(t){return t instanceof Ve&&b_(t)}function yN(t){return r0(t)||s0(t)||function(n){if(n instanceof Ve&&Qv(n)){for(const r of n.getFilters())if(!r0(r)&&!s0(r))return!1;return!0}return!1}(t)}function i0(t){if(re(t instanceof _e||t instanceof Ve,34018),t instanceof _e)return t;if(t.filters.length===1)return i0(t.filters[0]);const e=t.filters.map(r=>i0(r));let n=Ve.create(e,t.op);return n=bp(n),yN(n)?n:(re(n instanceof Ve,64498),re(El(n),40251),re(n.filters.length>1,57927),n.filters.reduce((r,s)=>N_(r,s)))}function N_(t,e){let n;return re(t instanceof _e||t instanceof Ve,38388),re(e instanceof _e||e instanceof Ve,25473),n=t instanceof _e?e instanceof _e?function(s,i){return Ve.create([s,i],"and")}(t,e):$b(t,e):e instanceof _e?$b(e,t):function(s,i){if(re(s.filters.length>0&&i.filters.length>0,48005),El(s)&&El(i))return Ok(s,i.getFilters());const o=Qv(s)?s:i,a=Qv(s)?i:s,l=o.filters.map(c=>N_(c,a));return Ve.create(l,"or")}(t,e),bp(n)}function $b(t,e){if(El(e))return Ok(e,t.getFilters());{const n=e.filters.map(r=>N_(t,r));return Ve.create(n,"or")}}function bp(t){if(re(t instanceof _e||t instanceof Ve,11850),t instanceof _e)return t;const e=t.getFilters();if(e.length===1)return bp(e[0]);if(Mk(t))return t;const n=e.map(s=>bp(s)),r=[];return n.forEach(s=>{s instanceof _e?r.push(s):s instanceof Ve&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.Dn=new D_}addToCollectionParentIndex(e,n){return this.Dn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Nn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class D_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ne(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ne(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="IndexedDbIndexManager",Rh=new Uint8Array(0);class N9{constructor(e,n){this.databaseId=n,this.vn=new D_,this.Cn=new Ss(r=>Uo(r),(r,s)=>Pd(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:r,parent:Kt(s)};return Wb(e).put(i)}return O.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[ak(n),""],!1,!0);return Wb(e).j(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Cr(o.parent))}return r})}addFieldIndex(e,n){const r=bc(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=ua(e);return i.next(a=>{o.put(Vb(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=bc(e),s=ua(e),i=ca(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=bc(e),r=ca(e),s=ua(e);return n.Y().next(()=>r.Y()).next(()=>s.Y())}createTargetIndexes(e,n){return O.forEach(this.Fn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new Bb(r).bn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=ca(e);let s=!0;const i=new Map;return O.forEach(this.Fn(n),o=>this.Mn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=me();const a=[];return O.forEach(i,(l,c)=>{z(zb,`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(l)} to execute ${Uo(n)}`);const d=function(T,A){const k=$v(A);if(k===void 0)return null;for(const V of _p(T,k.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null}(c,l),h=function(T,A){const k=new Map;for(const V of no(A))for(const S of _p(T,V.fieldPath))switch(S.op){case"==":case"in":k.set(V.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return k.set(V.fieldPath.canonicalString(),S.value),Array.from(k.values())}return null}(c,l),f=function(T,A){const k=[];let V=!0;for(const S of no(A)){const I=S.kind===0?xb(T,S.fieldPath,T.startAt):Eb(T,S.fieldPath,T.startAt);k.push(I.value),V&&(V=I.inclusive)}return new xl(k,V)}(c,l),m=function(T,A){const k=[];let V=!0;for(const S of no(A)){const I=S.kind===0?Eb(T,S.fieldPath,T.endAt):xb(T,S.fieldPath,T.endAt);k.push(I.value),V&&(V=I.inclusive)}return new xl(k,V)}(c,l),w=this.xn(l,c,f),y=this.xn(l,c,m),b=this.On(l,c,h),_=this.Nn(l.indexId,d,w,f.inclusive,y,m.inclusive,b);return O.forEach(_,x=>r.H(x,n.limit).next(T=>{T.forEach(A=>{const k=X.fromSegments(A.documentKey);o.has(k)||(o=o.add(k),a.push(k))})}))}).next(()=>a)}return O.resolve(null)})}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=R9(Ve.create(e.filters,"and")).map(r=>Yv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}Nn(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Bn(n[h/c]):Rh,m=this.Ln(e,f,r[h%c],s),w=this.kn(e,f,i[h%c],o),y=a.map(b=>this.Ln(e,f,b,!0));d.push(...this.createRange(m,w,y))}return d}Ln(e,n,r,s){const i=new lo(e,X.empty(),n,r);return s?i:i.En()}kn(e,n,r,s){const i=new lo(e,X.empty(),n,r);return s?i.En():i}Mn(e,n){const r=new Bb(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.pn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Fn(n);return O.forEach(s,i=>this.Mn(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Ne(qe.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}qn(e,n){const r=new Tc;for(const s of no(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.hn(s.kind);ao.Ut.bt(i,o)}return r.an()}Bn(e){const n=new Tc;return ao.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new Tc;return ao.Ut.bt(T_(this.databaseId,n),r.hn(function(i){const o=no(i);return o.length===0?0:o[o.length-1].kind}(e))),r.an()}On(e,n,r){if(r===null)return[];let s=[];s.push(new Tc);let i=0;for(const o of no(e)){const a=r[i++];for(const l of s)if(this.$n(n,o.fieldPath)&&Hu(a))s=this.Un(s,o,a);else{const c=l.hn(o.kind);ao.Ut.bt(a,c)}}return this.Kn(s)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new Tc;l.seed(a.an()),ao.Ut.bt(o,l.hn(n.kind)),i.push(l)}return i}$n(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bc(e),s=ua(e);return(n?r.j(Wv,IDBKeyRange.bound(n,n)):r.j()).next(i=>{const o=[];return O.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new Fu(h.sequenceNumber,new Nn($o(h.readTime),new X(Cr(h.documentKey)),h.largestBatchId)):Fu.empty(),m=d.fields.map(([w,y])=>new df(qe.fromServerFormat(w),y));return new fp(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ue(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=bc(e),i=ua(e);return this.Wn(e).next(o=>s.j(Wv,IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,l=>i.put(Vb(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?O.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),O.forEach(a,l=>this.Gn(e,s,l).next(c=>{const d=this.zn(i,l);return c.isEqual(d)?O.resolve():this.jn(e,i,l,c,d)}))))})}Jn(e,n,r,s){return ca(e).put(s.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,s){return ca(e).delete(s.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const s=ca(e);let i=new Ne(Os);return s.X({index:yk,range:IDBKeyRange.only([r.indexId,this.uid,wf(this.Qn(r,n))])},(o,a)=>{i=i.add(new lo(r.indexId,n,Ub(a.arrayValue),Ub(a.directionalValue)))}).next(()=>i)}zn(e,n){let r=new Ne(Os);const s=this.qn(n,e);if(s==null)return r;const i=$v(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Hu(o))for(const a of o.arrayValue.values||[])r=r.add(new lo(n.indexId,e.key,this.Bn(a),s))}else r=r.add(new lo(n.indexId,e.key,Rh,s));return r}jn(e,n,r,s,i){z(zb,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,h,f){const m=l.getIterator(),w=c.getIterator();let y=aa(m),b=aa(w);for(;y||b;){let _=!1,x=!1;if(y&&b){const T=d(y,b);T<0?x=!0:T>0&&(_=!0)}else y!=null?x=!0:_=!0;_?(h(b),b=aa(w)):x?(f(y),y=aa(m)):(y=aa(m),b=aa(w))}}(s,i,Os,a=>{o.push(this.Jn(e,n,r,a))},a=>{o.push(this.Hn(e,n,r,a))}),O.waitFor(o)}Wn(e){let n=1;return ua(e).X({index:gk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Os(o,a)).filter((o,a,l)=>!a||Os(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Os(o,e),l=Os(o,n);if(a===0)s[0]=e.En();else if(a>0&&l<0)s.push(o),s.push(o.En());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Yn(s[o],s[o+1]))return[];const a=s[o].Rn(this.uid,Rh,X.empty()),l=s[o+1].Rn(this.uid,Rh,X.empty());i.push(IDBKeyRange.bound(a,l))}return i}Yn(e,n){return Os(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Kb)}getMinOffset(e,n){return O.mapArray(this.Fn(n),r=>this.Mn(e,r).next(s=>s||ee(44426))).next(Kb)}}function Wb(t){return wt(t,zu)}function ca(t){return wt(t,ru)}function bc(t){return wt(t,y_)}function ua(t){return wt(t,nu)}function Kb(t){re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;p_(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Nn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vN=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e,n){const r=t.store(ar),s=t.store(ml),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(d,h,f)=>(a++,f.delete()));i.push(l.next(()=>{re(a===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=fk(e,d.key.path,n.batchId);i.push(s.delete(h)),c.push(d.key)}return O.waitFor(i).next(()=>c)}function Ip(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(vN,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class Rm{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static yt(e,n,r,s){re(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Rm(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ls(e).X({index:po,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=wa(e),o=Ls(e);return o.add({}).next(a=>{re(typeof a=="number",49019);const l=new C_(a,n,r,s),c=function(m,w,y){const b=y.baseMutations.map(x=>Ep(m.gt,x)),_=y.mutations.map(x=>Ep(m.gt,x));return{userId:w,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:b,mutations:_}}(this.serializer,this.userId,l),d=[];let h=new Ne((f,m)=>ue(f.canonicalString(),m.canonicalString()));for(const f of s){const m=fk(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(i.put(m,oB))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),O.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Ls(e).get(n).next(r=>r?(re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),oo(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?O.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Zn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ls(e).X({index:po,range:s},(o,a,l)=>{a.userId===this.userId&&(re(a.batchId>=r,47524,{er:r}),i=oo(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=To;return Ls(e).X({index:po,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,To],[this.userId,Number.POSITIVE_INFINITY]);return Ls(e).j(po,n).next(r=>r.map(s=>oo(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=hf(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return wa(e).X({range:s},(o,a,l)=>{const[c,d,h]=o,f=Cr(d);if(c===this.userId&&n.path.isEqual(f))return Ls(e).get(h).next(m=>{if(!m)throw ee(61480,{tr:o,batchId:h});re(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),i.push(oo(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ue);const s=[];return n.forEach(i=>{const o=hf(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=wa(e).X({range:a},(c,d,h)=>{const[f,m,w]=c,y=Cr(m);f===this.userId&&i.path.isEqual(y)?r=r.add(w):h.done()});s.push(l)}),O.waitFor(s).next(()=>this.nr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=hf(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Ne(ue);return wa(e).X({range:o},(l,c,d)=>{const[h,f,m]=l,w=Cr(f);h===this.userId&&r.isPrefixOf(w)?w.length===s&&(a=a.add(m)):d.done()}).next(()=>this.nr(e,a))}nr(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Ls(e).get(i).next(o=>{if(o===null)throw ee(35274,{batchId:i});re(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(oo(this.serializer,o))}))}),O.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return wN(e.ce,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.rr(n.batchId)}),O.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return wa(e).X({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Cr(i[1]);s.push(l)}else a.done()}).next(()=>{re(s.length===0,56720,{ir:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return _N(e,this.userId,n)}sr(e){return xN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:To,lastStreamToken:""})}}function _N(t,e,n){const r=hf(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return wa(t).X({range:i,Z:!0},(a,l,c)=>{const[d,h,f]=a;d===e&&h===s&&(o=!0),c.done()}).next(()=>o)}function Ls(t){return wt(t,ar)}function wa(t){return wt(t,ml)}function xN(t){return wt(t,Bu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new zo(0)}static ur(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next(n=>{const r=new zo(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(n=>ie.fromTimestamp(new Re(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.cr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.lr(e,s)))}addTargetData(e,n){return this.hr(e,n).next(()=>this.cr(e).next(r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>da(e).delete(n.targetId)).next(()=>this.cr(e)).next(r=>(re(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return da(e).X((o,a)=>{const l=Fc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>O.waitFor(i)).next(()=>s)}forEachTarget(e,n){return da(e).X((r,s)=>{const i=Fc(s);n(i)})}cr(e){return Gb(e).get(gp).next(n=>(re(n!==null,2888),n))}lr(e,n){return Gb(e).put(gp,n)}hr(e,n){return da(e).put(pN(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Uo(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return da(e).X({range:s,index:mk},(o,a,l)=>{const c=Fc(a);Pd(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Ys(e);return n.forEach(o=>{const a=Kt(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),O.waitFor(s)}removeMatchingKeys(e,n,r){const s=Ys(e);return O.forEach(n,i=>{const o=Kt(i.path);return O.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Ys(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Ys(e);let i=me();return s.X({range:r,Z:!0},(o,a,l)=>{const c=Cr(o[1]),d=new X(c);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=Kt(n.path),s=IDBKeyRange.bound([r],[ak(r)],!1,!0);let i=0;return Ys(e).X({index:g_,Z:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}Et(e,n){return da(e).get(n).next(r=>r?Fc(r):null)}}function da(t){return wt(t,gl)}function Gb(t){return wt(t,bo)}function Ys(t){return wt(t,yl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="LruGarbageCollector",M9=1048576;function Qb([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class V9{constructor(e){this.Tr=e,this.buffer=new Ne(Qb),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(qb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$i(n)?z(qb,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Rr(3e5)})}}class O9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve($n.ue);const r=new V9(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Hb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ma()<=we.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function TN(t,e){return new O9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.db=e,this.garbageCollector=TN(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,(r,s)=>n(s))}addReference(e,n,r){return kh(e,r)}removeReference(e,n,r){return kh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return kh(e,n)}Sr(e,n){return function(s,i){let o=!1;return xN(s).ee(a=>_N(s,a,i).next(l=>(l&&(o=!0),O.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.wr(e,(o,a)=>{if(a<=n){const l=this.Sr(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ie.min()),Ys(e).delete(function(h){return[0,Kt(h.path)]}(o))))});s.push(l)}}).next(()=>O.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return kh(e,n)}wr(e,n){const r=Ys(e);let s,i=$n.ue;return r.X({index:g_},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==$n.ue&&n(new X(Cr(s)),i),i=c,s=l):i=$n.ue}).next(()=>{i!==$n.ue&&n(new X(Cr(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kh(t,e){return Ys(t).put(function(r,s){return{targetId:0,path:Kt(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Yi(e).put(r)}removeEntry(e,n,r){return Yi(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Tp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=st.newInvalidDocument(n);return Yi(e).X({index:ff,range:IDBKeyRange.only(Ic(n))},(s,i)=>{r=this.Dr(n,i)}).next(()=>r)}vr(e,n){let r={size:0,document:st.newInvalidDocument(n)};return Yi(e).X({index:ff,range:IDBKeyRange.only(Ic(n))},(s,i)=>{r={document:this.Dr(n,i),size:Ip(i)}}).next(()=>r)}getEntries(e,n){let r=Sn();return this.Cr(e,n,(s,i)=>{const o=this.Dr(s,i);r=r.insert(s,o)}).next(()=>r)}Fr(e,n){let r=Sn(),s=new Ke(X.comparator);return this.Cr(e,n,(i,o)=>{const a=this.Dr(i,o);r=r.insert(i,a),s=s.insert(i,Ip(o))}).next(()=>({documents:r,Mr:s}))}Cr(e,n,r){if(n.isEmpty())return O.resolve();let s=new Ne(Jb);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(Ic(s.first()),Ic(s.last())),o=s.getIterator();let a=o.getNext();return Yi(e).X({index:ff,range:i},(l,c,d)=>{const h=X.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Jb(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.G(Ic(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Tp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yi(e).j(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let d=Sn();for(const h of c){const f=this.Dr(X.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Rd(n,f)||s.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=Sn();const o=Yb(n,r),a=Yb(n,Nn.max());return Yi(e).X({index:pk,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const h=this.Dr(X.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(h.key,h),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new F9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Xb(e).get(zv).next(n=>(re(!!n,20021),n))}br(e,n){return Xb(e).put(zv,n)}Dr(e,n){if(n){const r=T9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ie.min())))return r}return st.newInvalidDocument(e)}}function IN(t){return new j9(t)}class F9 extends bN{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new Ss(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Ne((i,o)=>ue(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Nr.get(i);if(n.push(this.Or.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=Db(this.Or.serializer,o);s=s.add(i.path.popLast());const c=Ip(l);r+=c-a.size,n.push(this.Or.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=Db(this.Or.serializer,o.convertToNoDocument(ie.min()));n.push(this.Or.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Or.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next(r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Or.Fr(e,n).next(({documents:r,Mr:s})=>(s.forEach((i,o)=>{this.Nr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function Xb(t){return wt(t,$u)}function Yi(t){return wt(t,mp)}function Ic(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yb(t,e){const n=e.documentKey.path.toArray();return[t,Tp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Jb(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ue(n[i],r[i]),s)return s;return s=ue(n.length,r.length),s||(s=ue(n[n.length-2],r[r.length-2]),s||ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&au(r.mutation,s,zn.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Ar();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Lc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Sn();const o=ou(),a=function(){return ou()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof zi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),au(d.mutation,c,d.mutation.getFieldMask(),Re.now())):o.set(c.key,zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new U9(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ou();let s=new Ke((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||zn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Wk();d.forEach(f=>{if(!i.has(f)){const m=Xk(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Ar());let a=ju,l=i;return o.next(c=>O.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,me())).next(d=>({batchId:a,changes:zk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=Lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Lc();return this.indexManager.getCollectionParents(e,i).next(a=>O.forEach(a,l=>{const c=function(h,f){return new Tm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,st.newInvalidDocument(d)))});let a=Lc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&au(d.mutation,c,zn.empty(),Re.now()),Rd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return O.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:tn(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:mN(s.bundledQuery),readTime:tn(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.overlays=new Ke(X.comparator),this.kr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Ar(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ar(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ar(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return O.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new P_(n,r));let i=this.kr.get(n);i===void 0&&(i=me(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.qr=new Ne(_t.Qr),this.$r=new Ne(_t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _t(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new X(new Me([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new X(new Me([])),r=new _t(n,e),s=new _t(n,e+1);let i=me();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return X.comparator(e.key,n.key)||ue(e.Hr,n.Hr)}static Ur(e,n){return ue(e.Hr,n.Hr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ne(_t.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C_(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?To:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ue);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new _t(new X(i),0);let a=new Ne(ue);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),O.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){re(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _t(n,0),s=this.Yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.ni=e,this.docs=function(){return new Ke(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(e,n){let r=Sn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():st.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Sn();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||p_(ck(d),r)<=0||(s.has(d.key)||Rd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ri(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H9(this)}getSize(e){return O.resolve(this.size)}}class H9 extends bN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.persistence=e,this.ii=new Ss(n=>Uo(n),Pd),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new M_,this.targetCount=0,this._i=zo.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),O.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.hr(n),O.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.ai={},this.overlays={},this.ui=new $n(0),this.ci=!1,this.ci=!0,this.li=new z9,this.referenceDelegate=e(this),this.hi=new G9(this),this.indexManager=new k9,this.remoteDocumentCache=function(s){return new K9(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new fN(n),this.Ti=new B9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new W9(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const s=new q9(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class q9 extends dk{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Ai=new M_,this.Ri=null}static Vi(e){return new km(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{const s=X.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return O.or([()=>O.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sp{constructor(e,n){this.persistence=e,this.gi=new Ss(r=>Kt(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=TN(this,n)}static Vi(e,n){return new Sp(e,n)}Ii(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return O.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?O.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mf(e.data.value)),n}Sr(e,n,r){return O.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return O.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.serializer=e}q(e,n,r,s){const i=new gm("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore(Ad)}(e),function(l){l.createObjectStore(Bu,{keyPath:iB}),l.createObjectStore(ar,{keyPath:cb,autoIncrement:!0}).createIndex(po,ub,{unique:!0}),l.createObjectStore(ml)}(e),Zb(e),function(l){l.createObjectStore(ro)}(e));let o=O.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore(yl),l.deleteObjectStore(gl),l.deleteObjectStore(bo)}(e),Zb(e)),o=o.next(()=>function(l){const c=l.store(bo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ie.min().toTimestamp(),targetCount:0};return c.put(gp,d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(ar).j().next(h=>{l.deleteObjectStore(ar),l.createObjectStore(ar,{keyPath:cb,autoIncrement:!0}).createIndex(po,ub,{unique:!0});const f=c.store(ar),m=h.map(w=>f.put(w));return O.waitFor(m)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore(vl,{keyPath:pB})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.pi(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore($u)}(e),this.yi(i)))),r<7&&s>=7&&(o=o.next(()=>this.wi(i))),r<8&&s>=8&&(o=o.next(()=>this.Si(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.bi(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(vm,{keyPath:mB})})(e),function(l){l.createObjectStore(wm,{keyPath:gB})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(_m,{keyPath:TB});c.createIndex(Kv,bB,{unique:!1}),c.createIndex(vk,IB,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(mp,{keyPath:aB});c.createIndex(ff,lB),c.createIndex(pk,cB)}(e)).next(()=>this.Di(e,i)).next(()=>e.deleteObjectStore(ro))),r<14&&s>=14&&(o=o.next(()=>this.Ci(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore(y_,{keyPath:yB,autoIncrement:!0}).createIndex(Wv,vB,{unique:!1}),l.createObjectStore(nu,{keyPath:wB}).createIndex(gk,_B,{unique:!1}),l.createObjectStore(ru,{keyPath:xB}).createIndex(yk,EB,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(nu).clear()}).next(()=>{n.objectStore(ru).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(v_,{keyPath:SB})})(e)})),r<18&&s>=18&&dR()&&(o=o.next(()=>{n.objectStore(nu).clear()}).next(()=>{n.objectStore(ru).clear()})),o}yi(e){let n=0;return e.store(ro).X((r,s)=>{n+=Ip(s)}).next(()=>{const r={byteSize:n};return e.store($u).put(zv,r)})}pi(e){const n=e.store(Bu),r=e.store(ar);return n.j().next(s=>O.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,To],[i.userId,i.lastAcknowledgedBatchId]);return r.j(po,o).next(a=>O.forEach(a,l=>{re(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=oo(this.serializer,l);return wN(e,i.userId,c).next(()=>{})}))}))}wi(e){const n=e.store(yl),r=e.store(ro);return e.store(bo).get(gp).next(s=>{const i=[];return r.X((o,a)=>{const l=new Me(o),c=function(h){return[0,Kt(h)]}(l);i.push(n.get(c).next(d=>d?O.resolve():(h=>n.put({targetId:0,path:Kt(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>O.waitFor(i))})}Si(e,n){e.createObjectStore(zu,{keyPath:fB});const r=n.store(zu),s=new D_,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Kt(l)})}};return n.store(ro).X({Z:!0},(o,a)=>{const l=new Me(o);return i(l.popLast())}).next(()=>n.store(ml).X({Z:!0},([o,a,l],c)=>{const d=Cr(a);return i(d.popLast())}))}bi(e){const n=e.store(gl);return n.X((r,s)=>{const i=Fc(s),o=pN(this.serializer,i);return n.put(o)})}Di(e,n){const r=n.store(ro),s=[];return r.X((i,o)=>{const a=n.store(mp),l=function(h){return h.document?new X(Me.fromString(h.document.name).popFirst(5)):h.noDocument?X.fromSegments(h.noDocument.path):h.unknownDocument?X.fromSegments(h.unknownDocument.path):ee(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>O.waitFor(s))}Ci(e,n){const r=n.store(ar),s=IN(this.serializer),i=new V_(km.Vi,this.serializer.gt);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:me();oo(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),O.forEach(a,(l,c)=>{const d=new At(c),h=Pm.yt(this.serializer,d),f=i.getIndexManager(d),m=Rm.yt(d,this.serializer,f,i.referenceDelegate);return new SN(s,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Hv(n,$n.ue),l).next()})})}}function Zb(t){t.createObjectStore(yl,{keyPath:dB}).createIndex(g_,hB,{unique:!0}),t.createObjectStore(gl,{keyPath:"targetId"}).createIndex(mk,uB,{unique:!0}),t.createObjectStore(bo)}const js="IndexedDbPersistence",ny=18e5,ry=5e3,sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",X9="main";class O_{constructor(e,n,r,s,i,o,a,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=i,this.window=o,this.document=a,this.Mi=c,this.xi=d,this.Oi=h,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=f=>Promise.resolve(),!O_.C())throw new J(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new L9(this,s),this.Qi=n+X9,this.serializer=new fN(l),this.$i=new _i(this.Qi,this.Oi,new Q9(this.serializer)),this.li=new I9,this.hi=new D9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=IN(this.serializer),this.Ti=new b9,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&Jt(js,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(B.FAILED_PRECONDITION,sy);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new $n(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Nh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Yi(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if($i(e))return z(js,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z(js,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return Sc(e).get(oa).next(n=>O.resolve(this.Xi(n)))}es(e){return Nh(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,ny)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=wt(n,vl);return r.j().next(s=>{const i=this.rs(s,ny),o=s.filter(a=>i.indexOf(a)===-1);return O.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?O.resolve(!0):Sc(e).get(oa).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,ry)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new J(B.FAILED_PRECONDITION,sy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nh(e).j().next(r=>this.rs(r,ry).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z(js,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[Ad,vl],e=>{const n=new Hv(e,$n.ue);return this.Yi(n).next(()=>this.es(n))}),this.$i.close(),this.hs()}rs(e,n){return e.filter(r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>Nh(e).j().next(n=>this.rs(n,ny).map(r=>r.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return Rm.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N9(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return Pm.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){z(js,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===18?PB:l===17?Ek:l===16?AB:l===15?w_:l===14?xk:l===13?_k:l===12?CB:l===11?wk:void ee(60245)}(this.Oi);let o;return this.$i.runTransaction(e,s,i,a=>(o=new Hv(a,this.ui?this.ui.next():$n.ue),n==="readwrite-primary"?this.Ji(o).next(l=>!!l||this.Hi(o)).next(l=>{if(!l)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new J(B.FAILED_PRECONDITION,uk);return r(o)}).next(l=>this.Zi(o).next(()=>l)):this.Ts(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ts(e){return Sc(e).get(oa).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,ry)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(B.FAILED_PRECONDITION,sy)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sc(e).put(oa,n)}static C(){return _i.C()}Yi(e){const n=Sc(e);return n.get(oa).next(r=>this.Xi(r)?(z(js,"Releasing primary lease."),n.delete(oa)):O.resolve())}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;uR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return z(js,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jt(js,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sc(t){return wt(t,Ad)}function Nh(t){return wt(t,vl)}function Y9(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new L_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uR()?8:hk(vt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new J9;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ma()<=we.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(ma()<=we.DEBUG&&z("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ma()<=we.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):O.resolve())}ps(e,n){if(Tb(n))return O.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jv(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,Jv(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return Tb(n)||s.isEqual(ie.min())?O.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?O.resolve(null):(ma()<=we.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ga(n)),this.vs(e,o,n,JU(s,ju)).next(a=>a))})}bs(e,n){let r=new Ne(Bk(e));return n.forEach((s,i)=>{Rd(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return ma()<=we.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ga(n)),this.gs.getDocumentsMatchingQuery(e,n,Nn.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="LocalStore",Z9=3e8;class e${constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ke(ue),this.Ms=new Ss(i=>Uo(i),Pd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function AN(t,e,n,r){return new e$(t,e,n,r)}async function PN(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function t$(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=O.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(y=>{const b=c.docVersions.get(w);re(b!==null,48541),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function RN(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function n$(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(mt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Z9?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(i,m))});let l=Sn(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(r$(i,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(ie.min())){const d=n.hi.getLastRemoteSnapshotVersion(i).next(h=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function r$(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Sn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z(j_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function s$(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=To),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i$(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function o0(t,e,n){const r=he(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!$i(o))throw o;z(j_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function eI(t,e,n){const r=he(t);let s=ie.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=he(l),f=h.Ms.get(d);return f!==void 0?O.resolve(h.Fs.get(f)):h.hi.getTargetData(c,d)}(r,o,Hn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:me())).next(a=>(o$(r,KB(e),a),{documents:a,qs:i})))}function o$(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class tI{constructor(){this.activeTargetIds=YB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kN{constructor(){this.Fo=new tI,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="ConnectivityMonitor";class rI{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z(nI,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){z(nI,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function a0(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="RestConnection",l$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c${get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===yp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=a0(),a=this.Go(e,n.toUriEncodedString());z(iy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),d=Fl(c);return this.jo(e,a,l,r,d).then(h=>(z(iy,`Received RPC '${e}' ${o}: `,h),h),h=>{throw jr(iy,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=l$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class d$ extends c${constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=a0();return new Promise((a,l)=>{const c=new ZR;c.setWithCredentials(!0),c.listenOnce(ek.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case uf.NO_ERROR:const h=c.getResponseJson();z(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case uf.TIMEOUT:z(Ft,`RPC '${e}' ${o} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const f=c.getStatus();if(z(Ft,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const y=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(w.status);l(new J(y,w.message))}else l(new J(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{z(Ft,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);z(Ft,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}P_(e,n,r){const s=a0(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rk(),a=nk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");z(Ft,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const w=new u$({Ho:b=>{m?z(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(z(Ft,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),z(Ft,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},Yo:()=>h.close()}),y=(b,_,x)=>{b.listen(_,T=>{try{x(T)}catch(A){setTimeout(()=>{throw A},0)}})};return y(h,Oc.EventType.OPEN,()=>{m||(z(Ft,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),y(h,Oc.EventType.CLOSE,()=>{m||(m=!0,z(Ft,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(h))}),y(h,Oc.EventType.ERROR,b=>{m||(m=!0,jr(Ft,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),w.__(new J(B.UNAVAILABLE,"The operation could not be completed")))}),y(h,Oc.EventType.MESSAGE,b=>{var _;if(!m){const x=b.data[0];re(!!x,16349);const T=x,A=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(A){z(Ft,`RPC '${e}' stream ${s} received error:`,A);const k=A.status;let V=function(P){const R=dt[P];if(R!==void 0)return Zk(R)}(k),S=A.message;V===void 0&&(V=B.INTERNAL,S="Unknown error status: "+k+" with message "+A.message),m=!0,w.__(new J(V,S)),h.close()}else z(Ft,`RPC '${e}' stream ${s} received:`,x),w.a_(x)}}),y(a,tk.STAT_EVENT,b=>{b.stat===Uv.PROXY?z(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Uv.NOPROXY&&z(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){return new f9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="PersistentStream";class DN{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new NN(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Jt(n.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return z(sI,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(z(sI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f$ extends DN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=g9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?tn(o.readTime):ie.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=t0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=wp(l)?{documents:aN(i,l)}:{query:lN(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nN(i,o.resumeToken);const c=Zv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Il(i,o.snapshotVersion.toTimestamp());const c=Zv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=v9(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=t0(this.serializer),n.removeTarget=e,this.k_(n)}}class p$ extends DN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=y9(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=t0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ep(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${}class g$ extends m${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,e0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,e0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class y${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Jt(n),this._a=!1):z("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="RemoteStore";class v${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Yo(this)&&(z(Wo,"Restarting streams for network reachability change."),await async function(l){const c=he(l);c.Ia.add(4),await Nd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Dm(c)}(this))})}),this.Aa=new y$(r,s)}}async function Dm(t){if(Yo(t))for(const e of t.da)await e(!0)}async function Nd(t){for(const e of t.da)await e(!1)}function MN(t,e){const n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),$_(n)?B_(n):Wl(n).x_()&&U_(n,e))}function F_(t,e){const n=he(t),r=Wl(n);n.Ta.delete(e),r.x_()&&VN(n,e),n.Ta.size===0&&(r.x_()?r.B_():Yo(n)&&n.Aa.set("Unknown"))}function U_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wl(t).H_(e)}function VN(t,e){t.Ra.$e(e),Wl(t).Y_(e)}function B_(t){t.Ra=new c9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.Aa.aa()}function $_(t){return Yo(t)&&!Wl(t).M_()&&t.Ta.size>0}function Yo(t){return he(t).Ia.size===0}function ON(t){t.Ra=void 0}async function w$(t){t.Aa.set("Online")}async function _$(t){t.Ta.forEach((e,n)=>{U_(t,e)})}async function x$(t,e){ON(t),$_(t)?(t.Aa.la(e),B_(t)):t.Aa.set("Unknown")}async function E$(t,e,n){if(t.Aa.set("Online"),e instanceof tN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){z(Wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(t,r)}else if(e instanceof vf?t.Ra.Ye(e):e instanceof eN?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{const r=await RN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ta.get(c);d&&i.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ta.get(l);if(!d)return;i.Ta.set(l,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),VN(i,l);const h=new os(d.target,l,c,d.sequenceNumber);U_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z(Wo,"Failed to raise snapshot:",r),await Cp(t,r)}}async function Cp(t,e,n){if(!$i(e))throw e;t.Ia.add(1),await Nd(t),t.Aa.set("Offline"),n||(n=()=>RN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z(Wo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Dm(t)})}function LN(t,e){return e().catch(n=>Cp(t,n,e))}async function Dd(t){const e=he(t),n=Ii(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:To;for(;T$(e);)try{const s=await s$(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,b$(e,s)}catch(s){await Cp(e,s)}jN(e)&&FN(e)}function T$(t){return Yo(t)&&t.Pa.length<10}function b$(t,e){t.Pa.push(e);const n=Ii(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function jN(t){return Yo(t)&&!Ii(t).M_()&&t.Pa.length>0}function FN(t){Ii(t).start()}async function I$(t){Ii(t).na()}async function S$(t){const e=Ii(t);for(const n of t.Pa)e.X_(n.mutations)}async function C$(t,e,n){const r=t.Pa.shift(),s=A_.from(r,e,n);await LN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dd(t)}async function A$(t,e){e&&Ii(t).Z_&&await async function(r,s){if(function(o){return a9(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();Ii(r).N_(),await LN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dd(r)}}(t,e),jN(t)&&FN(t)}async function iI(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),z(Wo,"RemoteStore received new credentials");const r=Yo(n);n.Ia.add(3),await Nd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Dm(n)}async function P$(t,e){const n=he(t);e?(n.Ia.delete(2),await Dm(n)):e||(n.Ia.add(2),await Nd(n),n.Aa.set("Unknown"))}function Wl(t){return t.Va||(t.Va=function(n,r,s){const i=he(n);return i.ia(),new f$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:w$.bind(null,t),e_:_$.bind(null,t),n_:x$.bind(null,t),J_:E$.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),$_(t)?B_(t):t.Aa.set("Unknown")):(await t.Va.stop(),ON(t))})),t.Va}function Ii(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.ia(),new p$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:I$.bind(null,t),n_:A$.bind(null,t),ea:S$.bind(null,t),ta:C$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Dd(t)):(await t.ma.stop(),t.Pa.length>0&&(z(Wo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new z_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(t,e){if(Jt("AsyncQueue",`${e}: ${t}`),$i(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(e){return new Ha(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Lc(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.fa=new Ke(X.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sl(e,n,Ha.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class k${constructor(){this.queries=aI(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=aI(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function aI(){return new Ss(t=>Uk(t),Im)}async function N$(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new R$,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=W_(o,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&K_(n)}async function D$(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M$(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&K_(n)}function V$(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function K_(t){t.Da.forEach(e=>{e.next()})}var l0,lI;(lI=l0||(l0={})).Fa="default",lI.Cache="cache";class O${constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==l0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.key=e}}class BN{constructor(e){this.key=e}}class L${constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=me(),this.mutatedKeys=me(),this.Xa=Bk(e),this.eu=new Ha(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new oI,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Rd(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?w!==y&&(r.track({type:3,doc:m}),b=!0):this.iu(f,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),b=!0):f&&!m&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,w){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:b})}};return y(m)-y(w)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Sl(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new oI,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new BN(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new UN(r))}),n}uu(e){this.Ha=e.qs,this.Za=me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Sl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const H_="SyncEngine";class j${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F${constructor(e){this.key=e,this.lu=!1}}class U${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ss(a=>Uk(a),Im),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(X.comparator),this.Eu=new Map,this.Au=new M_,this.Ru={},this.Vu=new Map,this.mu=zo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function B$(t,e,n=!0){const r=GN(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await $N(r,e,n,!0),s}async function $$(t,e){const n=GN(t);await $N(n,e,!0,!1)}async function $N(t,e,n,r){const s=await i$(t.localStore,Hn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await z$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MN(t.remoteStore,s),a}async function z$(t,e,n,r,s){t.gu=(h,f,m)=>async function(y,b,_,x){let T=b.view.nu(_);T.Ds&&(T=await eI(y.localStore,b.query,!1).then(({documents:S})=>b.view.nu(S,T)));const A=x&&x.targetChanges.get(b.targetId),k=x&&x.targetMismatches.get(b.targetId)!=null,V=b.view.applyChanges(T,y.isPrimaryClient,A,k);return uI(y,b.targetId,V._u),V.snapshot}(t,h,f,m);const i=await eI(t.localStore,e,!0),o=new L$(e,i.qs),a=o.nu(i.documents),l=kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);uI(t,n,c._u);const d=new j$(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function W$(t,e,n){const r=he(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!Im(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await o0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&F_(r.remoteStore,s.targetId),c0(r,s.targetId)}).catch(Qo)):(c0(r,s.targetId),await o0(r.localStore,s.targetId,!0))}async function K$(t,e){const n=he(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F_(n.remoteStore,r.targetId))}async function H$(t,e,n){const r=qN(t);try{const s=await function(o,a){const l=he(o),c=Re.now(),d=a.reduce((m,w)=>m.add(w.key),me());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Sn(),y=me();return l.Os.getEntries(m,d).next(b=>{w=b,w.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(b=>{h=b;const _=[];for(const x of a){const T=i9(x,h.get(x.key).overlayedDocument);T!=null&&_.push(new zi(x.key,T,Nk(T.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(b=>{f=b;const _=b.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:f.batchId,changes:zk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Ke(ue)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await Md(r,s.changes),await Dd(r.remoteStore)}catch(s){const i=W_(s,"Failed to persist write");n.reject(i)}}async function zN(t,e){const n=he(t);try{const r=await n$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?re(o.lu,14607):s.removedDocuments.size>0&&(re(o.lu,42227),o.lu=!1))}),await Md(n,r,e)}catch(r){await Qo(r)}}function cI(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(c=!0)}),c&&K_(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G$(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ke(X.comparator);o=o.insert(i,st.newNoDocument(i,ie.min()));const a=me().add(i),l=new Am(ie.min(),new Map,new Ke(ue),o,a);await zN(r,l),r.du=r.du.remove(i),r.Eu.delete(e),G_(r)}else await o0(r.localStore,e,!1).then(()=>c0(r,e,n)).catch(Qo)}async function q$(t,e){const n=he(t),r=e.batch.batchId;try{const s=await t$(n.localStore,e);KN(n,r,null),WN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Md(n,s)}catch(s){await Qo(s)}}async function Q$(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(re(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);KN(r,e,n),WN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Md(r,s)}catch(s){await Qo(s)}}function WN(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function KN(t,e,n){const r=he(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function c0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||HN(t,r)})}function HN(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(F_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),G_(t))}function uI(t,e,n){for(const r of n)r instanceof UN?(t.Au.addReference(r.key,e),X$(t,r)):r instanceof BN?(z(H_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||HN(t,r.key)):ee(19791,{yu:r})}function X$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(z(H_,"New document in limbo: "+n),t.Iu.add(r),G_(t))}function G_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new X(Me.fromString(e)),r=t.mu.next();t.Eu.set(r,new F$(n)),t.du=t.du.insert(n,r),MN(t.remoteStore,new os(Hn(bm(n.path)),r,"TargetPurposeLimboResolution",$n.ue))}}async function Md(t,e,n){const r=he(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=L_.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const d=he(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(c,f=>O.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>O.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!$i(h))throw h;z(j_,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),w=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(f,y)}}}(r.localStore,i))}async function Y$(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){z(H_,"User change. New user:",e.toKey());const r=await PN(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Md(n,r.Bs)}}function J$(t,e){const n=he(t),r=n.Eu.get(e);if(r&&r.lu)return me().add(r.key);{let s=me();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function GN(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G$.bind(null,e),e.hu.J_=M$.bind(null,e.eventManager),e.hu.pu=V$.bind(null,e.eventManager),e}function qN(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q$.bind(null,e),e}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return AN(this.persistence,new CN,e.initialUser,this.serializer)}Du(e){return new V_(km.Vi,this.serializer)}bu(e){return new kN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class Z$ extends Qu{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){re(this.persistence.referenceDelegate instanceof Sp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EN(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new V_(r=>Sp.Vi(r,n),this.serializer)}}class ez extends Qu{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await qN(this.Mu.syncEngine),await Dd(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return AN(this.persistence,new CN,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new EN(r,e.asyncQueue,n)}Fu(e,n){const r=new nB(n,this.persistence);return new tB(e.asyncQueue,r)}Du(e){const n=Y9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new O_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,h$(),_f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new kN}}class Ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y$.bind(null,this.syncEngine),await P$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new k$}()}createDatastore(e){const n=Nm(e.databaseInfo.databaseId),r=function(i){return new d$(i)}(e.databaseInfo);return function(i,o,a,l){return new g$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new v$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cI(this.syncEngine,n,0),function(){return rI.C()?new rI:new a$}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new U$(s,i,o,a,l,c);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);z(Wo,"RemoteStore shutting down."),i.Ia.add(5),await Nd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="FirestoreClient";class nz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{z(Si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z(Si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oy(t,e){t.asyncQueue.verifyOperationInProgress(),z(Si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await PN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{jr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{jr("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function dI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rz(t);z(Si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>iI(e.remoteStore,s)),t._onlineComponents=e}async function rz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z(Si,"Using user provided OfflineComponentProvider");try{await oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;jr("Error using user provided cache. Falling back to memory cache: "+n),await oy(t,new Qu)}}else z(Si,"Using default OfflineComponentProvider"),await oy(t,new Z$(void 0));return t._offlineComponents}async function QN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z(Si,"Using user provided OnlineComponentProvider"),await dI(t,t._uninitializedComponentsProvider._online)):(z(Si,"Using default OnlineComponentProvider"),await dI(t,new Ap))),t._onlineComponents}function sz(t){return QN(t).then(e=>e.syncEngine)}async function iz(t){const e=await QN(t),n=e.eventManager;return n.onListen=B$.bind(null,e.syncEngine),n.onUnlisten=W$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K$.bind(null,e.syncEngine),n}function oz(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new tz({next:f=>{d.Ou(),o.enqueueAndForget(()=>D$(i,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new J(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new J(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new O$(bm(a.path),d,{includeMetadataChanges:!0,ka:!0});return N$(i,h)}(await iz(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firestore.googleapis.com",fI=!0;class pI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YN,this.ssl=fI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M9)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q_{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BU;switch(r.type){case"firstParty":return new KU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hI.get(n);r&&(z("ComponentProvider","Removing Datastore"),hI.delete(n),r.terminate())}(this),Promise.resolve()}}function az(t,e,n,r={}){var s;t=pl(t,q_);const i=Fl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(aR(`https://${l}`),lR("Firestore",!0)),o.host!==YN&&o.host!==l&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Mo(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=At.MOCK_USER;else{d=JF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new At(f)}t._authCredentials=new $U(new ik(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lz=class JN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new JN(this.firestore,e,this._query)}};class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cd(n,Et._jsonSchema))return new Et(e,r||null,new X(Me.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:pt("string",Et._jsonSchemaVersion),referencePath:pt("string")};class Xu extends lz{constructor(e,n,r){super(e,n,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new X(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function ZN(t,e,...n){if(t=kn(t),arguments.length===1&&(e=h_.newId()),XU("doc","path",e),t instanceof q_){const r=Me.fromString(e,...n);return sb(r),new Et(t,null,new X(r))}{if(!(t instanceof Et||t instanceof Xu))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return sb(r),new Et(t.firestore,t instanceof Xu?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="AsyncQueue";class gI{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new NN(this,"async_queue_retry"),this.oc=()=>{const r=_f();r&&z(mI,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new cs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$i(e))throw e;z(mI,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Jt("INTERNAL UNHANDLED ERROR: ",yI(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=z_.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ee(47125,{hc:yI(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function yI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mm extends q_{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new gI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gI(e),this._firestoreClient=void 0,await e}}}function cz(t,e){const n=typeof t=="object"?t:gR(),r=typeof t=="string"?t:yp,s=e_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=XF("firestore");i&&az(s,...i)}return s}function eD(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tD(t),t._firestoreClient}function tD(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new kB(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new nz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function uz(t,e){jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return dz(t,Ap.provider,{build:r=>new ez(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function dz(t,e,n){if((t=pl(t,Mm))._firestoreClient||t._terminated)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new J(B.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},tD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(mt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cd(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:pt("string",Un._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(Cd(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:pt("string",Nr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cd(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Dr(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:pt("string",Dr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^__.*__$/;class fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}function rD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:t})}}class X_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new X_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Pp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(rD(this.Ec)&&hz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class pz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nm(e)}Dc(e,n,r,s=!1){return new X_({Ec:e,methodName:n,bc:r,path:qe.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mz(t){const e=t._freezeSettings(),n=Nm(t._databaseId);return new pz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gz(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);aD("Data must be an object, but it was:",o,r);const a=iD(r,o);let l,c;if(i.merge)l=new zn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=yz(e,h,n);if(!o.contains(f))throw new J(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wz(d,f)||d.push(f)}l=new zn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new fz(new ln(a),l,c)}function sD(t,e){if(oD(t=kn(t)))return aD("Unsupported field value:",e,t),iD(t,e);if(t instanceof nD)return function(r,s){if(!rD(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=sD(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:Il(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Il(s.serializer,i)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:nN(s.serializer,r._byteString)};if(r instanceof Et){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:k_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Dr)return function(o,a){return{mapValue:{fields:{[x_]:{stringValue:E_},[wl]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return I_(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${f_(r)}`)}(t,e)}function iD(t,e){const n={};return Tk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,s)=>{const i=sD(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function oD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Nr||t instanceof Un||t instanceof Et||t instanceof nD||t instanceof Dr)}function aD(t,e,n){if(!oD(n)||!lk(n)){const r=f_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function yz(t,e,n){if((e=kn(e))instanceof Q_)return e._internalPath;if(typeof e=="string")return lD(t,e);throw Pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const vz=new RegExp("[~\\*/\\[\\]]");function lD(t,e,n){if(e.search(vz)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Q_(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function wz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _z extends cD{data(){return super.data()}}function uD(t,e){return typeof e=="string"?lD(t,e):e instanceof Q_?e._internalPath:e._delegate._internalPath}class xz{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[wl].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$e(o.doubleValue));return new Dr(i)}convertGeoPoint(e){return new Nr($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);re(hN(r),9688,{name:e});const s=new Fo(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||Jt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends cD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:pt("string",So._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class xf extends So{data(e={}){return super.data(e)}}class lu{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xf(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new xf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new xf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Tz(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=h_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){t=pl(t,Et);const e=pl(t.firestore,Mm);return oz(eD(e),t._key).then(n=>Az(e,t,n))}lu._jsonSchemaVersion="firestore/querySnapshot/1.0",lu._jsonSchema={type:pt("string",lu._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class Iz extends xz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Sz(t,e,n){t=pl(t,Et);const r=pl(t.firestore,Mm),s=Ez(t.converter,e);return Cz(r,[gz(mz(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Cn.none())])}function Cz(t,e){return function(r,s){const i=new cs;return r.asyncQueue.enqueueAndForget(async()=>H$(await sz(r),s,i)),i.promise}(eD(t),e)}function Az(t,e,n){const r=n.docs.get(e._key),s=new Iz(t);return new So(t,s,e._key,r,new Uc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){$l=s})(Ul),hl(new Vo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Mm(new zU(r.getProvider("auth-internal")),new HU(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),vi(ZT,eb,e),vi(ZT,eb,"esm2017")})();const Pz={apiKey:"AIzaSyA8VcJp46PVKiigkLqhNtCfcIviBrrRYBI",authDomain:"stackit-66180.firebaseapp.com",projectId:"stackit-66180",storageBucket:"stackit-66180.firebasestorage.app",messagingSenderId:"259081242449",appId:"1:259081242449:web:f3d7a9704a6a788f8bf570"},dD=mR(Pz),Vd=LU(dD),Y_=cz(dD);uz(Y_).catch(t=>{t.code==="failed-precondition"?console.warn("Offline persistence can only be enabled in one tab at a time"):t.code==="unimplemented"&&console.warn("Current browser does not support offline persistence")});const Rz=async(t,e)=>{await Sz(ZN(Y_,"users",t),{...e,reputation:0,badges:[],stats:{questions:0,answers:0,upvotes:0}})},kz=async t=>{const e=ZN(Y_,"users",t),n=await bz(e);return n.exists()?n.data():null},hD=v.createContext({user:null,userData:null,loading:!0}),fD=({children:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0);return v.useEffect(()=>{const a=I6(Vd,async l=>{if(n(l),l){const c=await kz(l.uid);s(c)}else s(null);o(!1)});return()=>a()},[]),p.jsx(hD.Provider,{value:{user:e,userData:r,loading:i},children:t})},Wi=()=>v.useContext(hD),Nz=1,Dz=1e6;let ay=0;function Mz(){return ay=(ay+1)%Number.MAX_SAFE_INTEGER,ay.toString()}const ly=new Map,vI=t=>{if(ly.has(t))return;const e=setTimeout(()=>{ly.delete(t),cu({type:"REMOVE_TOAST",toastId:t})},Dz);ly.set(t,e)},Vz=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Nz)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vI(n):t.toasts.forEach(r=>{vI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ef=[];let Tf={toasts:[]};function cu(t){Tf=Vz(Tf,t),Ef.forEach(e=>{e(Tf)})}function Oz({...t}){const e=Mz(),n=s=>cu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>cu({type:"DISMISS_TOAST",toastId:e});return cu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Lz(){const[t,e]=v.useState(Tf);return v.useEffect(()=>(Ef.push(e),()=>{const n=Ef.indexOf(e);n>-1&&Ef.splice(n,1)}),[t]),{...t,toast:Oz,dismiss:n=>cu({type:"DISMISS_TOAST",toastId:n})}}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function jz(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Vm(...t){return e=>t.forEach(n=>jz(n,e))}function bt(...t){return v.useCallback(Vm(...t),t)}function Fz(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Uz(s,...e)]}function Uz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Cl=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(Bz);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return p.jsx(u0,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return p.jsx(u0,{...r,ref:e,children:n})});Cl.displayName="Slot";var u0=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=zz(n);return v.cloneElement(n,{...$z(r,n.props),ref:e?Vm(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});u0.displayName="SlotClone";var pD=({children:t})=>p.jsx(p.Fragment,{children:t});function Bz(t){return v.isValidElement(t)&&t.type===pD}function $z(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function zz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function J_(t){const e=t+"CollectionProvider",[n,r]=Fz(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:y}=m,b=G.useRef(null),_=G.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:_,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=G.forwardRef((m,w)=>{const{scope:y,children:b}=m,_=i(a,y),x=bt(w,_.collectionRef);return p.jsx(Cl,{ref:x,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=G.forwardRef((m,w)=>{const{scope:y,children:b,..._}=m,x=G.useRef(null),T=bt(w,x),A=i(c,y);return G.useEffect(()=>(A.itemMap.set(x,{ref:x,..._}),()=>void A.itemMap.delete(x))),p.jsx(Cl,{[d]:"",ref:T,children:b})});h.displayName=c;function f(m){const w=i(t+"CollectionConsumer",m);return G.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((A,k)=>_.indexOf(A.ref.current)-_.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function Od(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:f,children:m,...w}=h,y=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})};c.displayName=i+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Wz(s,...e)]}function Wz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Kz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=Kz.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Cl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Z_(t,e){t&&wd.flushSync(()=>t.dispatchEvent(e))}function Gt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Hz(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Gz="DismissableLayer",d0="dismissableLayer.update",qz="dismissableLayer.pointerDownOutside",Qz="dismissableLayer.focusOutside",wI,mD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Om=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(mD),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=bt(e,S=>h(S)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),x=d?y.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=_,k=Yz(S=>{const I=S.target,P=[...c.branches].some(R=>R.contains(I));!A||P||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},f),V=Jz(S=>{const I=S.target;[...c.branches].some(R=>R.contains(I))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},f);return Hz(S=>{x===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(wI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),_I(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=wI)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),_I())},[d,c]),v.useEffect(()=>{const S=()=>m({});return document.addEventListener(d0,S),()=>document.removeEventListener(d0,S)},[]),p.jsx(Se.div,{...l,ref:w,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,k.onPointerDownCapture)})});Om.displayName=Gz;var Xz="DismissableLayerBranch",gD=v.forwardRef((t,e)=>{const n=v.useContext(mD),r=v.useRef(null),s=bt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Se.div,{...t,ref:s})});gD.displayName=Xz;function Yz(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){yD(qz,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Jz(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&yD(Qz,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _I(){const t=new CustomEvent(d0);document.dispatchEvent(t)}function yD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Z_(s,i):s.dispatchEvent(i)}var Zz=Om,e8=gD,Ur=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},t8="Portal",ex=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Ur(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$P.createPortal(p.jsx(Se.div,{...r,ref:e}),o):null});ex.displayName=t8;function n8(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Jo=t=>{const{present:e,children:n}=t,r=r8(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=bt(r.ref,s8(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Jo.displayName="Presence";function r8(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=n8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Mh(r.current);i.current=a==="mounted"?c:"none"},[a]),Ur(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,m=Mh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ur(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Mh(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=m=>{m.target===e&&(i.current=Mh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Mh(t){return(t==null?void 0:t.animationName)||"none"}function s8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Lm({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=i8({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Gt(n),l=v.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function i8({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Gt(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var o8="VisuallyHidden",jm=v.forwardRef((t,e)=>p.jsx(Se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jm.displayName=o8;var a8=jm,tx="ToastProvider",[nx,l8,c8]=J_("Toast"),[vD,iee]=Od("Toast",[c8]),[u8,Fm]=vD(tx),wD=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tx}\`. Expected non-empty \`string\`.`),p.jsx(nx.Provider,{scope:e,children:p.jsx(u8,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};wD.displayName=tx;var _D="ToastViewport",d8=["F8"],h0="toast.viewportPause",f0="toast.viewportResume",xD=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=d8,label:s="Notifications ({hotkey})",...i}=t,o=Fm(_D,n),a=l8(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=bt(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;v.useEffect(()=>{const b=_=>{var T;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),v.useEffect(()=>{const b=l.current,_=h.current;if(w&&b&&_){const x=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(h0);_.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(f0);_.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!b.contains(V.relatedTarget)&&T()},k=()=>{b.contains(document.activeElement)||T()};return b.addEventListener("focusin",x),b.addEventListener("focusout",A),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",T),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",T)}}},[w,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:b})=>{const x=a().map(T=>{const A=T.ref.current,k=[A,...b8(A)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const b=h.current;if(b){const _=x=>{var k,V,S;const T=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!T){const I=document.activeElement,P=x.shiftKey;if(x.target===b&&P){(k=c.current)==null||k.focus();return}const M=y({tabbingDirection:P?"backwards":"forwards"}),N=M.findIndex(K=>K===I);cy(M.slice(N+1))?x.preventDefault():P?(V=c.current)==null||V.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,y]),p.jsxs(e8,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(p0,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});cy(b)}}),p.jsx(nx.Slot,{scope:n,children:p.jsx(Se.ol,{tabIndex:-1,...i,ref:f})}),w&&p.jsx(p0,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});cy(b)}})]})});xD.displayName=_D;var ED="ToastFocusProxy",p0=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Fm(ED,n);return p.jsx(jm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});p0.displayName=ED;var Um="Toast",h8="toast.swipeStart",f8="toast.swipeMove",p8="toast.swipeCancel",m8="toast.swipeEnd",TD=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Lm({prop:r,defaultProp:s,onChange:i});return p.jsx(Jo,{present:n||a,children:p.jsx(v8,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Gt(t.onPause),onResume:Gt(t.onResume),onSwipeStart:oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});TD.displayName=Um;var[g8,y8]=vD(Um,{onClose(){}}),v8=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=t,y=Fm(Um,n),[b,_]=v.useState(null),x=bt(e,K=>_(K)),T=v.useRef(null),A=v.useRef(null),k=s||y.duration,V=v.useRef(0),S=v.useRef(k),I=v.useRef(0),{onToastAdd:P,onToastRemove:R}=y,D=Gt(()=>{var le;(b==null?void 0:b.contains(document.activeElement))&&((le=y.viewport)==null||le.focus()),o()}),M=v.useCallback(K=>{!K||K===1/0||(window.clearTimeout(I.current),V.current=new Date().getTime(),I.current=window.setTimeout(D,K))},[D]);v.useEffect(()=>{const K=y.viewport;if(K){const le=()=>{M(S.current),c==null||c()},ne=()=>{const te=new Date().getTime()-V.current;S.current=S.current-te,window.clearTimeout(I.current),l==null||l()};return K.addEventListener(h0,ne),K.addEventListener(f0,le),()=>{K.removeEventListener(h0,ne),K.removeEventListener(f0,le)}}},[y.viewport,k,l,c,M]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(k)},[i,k,y.isClosePausedRef,M]),v.useEffect(()=>(P(),()=>R()),[P,R]);const N=v.useMemo(()=>b?RD(b):null,[b]);return y.viewport?p.jsxs(p.Fragment,{children:[N&&p.jsx(w8,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),p.jsx(g8,{scope:n,onClose:D,children:wd.createPortal(p.jsx(nx.ItemSlot,{scope:n,children:p.jsx(Zz,{asChild:!0,onEscapeKeyDown:oe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,K=>{K.key==="Escape"&&(a==null||a(K.nativeEvent),K.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:oe(t.onPointerDown,K=>{K.button===0&&(T.current={x:K.clientX,y:K.clientY})}),onPointerMove:oe(t.onPointerMove,K=>{if(!T.current)return;const le=K.clientX-T.current.x,ne=K.clientY-T.current.y,te=!!A.current,j=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,q=j?U(0,le):0,Q=j?0:U(0,ne),Y=K.pointerType==="touch"?10:2,se={x:q,y:Q},Ce={originalEvent:K,delta:se};te?(A.current=se,Vh(f8,h,Ce,{discrete:!1})):xI(se,y.swipeDirection,Y)?(A.current=se,Vh(h8,d,Ce,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(le)>Y||Math.abs(ne)>Y)&&(T.current=null)}),onPointerUp:oe(t.onPointerUp,K=>{const le=A.current,ne=K.target;if(ne.hasPointerCapture(K.pointerId)&&ne.releasePointerCapture(K.pointerId),A.current=null,T.current=null,le){const te=K.currentTarget,j={originalEvent:K,delta:le};xI(le,y.swipeDirection,y.swipeThreshold)?Vh(m8,m,j,{discrete:!0}):Vh(p8,f,j,{discrete:!0}),te.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),w8=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fm(Um,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return E8(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(ex,{asChild:!0,children:p.jsx(jm,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},_8="ToastTitle",bD=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Se.div,{...r,ref:e})});bD.displayName=_8;var x8="ToastDescription",ID=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Se.div,{...r,ref:e})});ID.displayName=x8;var SD="ToastAction",CD=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(PD,{altText:n,asChild:!0,children:p.jsx(rx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${SD}\`. Expected non-empty \`string\`.`),null)});CD.displayName=SD;var AD="ToastClose",rx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=y8(AD,n);return p.jsx(PD,{asChild:!0,children:p.jsx(Se.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});rx.displayName=AD;var PD=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function RD(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),T8(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...RD(r))}}),e}function Vh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Z_(s,i):s.dispatchEvent(i)}var xI=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function E8(t=()=>{}){const e=Gt(t);Ur(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function T8(t){return t.nodeType===t.ELEMENT_NODE}function b8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var I8=wD,kD=xD,ND=TD,DD=bD,MD=ID,VD=CD,OD=rx;function LD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=LD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=LD(t))&&(r&&(r+=" "),r+=e);return r}const EI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,TI=jD,Ld=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return TI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=EI(d)||EI(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...c,h,f]:c},[]);return TI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...C8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:FD("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(A8,{ref:i,iconNode:e,className:FD(`lucide-${S8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=ge("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hx="-",Q8=t=>{const e=Y8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(hx);return a[0]===""&&a.length!==1&&a.shift(),zD(a,e)||X8(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},zD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?zD(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(hx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},SI=/^\[(.+)\]$/,X8=t=>{if(SI.test(t)){const e=SI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Y8=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z8(Object.entries(t.classGroups),n).forEach(([i,o])=>{y0(o,r,i,e)}),r},y0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(J8(s)){y0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{y0(o,CI(e,i),n,r)})})},CI=(t,e)=>{let n=t;return e.split(hx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},J8=t=>t.isThemeGetter,Z8=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,e7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},WD="!",t7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let b=0;b<a.length;b++){let _=a[b];if(c===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(_==="/"){h=b;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(WD),w=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},n7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},r7=t=>({cache:e7(t.cacheSize),parseClassName:t7(t),...Q8(t)}),s7=/\s+/,i7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(s7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,y=r(w?f.substring(0,m):f);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=n7(d).join(":"),_=h?b+WD:b,x=_+y;if(i.includes(x))continue;i.push(x);const T=s(y,w);for(let A=0;A<T.length;++A){const k=T[A];i.push(_+k)}a=c+(a.length>0?" "+a:a)}return a};function o7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KD(e))&&(r&&(r+=" "),r+=n);return r}const KD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=KD(t[r]))&&(n&&(n+=" "),n+=e);return n};function a7(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=r7(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=i7(l,n);return s(l,d),d}return function(){return i(o7.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HD=/^\[(?:([a-z-]+):)?(.+)\]$/i,l7=/^\d+\/\d+$/,c7=new Set(["px","full","screen"]),u7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,h7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,f7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=t=>Ga(t)||c7.has(t)||l7.test(t),Fs=t=>Kl(t,"length",E7),Ga=t=>!!t&&!Number.isNaN(Number(t)),dy=t=>Kl(t,"number",Ga),Cc=t=>!!t&&Number.isInteger(Number(t)),m7=t=>t.endsWith("%")&&Ga(t.slice(0,-1)),fe=t=>HD.test(t),Us=t=>u7.test(t),g7=new Set(["length","size","percentage"]),y7=t=>Kl(t,g7,GD),v7=t=>Kl(t,"position",GD),w7=new Set(["image","url"]),_7=t=>Kl(t,w7,b7),x7=t=>Kl(t,"",T7),Ac=()=>!0,Kl=(t,e,n)=>{const r=HD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},E7=t=>d7.test(t)&&!h7.test(t),GD=()=>!1,T7=t=>f7.test(t),b7=t=>p7.test(t),I7=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),m=Fe("gradientColorStops"),w=Fe("gradientColorStopPositions"),y=Fe("inset"),b=Fe("margin"),_=Fe("opacity"),x=Fe("padding"),T=Fe("saturate"),A=Fe("scale"),k=Fe("sepia"),V=Fe("skew"),S=Fe("space"),I=Fe("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",fe,e],M=()=>[fe,e],N=()=>["",Xr,Fs],K=()=>["auto",Ga,fe],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Ga,fe];return{cacheSize:500,separator:":",theme:{colors:[Ac],spacing:[Xr,Fs],blur:["none","",Us,fe],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Us,fe],borderSpacing:M(),borderWidth:N(),contrast:Q(),grayscale:U(),hueRotate:Q(),invert:U(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[m7,Fs],inset:D(),margin:D(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:U(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cc,fe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Cc,fe]}],"grid-cols":[{"grid-cols":[Ac]}],"col-start-end":[{col:["auto",{span:["full",Cc,fe]},fe]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Ac]}],"row-start-end":[{row:["auto",{span:[Cc,fe]},fe]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dy]}],"font-family":[{font:[Ac]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ga,dy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Fs]}],"underline-offset":[{"underline-offset":["auto",Xr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),v7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",y7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Xr,fe]}],"outline-w":[{outline:[Xr,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Xr,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,x7]}],"shadow-color":[{shadow:[Ac]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Us,fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Cc,fe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xr,Fs,dy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},S7=a7(I7);function Ee(...t){return S7(jD(t))}const C7=I8,qD=v.forwardRef(({className:t,...e},n)=>p.jsx(kD,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));qD.displayName=kD.displayName;const A7=Ld("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QD=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(ND,{ref:r,className:Ee(A7({variant:e}),t),...n}));QD.displayName=ND.displayName;const P7=v.forwardRef(({className:t,...e},n)=>p.jsx(VD,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));P7.displayName=VD.displayName;const XD=v.forwardRef(({className:t,...e},n)=>p.jsx(OD,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(dx,{className:"h-4 w-4"})}));XD.displayName=OD.displayName;const YD=v.forwardRef(({className:t,...e},n)=>p.jsx(DD,{ref:n,className:Ee("text-sm font-semibold",t),...e}));YD.displayName=DD.displayName;const JD=v.forwardRef(({className:t,...e},n)=>p.jsx(MD,{ref:n,className:Ee("text-sm opacity-90",t),...e}));JD.displayName=MD.displayName;function R7(){const{toasts:t}=Lz();return p.jsxs(C7,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(QD,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(YD,{children:n}),r&&p.jsx(JD,{children:r})]}),s,p.jsx(XD,{})]},e)}),p.jsx(qD,{})]})}var AI=["light","dark"],k7="(prefers-color-scheme: dark)",N7=v.createContext(void 0),D7={setTheme:t=>{},themes:[]},M7=()=>{var t;return(t=v.useContext(N7))!=null?t:D7};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?AI.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,y=!1,b=!0)=>{let _=o?o[w]:w,x=y?w+"|| ''":`'${_}'`,T="";return s&&b&&!y&&AI.includes(w)&&(T+=`d.style.colorScheme = '${w}';`),n==="class"?y||_?T+=`c.add(${x})`:T+="null":_&&(T+=`d[s](n,${x})`),T},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${k7}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var V7=t=>{switch(t){case"success":return j7;case"info":return U7;case"warning":return F7;case"error":return B7;default:return null}},O7=Array(12).fill(0),L7=({visible:t})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},G.createElement("div",{className:"sonner-spinner"},O7.map((e,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),j7=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),F7=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),U7=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B7=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$7=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},v0=1,z7=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:v0++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(K7(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||v0++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},_n=new z7,W7=(t,e)=>{let n=(e==null?void 0:e.id)||v0++;return _n.addToast({title:t,...e,id:n}),n},K7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",H7=W7,G7=()=>_n.toasts;Object.assign(H7,{success:_n.success,info:_n.info,warning:_n.warning,error:_n.error,custom:_n.custom,message:_n.message,promise:_n.promise,dismiss:_n.dismiss,loading:_n.loading},{getHistory:G7});function q7(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}q7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Oh(t){return t.label!==void 0}var Q7=3,X7="32px",Y7=4e3,J7=356,Z7=14,eW=20,tW=200;function nW(...t){return t.filter(Boolean).join(" ")}var rW=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:h,toast:f,unstyled:m,interacting:w,setHeights:y,visibleToasts:b,heights:_,index:x,toasts:T,expanded:A,removeToast:k,defaultRichColors:V,closeButton:S,style:I,cancelButtonStyle:P,actionButtonStyle:R,className:D="",descriptionClassName:M="",duration:N,position:K,gap:le,loadingIcon:ne,expandByDefault:te,classNames:j,icons:U,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:Q,cn:Y}=t,[se,Ce]=G.useState(!1),[Je,ye]=G.useState(!1),[He,yn]=G.useState(!1),[lt,Nt]=G.useState(!1),[Wr,gr]=G.useState(0),[Jn,Kr]=G.useState(0),Cs=G.useRef(null),Zn=G.useRef(null),Yl=x===0,Jl=x+1<=b,ct=f.type,yr=f.dismissible!==!1,Kd=f.className||"",ig=f.descriptionClassName||"",As=G.useMemo(()=>_.findIndex(de=>de.toastId===f.id)||0,[_,f.id]),Zl=G.useMemo(()=>{var de;return(de=f.closeButton)!=null?de:S},[f.closeButton,S]),ec=G.useMemo(()=>f.duration||N||Y7,[f.duration,N]),ut=G.useRef(0),Ze=G.useRef(0),Hi=G.useRef(0),Hr=G.useRef(null),[tc,og]=K.split("-"),Ps=G.useMemo(()=>_.reduce((de,De,Ae)=>Ae>=As?de:de+De.height,0),[_,As]),nc=$7(),Hd=f.invert||h,Gi=ct==="loading";Ze.current=G.useMemo(()=>As*le+Ps,[As,Ps]),G.useEffect(()=>{Ce(!0)},[]),G.useLayoutEffect(()=>{if(!se)return;let de=Zn.current,De=de.style.height;de.style.height="auto";let Ae=de.getBoundingClientRect().height;de.style.height=De,Kr(Ae),y(Dt=>Dt.find(on=>on.toastId===f.id)?Dt.map(on=>on.toastId===f.id?{...on,height:Ae}:on):[{toastId:f.id,height:Ae,position:f.position},...Dt])},[se,f.title,f.description,y,f.id]);let vr=G.useCallback(()=>{ye(!0),gr(Ze.current),y(de=>de.filter(De=>De.toastId!==f.id)),setTimeout(()=>{k(f)},tW)},[f,k,y,Ze]);G.useEffect(()=>{if(f.promise&&ct==="loading"||f.duration===1/0||f.type==="loading")return;let de,De=ec;return A||w||Q&&nc?(()=>{if(Hi.current<ut.current){let Ae=new Date().getTime()-ut.current;De=De-Ae}Hi.current=new Date().getTime()})():De!==1/0&&(ut.current=new Date().getTime(),de=setTimeout(()=>{var Ae;(Ae=f.onAutoClose)==null||Ae.call(f,f),vr()},De)),()=>clearTimeout(de)},[A,w,te,f,ec,vr,f.promise,ct,Q,nc]),G.useEffect(()=>{let de=Zn.current;if(de){let De=de.getBoundingClientRect().height;return Kr(De),y(Ae=>[{toastId:f.id,height:De,position:f.position},...Ae]),()=>y(Ae=>Ae.filter(Dt=>Dt.toastId!==f.id))}},[y,f.id]),G.useEffect(()=>{f.delete&&vr()},[vr,f.delete]);function ag(){return U!=null&&U.loading?G.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},U.loading):ne?G.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},ne):G.createElement(L7,{visible:ct==="loading"})}return G.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Zn,className:Y(D,Kd,j==null?void 0:j.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[ct],(n=f==null?void 0:f.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:V,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":se,"data-promise":!!f.promise,"data-removed":Je,"data-visible":Jl,"data-y-position":tc,"data-x-position":og,"data-index":x,"data-front":Yl,"data-swiping":He,"data-dismissible":yr,"data-type":ct,"data-invert":Hd,"data-swipe-out":lt,"data-expanded":!!(A||te&&se),style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${Je?Wr:Ze.current}px`,"--initial-height":te?"auto":`${Jn}px`,...I,...f.style},onPointerDown:de=>{Gi||!yr||(Cs.current=new Date,gr(Ze.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(yn(!0),Hr.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,De,Ae,Dt;if(lt||!yr)return;Hr.current=null;let on=Number(((de=Zn.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rs=new Date().getTime()-((De=Cs.current)==null?void 0:De.getTime()),Gr=Math.abs(on)/Rs;if(Math.abs(on)>=eW||Gr>.11){gr(Ze.current),(Ae=f.onDismiss)==null||Ae.call(f,f),vr(),Nt(!0);return}(Dt=Zn.current)==null||Dt.style.setProperty("--swipe-amount","0px"),yn(!1)},onPointerMove:de=>{var De;if(!Hr.current||!yr)return;let Ae=de.clientY-Hr.current.y,Dt=de.clientX-Hr.current.x,on=(tc==="top"?Math.min:Math.max)(0,Ae),Rs=de.pointerType==="touch"?10:2;Math.abs(on)>Rs?(De=Zn.current)==null||De.style.setProperty("--swipe-amount",`${Ae}px`):Math.abs(Dt)>Rs&&(Hr.current=null)}},Zl&&!f.jsx?G.createElement("button",{"aria-label":q,"data-disabled":Gi,"data-close-button":!0,onClick:Gi||!yr?()=>{}:()=>{var de;vr(),(de=f.onDismiss)==null||de.call(f,f)},className:Y(j==null?void 0:j.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||G.isValidElement(f.title)?f.jsx||f.title:G.createElement(G.Fragment,null,ct||f.icon||f.promise?G.createElement("div",{"data-icon":"",className:Y(j==null?void 0:j.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ag():null,f.type!=="loading"?f.icon||(U==null?void 0:U[ct])||V7(ct):null):null,G.createElement("div",{"data-content":"",className:Y(j==null?void 0:j.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:Y(j==null?void 0:j.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?G.createElement("div",{"data-description":"",className:Y(M,ig,j==null?void 0:j.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),G.isValidElement(f.cancel)?f.cancel:f.cancel&&Oh(f.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:de=>{var De,Ae;Oh(f.cancel)&&yr&&((Ae=(De=f.cancel).onClick)==null||Ae.call(De,de),vr())},className:Y(j==null?void 0:j.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,G.isValidElement(f.action)?f.action:f.action&&Oh(f.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:de=>{var De,Ae;Oh(f.action)&&(de.defaultPrevented||((Ae=(De=f.action).onClick)==null||Ae.call(De,de),vr()))},className:Y(j==null?void 0:j.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function PI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var sW=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=Q7,toastOptions:m,dir:w=PI(),gap:y=Z7,loadingIcon:b,icons:_,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:T,cn:A=nW}=t,[k,V]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([n].concat(k.filter(Q=>Q.position).map(Q=>Q.position)))),[k,n]),[I,P]=G.useState([]),[R,D]=G.useState(!1),[M,N]=G.useState(!1),[K,le]=G.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=G.useRef(null),te=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=G.useRef(null),U=G.useRef(!1),q=G.useCallback(Q=>{var Y;(Y=k.find(se=>se.id===Q.id))!=null&&Y.delete||_n.dismiss(Q.id),V(se=>se.filter(({id:Ce})=>Ce!==Q.id))},[k]);return G.useEffect(()=>_n.subscribe(Q=>{if(Q.dismiss){V(Y=>Y.map(se=>se.id===Q.id?{...se,delete:!0}:se));return}setTimeout(()=>{$P.flushSync(()=>{V(Y=>{let se=Y.findIndex(Ce=>Ce.id===Q.id);return se!==-1?[...Y.slice(0,se),{...Y[se],...Q},...Y.slice(se+1)]:[Q,...Y]})})})}),[]),G.useEffect(()=>{if(l!=="system"){le(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{le(Q?"dark":"light")})},[l]),G.useEffect(()=>{k.length<=1&&D(!1)},[k]),G.useEffect(()=>{let Q=Y=>{var se,Ce;r.every(Je=>Y[Je]||Y.code===Je)&&(D(!0),(se=ne.current)==null||se.focus()),Y.code==="Escape"&&(document.activeElement===ne.current||(Ce=ne.current)!=null&&Ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),G.useEffect(()=>{if(ne.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[ne.current]),k.length?G.createElement("section",{"aria-label":`${x} ${te}`,tabIndex:-1},S.map((Q,Y)=>{var se;let[Ce,Je]=Q.split("-");return G.createElement("ol",{key:Q,dir:w==="auto"?PI():w,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Ce,"data-x-position":Je,style:{"--front-toast-height":`${((se=I[0])==null?void 0:se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||X7,"--width":`${J7}px`,"--gap":`${y}px`,...h},onBlur:ye=>{U.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ye.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},k.filter(ye=>!ye.position&&Y===0||ye.position===Q).map((ye,He)=>{var yn,lt;return G.createElement(rW,{key:ye.id,icons:_,index:He,toast:ye,defaultRichColors:c,duration:(yn=m==null?void 0:m.duration)!=null?yn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(lt=m==null?void 0:m.closeButton)!=null?lt:i,interacting:M,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:k.filter(Nt=>Nt.position==ye.position),heights:I.filter(Nt=>Nt.position==ye.position),setHeights:P,expandByDefault:s,gap:y,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:T,cn:A})}))})):null};const iW=({...t})=>{const{theme:e="system"}=M7();return p.jsx(sW,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var oW=FC.useId||(()=>{}),aW=0;function Np(t){const[e,n]=v.useState(oW());return Ur(()=>{n(r=>r??String(aW++))},[t]),e?`radix-${e}`:""}const lW=["top","right","bottom","left"],Ci=Math.min,Tn=Math.max,Dp=Math.round,Lh=Math.floor,Ai=t=>({x:t,y:t}),cW={left:"right",right:"left",bottom:"top",top:"bottom"},uW={start:"end",end:"start"};function w0(t,e,n){return Tn(t,Ci(e,n))}function vs(t,e){return typeof t=="function"?t(e):t}function ws(t){return t.split("-")[0]}function Hl(t){return t.split("-")[1]}function fx(t){return t==="x"?"y":"x"}function px(t){return t==="y"?"height":"width"}function Pi(t){return["top","bottom"].includes(ws(t))?"y":"x"}function mx(t){return fx(Pi(t))}function dW(t,e,n){n===void 0&&(n=!1);const r=Hl(t),s=mx(t),i=px(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Mp(o)),[o,Mp(o)]}function hW(t){const e=Mp(t);return[_0(t),e,_0(e)]}function _0(t){return t.replace(/start|end/g,e=>uW[e])}function fW(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function pW(t,e,n,r){const s=Hl(t);let i=fW(ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(_0)))),i}function Mp(t){return t.replace(/left|right|bottom|top/g,e=>cW[e])}function mW(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZD(t){return typeof t!="number"?mW(t):{top:t,right:t,bottom:t,left:t}}function Vp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function RI(t,e,n){let{reference:r,floating:s}=t;const i=Pi(e),o=mx(e),a=px(o),l=ws(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Hl(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const gW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=RI(c,r,l),f=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:b,fn:_}=a[y],{x,y:T,data:A,reset:k}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=T??h,m={...m,[b]:{...m[b],...A}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=RI(c,f,l)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Yu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=vs(e,t),w=ZD(m),b=a[f?h==="floating"?"reference":"floating":h],_=Vp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},k=Vp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:T,strategy:l}):x);return{top:(_.top-k.top+w.top)/A.y,bottom:(k.bottom-_.bottom+w.bottom)/A.y,left:(_.left-k.left+w.left)/A.x,right:(k.right-_.right+w.right)/A.x}}const yW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=vs(t,e)||{};if(c==null)return{};const h=ZD(d),f={x:n,y:r},m=mx(s),w=px(m),y=await o.getDimensions(c),b=m==="y",_=b?"top":"left",x=b?"bottom":"right",T=b?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[m]-f[m]-i.floating[w],k=f[m]-i.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=V?V[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(V)))&&(S=a.floating[T]||i.floating[w]);const I=A/2-k/2,P=S/2-y[w]/2-1,R=Ci(h[_],P),D=Ci(h[x],P),M=R,N=S-y[w]-D,K=S/2-y[w]/2+I,le=w0(M,K,N),ne=!l.arrow&&Hl(s)!=null&&K!==le&&i.reference[w]/2-(K<M?R:D)-y[w]/2<0,te=ne?K<M?K-M:K-N:0;return{[m]:f[m]+te,data:{[m]:le,centerOffset:K-le-te,...ne&&{alignmentOffset:te}},reset:ne}}}),vW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=vs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ws(s),x=Pi(a),T=ws(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(T||!y?[Mp(a)]:hW(a)),V=w!=="none";!f&&V&&k.push(...pW(a,y,w,A));const S=[a,...k],I=await Yu(e,b),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(I[_]),h){const K=dW(s,o,A);P.push(I[K[0]],I[K[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(K=>K<=0)){var D,M;const K=(((D=i.flip)==null?void 0:D.index)||0)+1,le=S[K];if(le)return{data:{index:K,overflows:R},reset:{placement:le}};let ne=(M=R.filter(te=>te.overflows[0]<=0).sort((te,j)=>te.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(m){case"bestFit":{var N;const te=(N=R.filter(j=>{if(V){const U=Pi(j.placement);return U===x||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:N[0];te&&(ne=te);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function kI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NI(t){return lW.some(e=>t[e]>=0)}const wW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vs(t,e);switch(r){case"referenceHidden":{const i=await Yu(e,{...s,elementContext:"reference"}),o=kI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NI(o)}}}case"escaped":{const i=await Yu(e,{...s,altBoundary:!0}),o=kI(i,n.floating);return{data:{escapedOffsets:o,escaped:NI(o)}}}default:return{}}}}};async function _W(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ws(n),a=Hl(n),l=Pi(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=vs(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const xW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await _W(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},EW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:x}=b;return{x:_,y:x}}},...l}=vs(t,e),c={x:n,y:r},d=await Yu(e,l),h=Pi(ws(s)),f=fx(h);let m=c[f],w=c[h];if(i){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=m+d[b],T=m-d[_];m=w0(x,m,T)}if(o){const b=h==="y"?"top":"left",_=h==="y"?"bottom":"right",x=w+d[b],T=w-d[_];w=w0(x,w,T)}const y=a.fn({...e,[f]:m,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[h]:o}}}}}},TW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=vs(t,e),d={x:n,y:r},h=Pi(s),f=fx(h);let m=d[f],w=d[h];const y=vs(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=f==="y"?"height":"width",A=i.reference[f]-i.floating[T]+b.mainAxis,k=i.reference[f]+i.reference[T]-b.mainAxis;m<A?m=A:m>k&&(m=k)}if(c){var _,x;const T=f==="y"?"width":"height",A=["top","left"].includes(ws(s)),k=i.reference[h]-i.floating[T]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:b.crossAxis),V=i.reference[h]+i.reference[T]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?b.crossAxis:0);w<k?w=k:w>V&&(w=V)}return{[f]:m,[h]:w}}}},bW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=vs(t,e),d=await Yu(e,c),h=ws(s),f=Hl(s),m=Pi(s)==="y",{width:w,height:y}=i.floating;let b,_;h==="top"||h==="bottom"?(b=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,b=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,T=w-d.left-d.right,A=Ci(y-d[b],x),k=Ci(w-d[_],T),V=!e.middlewareData.shift;let S=A,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=x),V&&!f){const R=Tn(d.left,0),D=Tn(d.right,0),M=Tn(d.top,0),N=Tn(d.bottom,0);m?I=w-2*(R!==0||D!==0?R+D:Tn(d.left,d.right)):S=y-2*(M!==0||N!==0?M+N:Tn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:S});const P=await o.getDimensions(a.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Bm(){return typeof window<"u"}function Gl(t){return e2(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zr(t){var e;return(e=(e2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function e2(t){return Bm()?t instanceof Node||t instanceof Pn(t).Node:!1}function pr(t){return Bm()?t instanceof Element||t instanceof Pn(t).Element:!1}function Br(t){return Bm()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function DI(t){return!Bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}function jd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function IW(t){return["table","td","th"].includes(Gl(t))}function $m(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function gx(t){const e=yx(),n=pr(t)?mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function SW(t){let e=Ri(t);for(;Br(e)&&!Al(e);){if(gx(e))return e;if($m(e))return null;e=Ri(e)}return null}function yx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Al(t){return["html","body","#document"].includes(Gl(t))}function mr(t){return Pn(t).getComputedStyle(t)}function zm(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ri(t){if(Gl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DI(t)&&t.host||zr(t);return DI(e)?e.host:e}function t2(t){const e=Ri(t);return Al(e)?t.ownerDocument?t.ownerDocument.body:t.body:Br(e)&&jd(e)?e:t2(e)}function Ju(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=t2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Pn(s);if(i){const a=x0(o);return e.concat(o,o.visualViewport||[],jd(s)?s:[],a&&n?Ju(a):[])}return e.concat(s,Ju(s,[],n))}function x0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function n2(t){const e=mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Dp(n)!==i||Dp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function vx(t){return pr(t)?t:t.contextElement}function qa(t){const e=vx(t);if(!Br(e))return Ai(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=n2(e);let o=(i?Dp(n.width):n.width)/r,a=(i?Dp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const CW=Ai(0);function r2(t){const e=Pn(t);return!yx()||!e.visualViewport?CW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function Ko(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=vx(t);let o=Ai(1);e&&(r?pr(r)&&(o=qa(r)):o=qa(t));const a=AW(i,n,r)?r2(i):Ai(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Pn(i),m=r&&pr(r)?Pn(r):r;let w=f,y=x0(w);for(;y&&r&&m!==w;){const b=qa(y),_=y.getBoundingClientRect(),x=mr(y),T=_.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,A=_.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=T,c+=A,w=Pn(y),y=x0(w)}}return Vp({width:d,height:h,x:l,y:c})}function PW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=zr(r),a=e?$m(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ai(1);const d=Ai(0),h=Br(r);if((h||!h&&!i)&&((Gl(r)!=="body"||jd(o))&&(l=zm(r)),Br(r))){const f=Ko(r);c=qa(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function RW(t){return Array.from(t.getClientRects())}function E0(t,e){const n=zm(t).scrollLeft;return e?e.left+n:Ko(zr(t)).left+n}function kW(t){const e=zr(t),n=zm(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+E0(t);const a=-n.scrollTop;return mr(r).direction==="rtl"&&(o+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function NW(t,e){const n=Pn(t),r=zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=yx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function DW(t,e){const n=Ko(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Br(t)?qa(t):Ai(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function MI(t,e,n){let r;if(e==="viewport")r=NW(t,n);else if(e==="document")r=kW(zr(t));else if(pr(e))r=DW(e,n);else{const s=r2(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Vp(r)}function s2(t,e){const n=Ri(t);return n===e||!pr(n)||Al(n)?!1:mr(n).position==="fixed"||s2(n,e)}function MW(t,e){const n=e.get(t);if(n)return n;let r=Ju(t,[],!1).filter(a=>pr(a)&&Gl(a)!=="body"),s=null;const i=mr(t).position==="fixed";let o=i?Ri(t):t;for(;pr(o)&&!Al(o);){const a=mr(o),l=gx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||jd(o)&&!l&&s2(t,o))?r=r.filter(d=>d!==o):s=a,o=Ri(o)}return e.set(t,r),r}function VW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?$m(e)?[]:MW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=MI(e,d,s);return c.top=Tn(h.top,c.top),c.right=Ci(h.right,c.right),c.bottom=Ci(h.bottom,c.bottom),c.left=Tn(h.left,c.left),c},MI(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function OW(t){const{width:e,height:n}=n2(t);return{width:e,height:n}}function LW(t,e,n){const r=Br(e),s=zr(e),i=n==="fixed",o=Ko(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ai(0);if(r||!r&&!i)if((Gl(e)!=="body"||jd(s))&&(a=zm(e)),r){const m=Ko(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=E0(s));let c=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-E0(s,m)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function hy(t){return mr(t).position==="static"}function VI(t,e){if(!Br(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zr(t)===n&&(n=n.ownerDocument.body),n}function i2(t,e){const n=Pn(t);if($m(t))return n;if(!Br(t)){let s=Ri(t);for(;s&&!Al(s);){if(pr(s)&&!hy(s))return s;s=Ri(s)}return n}let r=VI(t,e);for(;r&&IW(r)&&hy(r);)r=VI(r,e);return r&&Al(r)&&hy(r)&&!gx(r)?n:r||SW(t)||n}const jW=async function(t){const e=this.getOffsetParent||i2,n=this.getDimensions,r=await n(t.floating);return{reference:LW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FW(t){return mr(t).direction==="rtl"}const UW={convertOffsetParentRelativeRectToViewportRelativeRect:PW,getDocumentElement:zr,getClippingRect:VW,getOffsetParent:i2,getElementRects:jW,getClientRects:RW,getDimensions:OW,getScale:qa,isElement:pr,isRTL:FW};function BW(t,e){let n=null,r;const s=zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Lh(d),w=Lh(s.clientWidth-(c+h)),y=Lh(s.clientHeight-(d+f)),b=Lh(c),x={rootMargin:-m+"px "+-w+"px "+-y+"px "+-b+"px",threshold:Tn(0,Ci(1,l))||1};let T=!0;function A(k){const V=k[0].intersectionRatio;if(V!==l){if(!T)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(A,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return o(!0),i}function $W(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vx(t),d=s||i?[...c?Ju(c):[],...Ju(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?BW(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[x]=_;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,y=l?Ko(t):null;l&&b();function b(){const _=Ko(t);y&&(_.x!==y.x||_.y!==y.y||_.width!==y.width||_.height!==y.height)&&n(),y=_,w=requestAnimationFrame(b)}return n(),()=>{var _;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const zW=xW,WW=EW,KW=vW,HW=bW,GW=wW,OI=yW,qW=TW,QW=(t,e,n)=>{const r=new Map,s={platform:UW,...n},i={...s.platform,_c:r};return gW(t,e,{...s,platform:i})};var bf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Op(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Op(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Op(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function o2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LI(t,e){const n=o2(t);return Math.round(e*n)/n}function fy(t){const e=v.useRef(t);return bf(()=>{e.current=t}),e}function XW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Op(f,r)||m(r);const[w,y]=v.useState(null),[b,_]=v.useState(null),x=v.useCallback(j=>{j!==V.current&&(V.current=j,y(j))},[]),T=v.useCallback(j=>{j!==S.current&&(S.current=j,_(j))},[]),A=i||w,k=o||b,V=v.useRef(null),S=v.useRef(null),I=v.useRef(d),P=l!=null,R=fy(l),D=fy(s),M=fy(c),N=v.useCallback(()=>{if(!V.current||!S.current)return;const j={placement:e,strategy:n,middleware:f};D.current&&(j.platform=D.current),QW(V.current,S.current,j).then(U=>{const q={...U,isPositioned:M.current!==!1};K.current&&!Op(I.current,q)&&(I.current=q,wd.flushSync(()=>{h(q)}))})},[f,e,n,D,M]);bf(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const K=v.useRef(!1);bf(()=>(K.current=!0,()=>{K.current=!1}),[]),bf(()=>{if(A&&(V.current=A),k&&(S.current=k),A&&k){if(R.current)return R.current(A,k,N);N()}},[A,k,N,R,P]);const le=v.useMemo(()=>({reference:V,floating:S,setReference:x,setFloating:T}),[x,T]),ne=v.useMemo(()=>({reference:A,floating:k}),[A,k]),te=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!ne.floating)return j;const U=LI(ne.floating,d.x),q=LI(ne.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+q+"px)",...o2(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,a,ne.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:N,refs:le,elements:ne,floatingStyles:te}),[d,N,le,ne,te])}const YW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OI({element:r.current,padding:s}).fn(n):{}:r?OI({element:r,padding:s}).fn(n):{}}}},JW=(t,e)=>({...zW(t),options:[t,e]}),ZW=(t,e)=>({...WW(t),options:[t,e]}),eK=(t,e)=>({...qW(t),options:[t,e]}),tK=(t,e)=>({...KW(t),options:[t,e]}),nK=(t,e)=>({...HW(t),options:[t,e]}),rK=(t,e)=>({...GW(t),options:[t,e]}),sK=(t,e)=>({...YW(t),options:[t,e]});var iK="Arrow",a2=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});a2.displayName=iK;var oK=a2;function aK(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,lK(s,...e)]}function lK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function cK(t){const[e,n]=v.useState(void 0);return Ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wx="Popper",[l2,Wm]=aK(wx),[uK,c2]=l2(wx),u2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return p.jsx(uK,{scope:e,anchor:r,onAnchorChange:s,children:n})};u2.displayName=wx;var d2="PopperAnchor",h2=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=c2(d2,n),o=v.useRef(null),a=bt(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Se.div,{...s,ref:a})});h2.displayName=d2;var _x="PopperContent",[dK,hK]=l2(_x),f2=v.forwardRef((t,e)=>{var He,yn,lt,Nt,Wr,gr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=t,b=c2(_x,n),[_,x]=v.useState(null),T=bt(e,Jn=>x(Jn)),[A,k]=v.useState(null),V=cK(A),S=(V==null?void 0:V.width)??0,I=(V==null?void 0:V.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:R,boundary:D.filter(pK),altBoundary:M},{refs:K,floatingStyles:le,placement:ne,isPositioned:te,middlewareData:j}=XW({strategy:"fixed",placement:P,whileElementsMounted:(...Jn)=>$W(...Jn,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[JW({mainAxis:s+I,alignmentAxis:o}),l&&ZW({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?eK():void 0,...N}),l&&tK({...N}),nK({...N,apply:({elements:Jn,rects:Kr,availableWidth:Cs,availableHeight:Zn})=>{const{width:Yl,height:Jl}=Kr.reference,ct=Jn.floating.style;ct.setProperty("--radix-popper-available-width",`${Cs}px`),ct.setProperty("--radix-popper-available-height",`${Zn}px`),ct.setProperty("--radix-popper-anchor-width",`${Yl}px`),ct.setProperty("--radix-popper-anchor-height",`${Jl}px`)}}),A&&sK({element:A,padding:a}),mK({arrowWidth:S,arrowHeight:I}),f&&rK({strategy:"referenceHidden",...N})]}),[U,q]=g2(ne),Q=Gt(w);Ur(()=>{te&&(Q==null||Q())},[te,Q]);const Y=(He=j.arrow)==null?void 0:He.x,se=(yn=j.arrow)==null?void 0:yn.y,Ce=((lt=j.arrow)==null?void 0:lt.centerOffset)!==0,[Je,ye]=v.useState();return Ur(()=>{_&&ye(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:te?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Nt=j.transformOrigin)==null?void 0:Nt.x,(Wr=j.transformOrigin)==null?void 0:Wr.y].join(" "),...((gr=j.hide)==null?void 0:gr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(dK,{scope:n,placedSide:U,onArrowChange:k,arrowX:Y,arrowY:se,shouldHideArrow:Ce,children:p.jsx(Se.div,{"data-side":U,"data-align":q,...y,ref:T,style:{...y.style,animation:te?void 0:"none"}})})})});f2.displayName=_x;var p2="PopperArrow",fK={top:"bottom",right:"left",bottom:"top",left:"right"},m2=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=hK(p2,r),o=fK[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(oK,{...s,ref:n,style:{...s.style,display:"block"}})})});m2.displayName=p2;function pK(t){return t!==null}var mK=t=>({name:"transformOrigin",options:t,fn(e){var b,_,x;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=g2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${f}px`,y=`${-l}px`):c==="top"?(w=o?h:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:w,y}}}});function g2(t){const[e,n="center"]=t.split("-");return[e,n]}var y2=u2,v2=h2,w2=f2,_2=m2,[Km,oee]=Od("Tooltip",[Wm]),Hm=Wm(),x2="TooltipProvider",gK=700,T0="tooltip.open",[yK,xx]=Km(x2),E2=t=>{const{__scopeTooltip:e,delayDuration:n=gK,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(yK,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};E2.displayName=x2;var Gm="Tooltip",[vK,qm]=Km(Gm),T2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=xx(Gm,t.__scopeTooltip),c=Hm(e),[d,h]=v.useState(null),f=Np(),m=v.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,b=v.useRef(!1),[_=!1,x]=Lm({prop:r,defaultProp:s,onChange:S=>{S?(l.onOpen(),document.dispatchEvent(new CustomEvent(T0))):l.onClose(),i==null||i(S)}}),T=v.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),A=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,x(!0)},[x]),k=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),V=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,x(!0),m.current=0},y)},[y,x]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),p.jsx(y2,{...c,children:p.jsx(vK,{scope:e,contentId:f,open:_,stateAttribute:T,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayed?V():A()},[l.isOpenDelayed,V,A]),onTriggerLeave:v.useCallback(()=>{w?k():(window.clearTimeout(m.current),m.current=0)},[k,w]),onOpen:A,onClose:k,disableHoverableContent:w,children:n})})};T2.displayName=Gm;var b0="TooltipTrigger",b2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qm(b0,n),i=xx(b0,n),o=Hm(n),a=v.useRef(null),l=bt(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(v2,{asChild:!0,...o,children:p.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});b2.displayName=b0;var wK="TooltipPortal",[aee,_K]=Km(wK,{forceMount:void 0}),Pl="TooltipContent",I2=v.forwardRef((t,e)=>{const n=_K(Pl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qm(Pl,t.__scopeTooltip);return p.jsx(Jo,{present:r||o.open,children:o.disableHoverableContent?p.jsx(S2,{side:s,...i,ref:e}):p.jsx(xK,{side:s,...i,ref:e})})}),xK=v.forwardRef((t,e)=>{const n=qm(Pl,t.__scopeTooltip),r=xx(Pl,t.__scopeTooltip),s=v.useRef(null),i=bt(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((w,y)=>{const b=w.currentTarget,_={x:w.clientX,y:w.clientY},x=IK(_,b.getBoundingClientRect()),T=SK(_,x),A=CK(y.getBoundingClientRect()),k=PK([...T,...A]);a(k),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const w=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,f]),v.useEffect(()=>{if(o){const w=y=>{const b=y.target,_={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),T=!AK(_,o);x?f():T&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),p.jsx(S2,{...t,ref:i})}),[EK,TK]=Km(Gm,{isInside:!1}),S2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=qm(Pl,n),c=Hm(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(T0,d),()=>document.removeEventListener(T0,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),p.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs(w2,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(pD,{children:r}),p.jsx(EK,{scope:n,isInside:!0,children:p.jsx(a8,{id:l.contentId,role:"tooltip",children:s||r})})]})})});I2.displayName=Pl;var C2="TooltipArrow",bK=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Hm(n);return TK(C2,n).isInside?null:p.jsx(_2,{...s,...r,ref:e})});bK.displayName=C2;function IK(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CK(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function AK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function PK(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),RK(e)}function RK(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var kK=E2,NK=T2,DK=b2,A2=I2;const Lp=kK,I0=NK,S0=DK,jp=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(A2,{ref:r,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));jp.displayName=A2.displayName;var Qm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xm=typeof window>"u"||"Deno"in globalThis;function sr(){}function MK(t,e){return typeof t=="function"?t(e):t}function VK(t){return typeof t=="number"&&t>=0&&t!==1/0}function OK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jI(t,e){return typeof t=="function"?t(e):t}function LK(t,e){return typeof t=="function"?t(e):t}function FI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ex(o,e.options))return!1}else if(!ed(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function UI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Zu(e.options.mutationKey)!==Zu(i))return!1}else if(!ed(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ex(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zu)(t)}function Zu(t){return JSON.stringify(t,(e,n)=>C0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ed(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ed(t[n],e[n])):!1}function P2(t,e){if(t===e)return t;const n=BI(t)&&BI(e);if(n||C0(t)&&C0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=P2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function BI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function C0(t){if(!$I(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$I(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $I(t){return Object.prototype.toString.call(t)==="[object Object]"}function jK(t){return new Promise(e=>{setTimeout(e,t)})}function FK(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?P2(t,e):e}function UK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function BK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tx=Symbol();function R2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yo,Js,Xa,_C,$K=(_C=class extends Qm{constructor(){super();Ie(this,yo);Ie(this,Js);Ie(this,Xa);pe(this,Xa,e=>{if(!Xm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Js)||this.setEventListener($(this,Xa))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Js))==null||e.call(this),pe(this,Js,void 0))}setEventListener(e){var n;pe(this,Xa,e),(n=$(this,Js))==null||n.call(this),pe(this,Js,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,yo)!==e&&(pe(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,yo)=="boolean"?$(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,Js=new WeakMap,Xa=new WeakMap,_C),k2=new $K,Ya,Zs,Ja,xC,zK=(xC=class extends Qm{constructor(){super();Ie(this,Ya,!0);Ie(this,Zs);Ie(this,Ja);pe(this,Ja,e=>{if(!Xm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Zs)||this.setEventListener($(this,Ja))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Zs))==null||e.call(this),pe(this,Zs,void 0))}setEventListener(e){var n;pe(this,Ja,e),(n=$(this,Zs))==null||n.call(this),pe(this,Zs,e(this.setOnline.bind(this)))}setOnline(e){$(this,Ya)!==e&&(pe(this,Ya,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Ya)}},Ya=new WeakMap,Zs=new WeakMap,Ja=new WeakMap,xC),Fp=new zK;function WK(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function KK(t){return Math.min(1e3*2**t,3e4)}function N2(t){return(t??"online")==="online"?Fp.isOnline():!0}var D2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function py(t){return t instanceof D2}function M2(t){let e=!1,n=0,r=!1,s;const i=WK(),o=y=>{var b;r||(f(new D2(y)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>k2.isFocused()&&(t.networkMode==="always"||Fp.isOnline())&&t.canRun(),d=()=>N2(t.networkMode)&&t.canRun(),h=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var b;s=_=>{(r||c())&&y(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),w=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(h).catch(_=>{var V;if(r)return;const x=t.retry??(Xm?0:3),T=t.retryDelay??KK,A=typeof T=="function"?T(n,_):T,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,_);if(e||!k){f(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),jK(A).then(()=>c()?void 0:m()).then(()=>{e?f(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():m().then(w),i)}}function HK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Yt=HK(),vo,EC,V2=(EC=class{constructor(){Ie(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VK(this.gcTime)&&pe(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xm?1/0:5*60*1e3))}clearGcTimeout(){$(this,vo)&&(clearTimeout($(this,vo)),pe(this,vo,void 0))}},vo=new WeakMap,EC),Za,el,Ln,Ut,hd,wo,ir,Jr,TC,GK=(TC=class extends V2{constructor(e){super();Ie(this,ir);Ie(this,Za);Ie(this,el);Ie(this,Ln);Ie(this,Ut);Ie(this,hd);Ie(this,wo);pe(this,wo,!1),pe(this,hd,e.defaultOptions),this.setOptions(e.options),this.observers=[],pe(this,Ln,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pe(this,Za,QK(this.options)),this.state=e.state??$(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Ut))==null?void 0:e.promise}setOptions(e){this.options={...$(this,hd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ln).remove(this)}setData(e,n){const r=FK(this.state.data,e,this.options);return Ot(this,ir,Jr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ot(this,ir,Jr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=$(this,Ut))==null?void 0:r.promise;return(s=$(this,Ut))==null||s.cancel(e),n?n.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Za))}isActive(){return this.observers.some(e=>LK(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!OK(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,Ln).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||($(this,Ut)&&($(this,wo)?$(this,Ut).cancel({revert:!0}):$(this,Ut).cancelRetry()),this.scheduleGc()),$(this,Ln).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,ir,Jr).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Ut))return $(this,Ut).continueRetry(),$(this,Ut).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pe(this,wo,!0),r.signal)})},i=()=>{const h=R2(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),pe(this,wo,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),pe(this,el,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ot(this,ir,Jr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,m,w,y;py(h)&&h.silent||Ot(this,ir,Jr).call(this,{type:"error",error:h}),py(h)||((m=(f=$(this,Ln).config).onError)==null||m.call(f,h,this),(y=(w=$(this,Ln).config).onSettled)==null||y.call(w,this.state.data,h,this)),this.scheduleGc()};return pe(this,Ut,M2({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,w,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){a(b);return}(m=(f=$(this,Ln).config).onSuccess)==null||m.call(f,h,this),(y=(w=$(this,Ln).config).onSettled)==null||y.call(w,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{Ot(this,ir,Jr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ot(this,ir,Jr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,ir,Jr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),$(this,Ut).start()}},Za=new WeakMap,el=new WeakMap,Ln=new WeakMap,Ut=new WeakMap,hd=new WeakMap,wo=new WeakMap,ir=new WeakSet,Jr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return py(s)&&s.revert&&$(this,el)?{...$(this,el),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Ln).notify({query:this,type:"updated",action:e})})},TC);function qK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:N2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,bC,XK=(bC=class extends Qm{constructor(e={}){super();Ie(this,Er);this.config=e,pe(this,Er,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ex(s,n);let o=this.get(i);return o||(o=new GK({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Er).has(e.queryHash)||($(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Er).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Er).get(e)}getAll(){return[...$(this,Er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>FI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>FI(e,r)):n}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,bC),Tr,Qt,_o,br,Bs,IC,YK=(IC=class extends V2{constructor(e){super();Ie(this,br);Ie(this,Tr);Ie(this,Qt);Ie(this,_o);this.mutationId=e.mutationId,pe(this,Qt,e.mutationCache),pe(this,Tr,[]),this.state=e.state||JK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,Tr).includes(e)||($(this,Tr).push(e),this.clearGcTimeout(),$(this,Qt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pe(this,Tr,$(this,Tr).filter(n=>n!==e)),this.scheduleGc(),$(this,Qt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Qt).remove(this))}continue(){var e;return((e=$(this,_o))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,h,f,m,w,y,b,_,x,T,A,k,V,S;pe(this,_o,M2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{Ot(this,br,Bs).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{Ot(this,br,Bs).call(this,{type:"pause"})},onContinue:()=>{Ot(this,br,Bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Qt).canRun(this)}));const n=this.state.status==="pending",r=!$(this,_o).canStart();try{if(!n){Ot(this,br,Bs).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=$(this,Qt).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Ot(this,br,Bs).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const I=await $(this,_o).start();return await((c=(l=$(this,Qt).config).onSuccess)==null?void 0:c.call(l,I,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,I,e,this.state.context)),await((m=(f=$(this,Qt).config).onSettled)==null?void 0:m.call(f,I,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,I,null,e,this.state.context)),Ot(this,br,Bs).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(b=$(this,Qt).config).onError)==null?void 0:_.call(b,I,e,this.state.context,this)),await((T=(x=this.options).onError)==null?void 0:T.call(x,I,e,this.state.context)),await((k=(A=$(this,Qt).config).onSettled)==null?void 0:k.call(A,void 0,I,this.state.variables,this.state.context,this)),await((S=(V=this.options).onSettled)==null?void 0:S.call(V,void 0,I,e,this.state.context)),I}finally{Ot(this,br,Bs).call(this,{type:"error",error:I})}}finally{$(this,Qt).runNext(this)}}},Tr=new WeakMap,Qt=new WeakMap,_o=new WeakMap,br=new WeakSet,Bs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yt.batch(()=>{$(this,Tr).forEach(r=>{r.onMutationUpdate(e)}),$(this,Qt).notify({mutation:this,type:"updated",action:e})})},IC);function JK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wn,fd,SC,ZK=(SC=class extends Qm{constructor(e={}){super();Ie(this,wn);Ie(this,fd);this.config=e,pe(this,wn,new Map),pe(this,fd,Date.now())}build(e,n,r){const s=new YK({mutationCache:this,mutationId:++lh(this,fd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=jh(e),r=$(this,wn).get(n)??[];r.push(e),$(this,wn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=jh(e);if($(this,wn).has(n)){const s=(r=$(this,wn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,wn).delete(n):$(this,wn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,wn).get(jh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,wn).get(jh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,wn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UI(n,r))}findAll(e={}){return this.getAll().filter(n=>UI(e,n))}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},wn=new WeakMap,fd=new WeakMap,SC);function jh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function zI(t){return{onFetch:(e,n)=>{var d,h,f,m,w;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=R2(e.options,e.fetchOptions),x=async(T,A,k)=>{if(y)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const V={queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};b(V);const S=await _(V),{maxPages:I}=e.options,P=k?BK:UK;return{pages:P(T.pages,S,I),pageParams:P(T.pageParams,A,I)}};if(s&&i.length){const T=s==="backward",A=T?eH:WI,k={pages:i,pageParams:o},V=A(r,k);a=await x(k,V,T)}else{const T=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:WI(r,a);if(l>0&&A==null)break;a=await x(a,A),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function WI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tt,ei,ti,tl,nl,ni,rl,sl,CC,tH=(CC=class{constructor(t={}){Ie(this,tt);Ie(this,ei);Ie(this,ti);Ie(this,tl);Ie(this,nl);Ie(this,ni);Ie(this,rl);Ie(this,sl);pe(this,tt,t.queryCache||new XK),pe(this,ei,t.mutationCache||new ZK),pe(this,ti,t.defaultOptions||{}),pe(this,tl,new Map),pe(this,nl,new Map),pe(this,ni,0)}mount(){lh(this,ni)._++,$(this,ni)===1&&(pe(this,rl,k2.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onFocus())})),pe(this,sl,Fp.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onOnline())})))}unmount(){var t,e;lh(this,ni)._--,$(this,ni)===0&&((t=$(this,rl))==null||t.call(this),pe(this,rl,void 0),(e=$(this,sl))==null||e.call(this),pe(this,sl,void 0))}isFetching(t){return $(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ei).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(jI(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=MK(e,i);if(o!==void 0)return $(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yt.batch(()=>$(this,tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,tt);Yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,tt),r={type:"active",...t};return Yt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yt.batch(()=>$(this,tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t={},e={}){return Yt.batch(()=>{if($(this,tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yt.batch(()=>$(this,tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,tt).build(this,e);return n.isStaleByTime(jI(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=zI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=zI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fp.isOnline()?$(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,tt)}getMutationCache(){return $(this,ei)}getDefaultOptions(){return $(this,ti)}setDefaultOptions(t){pe(this,ti,t)}setQueryDefaults(t,e){$(this,tl).set(Zu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,tl).values()];let n={};return e.forEach(r=>{ed(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,nl).set(Zu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,nl).values()];let n={};return e.forEach(r=>{ed(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ti).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ex(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Tx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ti).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,tt).clear(),$(this,ei).clear()}},tt=new WeakMap,ei=new WeakMap,ti=new WeakMap,tl=new WeakMap,nl=new WeakMap,ni=new WeakMap,rl=new WeakMap,sl=new WeakMap,CC),nH=v.createContext(void 0),rH=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(nH.Provider,{value:t,children:e}));const bx=v.createContext({});function Ix(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sx=typeof window<"u",O2=Sx?v.useLayoutEffect:v.useEffect,Ym=v.createContext(null);function Cx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ax(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s=(t,e,n)=>n>e?e:n<t?t:n;let Up=()=>{};const xs={},L2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j2(t){return typeof t=="object"&&t!==null}const F2=t=>/^0[^.\s]+$/u.test(t);function Px(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gn=t=>t,sH=(t,e)=>n=>e(t(n)),Fd=(...t)=>t.reduce(sH),td=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Rx{constructor(){this.subscriptions=[]}add(e){return Cx(this.subscriptions,e),()=>Ax(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=t=>t*1e3,Vr=t=>t/1e3;function U2(t,e){return e?t*(1e3/e):0}const B2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iH=1e-7,oH=12;function aH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=B2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>iH&&++a<oH);return o}function Ud(t,e,n,r){if(t===e&&n===r)return Gn;const s=i=>aH(i,0,1,t,n);return i=>i===0||i===1?i:B2(s(i),e,r)}const $2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,z2=t=>e=>1-t(1-e),W2=Ud(.33,1.53,.69,.99),kx=z2(W2),K2=$2(kx),H2=t=>(t*=2)<1?.5*kx(t):.5*(2-Math.pow(2,-10*(t-1))),Nx=t=>1-Math.sin(Math.acos(t)),G2=z2(Nx),q2=$2(Nx),lH=Ud(.42,0,1,1),cH=Ud(0,0,.58,1),Q2=Ud(.42,0,.58,1),uH=t=>Array.isArray(t)&&typeof t[0]!="number",X2=t=>Array.isArray(t)&&typeof t[0]=="number",KI={linear:Gn,easeIn:lH,easeInOut:Q2,easeOut:cH,circIn:Nx,circInOut:q2,circOut:G2,backIn:kx,backInOut:K2,backOut:W2,anticipate:H2},dH=t=>typeof t=="string",HI=t=>{if(X2(t)){Up(t.length===4);const[e,n,r,s]=t;return Ud(e,n,r,s)}else if(dH(t))return Up(KI[t]!==void 0),KI[t];return t},Fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],GI={value:null,addProjectionMetrics:null};function hH(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const y=m&&s?n:r;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&GI.value&&GI.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const fH=40;function Y2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fh.reduce((T,A)=>(T[A]=hH(i,e?A:void 0),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,y=()=>{const T=xs.useManualTiming?s.timestamp:performance.now();n=!1,xs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,fH),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Fh.reduce((T,A)=>{const k=o[A];return T[A]=(V,S=!1,I=!1)=>(n||b(),k.schedule(V,S,I)),T},{}),cancel:T=>{for(let A=0;A<Fh.length;A++)o[Fh[A]].cancel(T)},state:s,steps:o}}const{schedule:We,cancel:ki,state:Ct,steps:my}=Y2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let If;function pH(){If=void 0}const hn={now:()=>(If===void 0&&hn.set(Ct.isProcessing||xs.useManualTiming?Ct.timestamp:performance.now()),If),set:t=>{If=t,queueMicrotask(pH)}},J2=t=>e=>typeof e=="string"&&e.startsWith(t),Dx=J2("--"),mH=J2("var(--"),Mx=t=>mH(t)?gH.test(t.split("/*")[0].trim()):!1,gH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nd={...ql,transform:t=>_s(0,1,t)},Uh={...ql,default:1},uu=t=>Math.round(t*1e5)/1e5,Vx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yH(t){return t==null}const vH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ox=(t,e)=>n=>!!(typeof n=="string"&&vH.test(n)&&n.startsWith(t)||e&&!yH(n)&&Object.prototype.hasOwnProperty.call(n,e)),Z2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Vx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},wH=t=>_s(0,255,t),gy={...ql,transform:t=>Math.round(wH(t))},mo={test:Ox("rgb","red"),parse:Z2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+gy.transform(t)+", "+gy.transform(e)+", "+gy.transform(n)+", "+uu(nd.transform(r))+")"};function _H(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const A0={test:Ox("#"),parse:_H,transform:mo.transform},Bd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Bd("deg"),Or=Bd("%"),ce=Bd("px"),xH=Bd("vh"),EH=Bd("vw"),qI={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},Na={test:Ox("hsl","hue"),parse:Z2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Or.transform(uu(e))+", "+Or.transform(uu(n))+", "+uu(nd.transform(r))+")"},ht={test:t=>mo.test(t)||A0.test(t)||Na.test(t),parse:t=>mo.test(t)?mo.parse(t):Na.test(t)?Na.parse(t):A0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):Na.transform(t),getAnimatableNone:t=>{const e=ht.parse(t);return e.alpha=0,ht.transform(e)}},TH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bH(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vx))==null?void 0:e.length)||0)+(((n=t.match(TH))==null?void 0:n.length)||0)>0}const eM="number",tM="color",IH="var",SH="var(",QI="${}",CH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(CH,l=>(ht.test(l)?(r.color.push(i),s.push(tM),n.push(ht.parse(l))):l.startsWith(SH)?(r.var.push(i),s.push(IH),n.push(l)):(r.number.push(i),s.push(eM),n.push(parseFloat(l))),++i,QI)).split(QI);return{values:n,split:a,indexes:r,types:s}}function nM(t){return rd(t).values}function rM(t){const{split:e,types:n}=rd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===eM?i+=uu(s[o]):a===tM?i+=ht.transform(s[o]):i+=s[o]}return i}}const AH=t=>typeof t=="number"?0:ht.test(t)?ht.getAnimatableNone(t):t;function PH(t){const e=nM(t);return rM(t)(e.map(AH))}const Ni={test:bH,parse:nM,createTransformer:rM,getAnimatableNone:PH};function yy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RH({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=yy(l,a,t+1/3),i=yy(l,a,t),o=yy(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Bp(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,vy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},kH=[A0,mo,Na],NH=t=>kH.find(e=>e.test(t));function XI(t){const e=NH(t);if(!e)return!1;let n=e.parse(t);return e===Na&&(n=RH(n)),n}const YI=(t,e)=>{const n=XI(t),r=XI(e);if(!n||!r)return Bp(t,e);const s={...n};return i=>(s.red=vy(n.red,r.red,i),s.green=vy(n.green,r.green,i),s.blue=vy(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),mo.transform(s))},P0=new Set(["none","hidden"]);function DH(t,e){return P0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MH(t,e){return n=>Qe(t,e,n)}function Lx(t){return typeof t=="number"?MH:typeof t=="string"?Mx(t)?Bp:ht.test(t)?YI:LH:Array.isArray(t)?sM:typeof t=="object"?ht.test(t)?YI:VH:Bp}function sM(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Lx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function VH(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Lx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function OH(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const LH=(t,e)=>{const n=Ni.createTransformer(e),r=rd(t),s=rd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?P0.has(t)&&!s.values.length||P0.has(e)&&!r.values.length?DH(t,e):Fd(sM(OH(r,s),s.values),n):Bp(t,e)};function iM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Lx(t)(t,e)}const jH=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>ki(e),now:()=>Ct.isProcessing?Ct.timestamp:hn.now()}},oM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$p=2e4;function jx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$p;)e+=n,r=t.next(e);return e>=$p?1/0:e}function FH(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(jx(r),$p);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Vr(s)}}const UH=5;function aM(t,e,n){const r=Math.max(e-UH,0);return U2(n-t(r),e-r)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wy=.001;function BH({duration:t=nt.duration,bounce:e=nt.bounce,velocity:n=nt.velocity,mass:r=nt.mass}){let s,i,o=1-e;o=_s(nt.minDamping,nt.maxDamping,o),t=_s(nt.minDuration,nt.maxDuration,Vr(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,m=R0(c,o),w=Math.exp(-h);return wy-f/m*w},i=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),y=R0(Math.pow(c,2),o);return(-s(c)+wy>0?-1:1)*((f-m)*w)/y}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-wy+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=zH(s,i,a);if(t=Mr(t),isNaN(l))return{stiffness:nt.stiffness,damping:nt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const $H=12;function zH(t,e,n){let r=n;for(let s=1;s<$H;s++)r=r-t(r)/e(r);return r}function R0(t,e){return t*Math.sqrt(1-e*e)}const WH=["duration","bounce"],KH=["stiffness","damping","mass"];function JI(t,e){return e.some(n=>t[n]!==void 0)}function HH(t){let e={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...t};if(!JI(t,KH)&&JI(t,WH))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*_s(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:nt.mass,stiffness:s,damping:i}}else{const n=BH(t);e={...e,...n,mass:nt.mass},e.isResolvedFromDuration=!0}return e}function zp(t=nt.visualDuration,e=nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=HH({...n,velocity:-Vr(n.velocity||0)}),w=f||0,y=c/(2*Math.sqrt(l*d)),b=o-i,_=Vr(Math.sqrt(l/d)),x=Math.abs(b)<5;r||(r=x?nt.restSpeed.granular:nt.restSpeed.default),s||(s=x?nt.restDelta.granular:nt.restDelta.default);let T;if(y<1){const k=R0(_,y);T=V=>{const S=Math.exp(-y*_*V);return o-S*((w+y*_*b)/k*Math.sin(k*V)+b*Math.cos(k*V))}}else if(y===1)T=k=>o-Math.exp(-_*k)*(b+(w+_*b)*k);else{const k=_*Math.sqrt(y*y-1);T=V=>{const S=Math.exp(-y*_*V),I=Math.min(k*V,300);return o-S*((w+y*_*b)*Math.sinh(I)+k*b*Math.cosh(I))/k}}const A={calculatedDuration:m&&h||null,next:k=>{const V=T(k);if(m)a.done=k>=h;else{let S=k===0?w:0;y<1&&(S=k===0?Mr(w):aM(T,k,V));const I=Math.abs(S)<=r,P=Math.abs(o-V)<=s;a.done=I&&P}return a.value=a.done?o:V,a},toString:()=>{const k=Math.min(jx(A),$p),V=oM(S=>A.next(k*S).value,k,30);return k+"ms "+V},toTransition:()=>{}};return A}zp.applyToOptions=t=>{const e=FH(t,100,zp);return t.ease=e.ease,t.duration=Mr(e.duration),t.type="keyframes",t};function k0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,w=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*e;const b=h+y,_=o===void 0?b:o(b);_!==b&&(y=_-h);const x=I=>-y*Math.exp(-I/r),T=I=>_+x(I),A=I=>{const P=x(I),R=T(I);f.done=Math.abs(P)<=c,f.value=f.done?_:R};let k,V;const S=I=>{m(f.value)&&(k=I,V=zp({keyframes:[f.value,w(f.value)],velocity:aM(T,I,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:I=>{let P=!1;return!V&&k===void 0&&(P=!0,A(I),S(I)),k!==void 0&&I>=k?V.next(I-k):(!P&&A(I),f)}}}function GH(t,e,n){const r=[],s=n||xs.mix||iM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Gn:e;a=Fd(l,a)}r.push(a)}return r}function qH(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Up(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=GH(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=td(t[h],t[h+1],d);return a[h](f)};return n?d=>c(_s(t[0],t[i-1],d)):c}function QH(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=td(0,e,r);t.push(Qe(n,1,s))}}function XH(t){const e=[0];return QH(e,t.length-1),e}function YH(t,e){return t.map(n=>n*e)}function JH(t,e){return t.map(()=>e||Q2).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uH(r)?r.map(HI):HI(r),i={done:!1,value:e[0]},o=YH(n&&n.length===e.length?n:XH(e),t),a=qH(o,e,{ease:Array.isArray(s)?s:JH(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const ZH=t=>t!==null;function Fx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(ZH),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const eG={decay:k0,inertia:k0,tween:du,keyframes:du,spring:zp};function lM(t){typeof t.type=="string"&&(t.type=eG[t.type])}class Ux{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const tG=t=>t/100;class Bx extends Ux{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lM(e);const{type:n=du,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||du;l!==du&&typeof a[0]!="number"&&(this.mixKeyframes=Fd(tG,iM(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=jx(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,A=r;if(h){const I=Math.min(this.currentTime,s)/a;let P=Math.floor(I),R=I%1;!R&&I>=1&&(R=1),R===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(A=o)),T=_s(0,1,R)*a}const k=x?{done:!1,value:d[0]}:A.next(T);i&&(k.value=i(k.value));let{done:V}=k;!x&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return S&&w!==k0&&(k.value=Fx(d,this.options,b,this.speed)),y&&y(k.value),S&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return Vr(this.calculatedDuration)}get time(){return Vr(this.currentTime)}set time(e){var n;e=Mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=jH,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function nG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,N0=t=>{const e=go(Math.atan2(t[1],t[0]));return D0(e)},rG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:N0,rotateZ:N0,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},D0=t=>(t=t%360,t<0&&(t+=360),t),ZI=N0,eS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eS,scaleY:tS,scale:t=>(eS(t)+tS(t))/2,rotateX:t=>D0(go(Math.atan2(t[6],t[5]))),rotateY:t=>D0(go(Math.atan2(-t[2],t[0]))),rotateZ:ZI,rotate:ZI,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function M0(t){return t.includes("scale")?1:0}function V0(t,e){if(!t||t==="none")return M0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=sG,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rG,s=a}if(!s)return M0(e);const i=r[e],o=s[1].split(",").map(oG);return typeof i=="function"?i(o):o[i]}const iG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return V0(n,e)};function oG(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Ql),nS=t=>t===ql||t===ce,aG=new Set(["x","y","z"]),lG=Ql.filter(t=>!aG.has(t));function cG(t){const e=[];return lG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>V0(e,"x"),y:(t,{transform:e})=>V0(e,"y")};Co.translateX=Co.x;Co.translateY=Co.y;const Ao=new Set;let O0=!1,L0=!1,j0=!1;function cM(){if(L0){const t=Array.from(Ao).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=cG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}L0=!1,O0=!1,Ao.forEach(t=>t.complete(j0)),Ao.clear()}function uM(){Ao.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(L0=!0)})}function uG(){j0=!0,uM(),cM(),j0=!1}class $x{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ao.add(this),O0||(O0=!0,We.read(uM),We.resolveKeyframes(cM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}nG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ao.delete(this)}cancel(){this.state==="scheduled"&&(Ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dG=t=>t.startsWith("--");function hG(t,e,n){dG(e)?t.style.setProperty(e,n):t.style[e]=n}const fG=Px(()=>window.ScrollTimeline!==void 0),pG={};function mG(t,e){const n=Px(t);return()=>pG[e]??n()}const dM=mG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bc([0,.65,.55,1]),circOut:Bc([.55,0,1,.45]),backIn:Bc([.31,.01,.66,-.59]),backOut:Bc([.33,1.53,.69,.99])};function hM(t,e){if(t)return typeof t=="function"?dM()?oM(t,e):"ease-out":X2(t)?Bc(t):Array.isArray(t)?t.map(n=>hM(n,e)||rS.easeOut):rS[t]}function gG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=hM(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function fM(t){return typeof t=="function"&&"applyToOptions"in t}function yG({type:t,...e}){return fM(t)&&dM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vG extends Ux{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Up(typeof e.type!="string");const c=yG(e);this.animation=gG(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Fx(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):hG(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vr(Number(e))}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&fG()?(this.animation.timeline=e,Gn):n(this)}}const pM={anticipate:H2,backInOut:K2,circInOut:q2};function wG(t){return t in pM}function _G(t){typeof t.ease=="string"&&wG(t.ease)&&(t.ease=pM[t.ease])}const sS=10;class xG extends vG{constructor(e){_G(e),lM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Bx({...o,autoplay:!1}),l=Mr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-sS).value,a.sample(l).value,sS),a.stop()}}const iS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ni.test(t)||t==="0")&&!t.startsWith("url("));function EG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function TG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=iS(s,e),a=iS(i,e);return!o||!a?!1:EG(t)||(n==="spring"||fM(n))&&r}function zx(t){return j2(t)&&"offsetHeight"in t}const bG=new Set(["opacity","clipPath","filter","transform"]),IG=Px(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SG(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!zx((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return IG()&&n&&bG.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const CG=40;class AG extends Ux{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var w;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=hn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||$x;this.keyframeResolver=new m(a,(y,b,_)=>this.onKeyframesResolved(y,b,f,!_),l,c,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=hn.now(),TG(e,i,o,a)||((xs.instantAnimations||!l)&&(d==null||d(Fx(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>CG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&SG(f)?new xG({...f,element:f.motionValue.owner.current}):new Bx(f);m.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),uG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RG(t){const e=PG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function mM(t,e,n=1){const[r,s]=RG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return L2(o)?parseFloat(o):o}return Mx(s)?mM(s,e,n+1):s}function Wx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const gM=new Set(["width","height","top","left","right","bottom",...Ql]),kG={test:t=>t==="auto",parse:t=>t},yM=t=>e=>e.test(t),vM=[ql,ce,Or,$s,EH,xH,kG],oS=t=>vM.find(yM(t));function NG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||F2(t):!0}const DG=new Set(["brightness","contrast","saturate","opacity"]);function MG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Vx)||[];if(!r)return t;const s=n.replace(r,"");let i=DG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const VG=/\b([a-z-]*)\(.*?\)/gu,F0={...Ni,getAnimatableNone:t=>{const e=t.match(VG);return e?e.map(MG).join(" "):t}},aS={...ql,transform:Math.round},OG={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Uh,scaleX:Uh,scaleY:Uh,scaleZ:Uh,skew:$s,skewX:$s,skewY:$s,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:nd,originX:qI,originY:qI,originZ:ce},Kx={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...OG,zIndex:aS,fillOpacity:nd,strokeOpacity:nd,numOctaves:aS},LG={...Kx,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:F0,WebkitFilter:F0},wM=t=>LG[t];function _M(t,e){let n=wM(t);return n!==F0&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jG=new Set(["auto","none","0"]);function FG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!jG.has(i)&&rd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=_M(n,s)}class UG extends $x{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Mx(c))){const d=mM(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!gM.has(r)||e.length!==2)return;const[s,i]=e,o=oS(s),a=oS(i);if(o!==a)if(nS(o)&&nS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Co[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||NG(e[s]))&&r.push(s);r.length&&FG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Co[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function BG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const xM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,lS=30,$G=t=>!isNaN(parseFloat(t));class zG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=hn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$G(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rx);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lS);return U2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rl(t,e){return new zG(t,e)}const{schedule:Hx,cancel:lee}=Y2(queueMicrotask,!1),nr={x:!1,y:!1};function EM(){return nr.x||nr.y}function WG(t){return t==="x"||t==="y"?nr[t]?null:(nr[t]=!0,()=>{nr[t]=!1}):nr.x||nr.y?null:(nr.x=nr.y=!0,()=>{nr.x=nr.y=!1})}function TM(t,e){const n=BG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function cS(t){return!(t.pointerType==="touch"||EM())}function KG(t,e,n={}){const[r,s,i]=TM(t,n),o=a=>{if(!cS(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{cS(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const bM=(t,e)=>e?t===e?!0:bM(t,e.parentElement):!1,Gx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GG(t){return HG.has(t.tagName)||t.tabIndex!==-1}const Sf=new WeakSet;function uS(t){return e=>{e.key==="Enter"&&t(e)}}function _y(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=uS(()=>{if(Sf.has(n))return;_y(n,"down");const s=uS(()=>{_y(n,"up")}),i=()=>_y(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function dS(t){return Gx(t)&&!EM()}function QG(t,e,n={}){const[r,s,i]=TM(t,n),o=a=>{const l=a.currentTarget;if(!dS(a))return;Sf.add(l);const c=e(l,a),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Sf.has(l)&&Sf.delete(l),dS(m)&&typeof c=="function"&&c(m,{success:w})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||bM(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),zx(a)&&(a.addEventListener("focus",c=>qG(c,s)),!GG(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function IM(t){return j2(t)&&"ownerSVGElement"in t}function XG(t){return IM(t)&&t.tagName==="svg"}const Wt=t=>!!(t&&t.getVelocity),YG=[...vM,ht,Ni],JG=t=>YG.find(yM(t)),qx=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ZG extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=zx(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eq({children:t,isPresent:e,anchorX:n,root:r}){const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(qx);return v.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=o.current;if(e||!i.current||!l||!c)return;const m=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");a&&(w.nonce=a);const y=r??document.head;return y.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.removeChild(w),y.contains(w)&&y.removeChild(w)}},[e]),p.jsx(ZG,{isPresent:e,childRef:i,sizeRef:o,children:v.cloneElement(t,{ref:i})})}const tq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Ix(nq),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const w of c.values())if(!w)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(f={...f}),v.useMemo(()=>{c.forEach((m,w)=>c.set(w,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(eq,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(Ym.Provider,{value:f,children:t})};function nq(){return new Map}function SM(t=!0){const e=v.useContext(Ym);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{if(t)return s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Bh=t=>t.key||"";function hS(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const rq=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=SM(o),h=v.useMemo(()=>hS(t),[t]),f=o&&!c?[]:h.map(Bh),m=v.useRef(!0),w=v.useRef(h),y=Ix(()=>new Map),[b,_]=v.useState(h),[x,T]=v.useState(h);O2(()=>{m.current=!1,w.current=h;for(let V=0;V<x.length;V++){const S=Bh(x[V]);f.includes(S)?y.delete(S):y.get(S)!==!0&&y.set(S,!1)}},[x,f.length,f.join("-")]);const A=[];if(h!==b){let V=[...h];for(let S=0;S<x.length;S++){const I=x[S],P=Bh(I);f.includes(P)||(V.splice(S,0,I),A.push(I))}return i==="wait"&&A.length&&(V=A),T(hS(V)),_(h),null}const{forceRender:k}=v.useContext(bx);return p.jsx(p.Fragment,{children:x.map(V=>{const S=Bh(V),I=o&&!c?!1:h===x||f.includes(S),P=()=>{if(y.has(S))y.set(S,!0);else return;let R=!0;y.forEach(D=>{D||(R=!1)}),R&&(k==null||k(),T(w.current),o&&(d==null||d()),r&&r())};return p.jsx(tq,{isPresent:I,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:P,anchorX:a,children:V},S)})})},CM=v.createContext({strict:!1}),fS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kl={};for(const t in fS)kl[t]={isEnabled:e=>fS[t].some(n=>!!e[n])};function sq(t){for(const e in t)kl[e]={...kl[e],...t[e]}}const iq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iq.has(t)}let AM=t=>!Wp(t);function oq(t){typeof t=="function"&&(AM=e=>e.startsWith("on")?!Wp(e):t(e))}try{oq(require("@emotion/is-prop-valid").default)}catch{}function aq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(AM(s)||n===!0&&Wp(s)||!e&&!Wp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function lq(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Jm=v.createContext({});function Zm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sd(t){return typeof t=="string"||Array.isArray(t)}const Qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xx=["initial",...Qx];function eg(t){return Zm(t.animate)||Xx.some(e=>sd(t[e]))}function PM(t){return!!(eg(t)||t.variants)}function cq(t,e){if(eg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sd(n)?n:void 0,animate:sd(r)?r:void 0}}return t.inherit!==!1?e:{}}function uq(t){const{initial:e,animate:n}=cq(t,v.useContext(Jm));return v.useMemo(()=>({initial:e,animate:n}),[pS(e),pS(n)])}function pS(t){return Array.isArray(t)?t.join(" "):t}const dq=Symbol.for("motionComponentSymbol");function Da(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hq(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Da(n)&&(n.current=r))},[e])}const Yx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fq="framerAppearId",RM="data-"+Yx(fq),kM=v.createContext({});function pq(t,e,n,r,s){var y,b;const{visualElement:i}=v.useContext(Jm),o=v.useContext(CM),a=v.useContext(Ym),l=v.useContext(qx).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=v.useContext(kM);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&mq(c.current,n,s,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[RM],w=v.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return O2(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Hx.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),w.current=!1))}),d}function mq(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Da(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function NM(t){if(t)return t.options.allowProjection!==!1?t.projection:NM(t.parent)}function gq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&sq(t);function i(a,l){let c;const d={...v.useContext(qx),...a,layoutId:yq(a)},{isStatic:h}=d,f=uq(a),m=r(a,h);if(!h&&Sx){vq();const w=wq(d);c=w.MeasureLayout,f.visualElement=pq(s,m,d,e,w.ProjectionNode)}return p.jsxs(Jm.Provider,{value:f,children:[c&&f.visualElement?p.jsx(c,{visualElement:f.visualElement,...d}):null,n(s,a,hq(m,f.visualElement,l),m,h,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=v.forwardRef(i);return o[dq]=s,o}function yq({layoutId:t}){const e=v.useContext(bx).id;return e&&t!==void 0?e+"-"+t:t}function vq(t,e){v.useContext(CM).strict}function wq(t){const{drag:e,layout:n}=kl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const id={};function _q(t){for(const e in t)id[e]=t[e],Dx(e)&&(id[e].isCSSVariable=!0)}function DM(t,{layout:e,layoutId:n}){return Xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!id[t]||t==="opacity")}const xq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eq=Ql.length;function Tq(t,e,n){let r="",s=!0;for(let i=0;i<Eq;i++){const o=Ql[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=xM(a,Kx[o]);if(!l){s=!1;const d=xq[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Jx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Xl.has(l)){o=!0;continue}else if(Dx(l)){s[l]=c;continue}else{const d=xM(c,Kx[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Tq(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const Zx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MM(t,e,n){for(const r in e)!Wt(e[r])&&!DM(r,n)&&(t[r]=e[r])}function bq({transformTemplate:t},e){return v.useMemo(()=>{const n=Zx();return Jx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Iq(t,e){const n=t.style||{},r={};return MM(r,n,t),Object.assign(r,bq(t,e)),r}function Sq(t,e){const n={},r=Iq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Cq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aq={offset:"strokeDashoffset",array:"strokeDasharray"};function Pq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Cq:Aq;t[i.offset]=ce.transform(-r);const o=ce.transform(e),a=ce.transform(n);t[i.array]=`${o} ${a}`}function VM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Jx(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Pq(h,s,i,o,!1)}const OM=()=>({...Zx(),attrs:{}}),LM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Rq(t,e,n,r){const s=v.useMemo(()=>{const i=OM();return VM(i,e,LM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};MM(i,t.style,t),s.style={...i,...s.style}}return s}const kq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function e1(t){return typeof t!="string"||t.includes("-")?!1:!!(kq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nq(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(e1(n)?Rq:Sq)(r,i,o,n),c=aq(r,typeof n=="string",t),d=n!==v.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=v.useMemo(()=>Wt(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function mS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function t1(t,e,n,r){if(typeof e=="function"){const[s,i]=mS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=mS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Cf(t){return Wt(t)?t.get():t}function Dq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Mq(n,r,s,t),renderState:e()}}const jM=t=>(e,n)=>{const r=v.useContext(Jm),s=v.useContext(Ym),i=()=>Dq(t,e,r,s);return n?i():Ix(i)};function Mq(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Cf(i[f]);let{initial:o,animate:a}=t;const l=eg(t),c=PM(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Zm(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=t1(t,f[m]);if(w){const{transitionEnd:y,transition:b,..._}=w;for(const x in _){let T=_[x];if(Array.isArray(T)){const A=d?T.length-1:0;T=T[A]}T!==null&&(s[x]=T)}for(const x in y)s[x]=y[x]}}}return s}function n1(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Wt(r[o])||e.style&&Wt(e.style[o])||DM(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Vq={useVisualState:jM({scrapeMotionValuesFromProps:n1,createRenderState:Zx})};function FM(t,e,n){const r=n1(t,e,n);for(const s in t)if(Wt(t[s])||Wt(e[s])){const i=Ql.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Oq={useVisualState:jM({scrapeMotionValuesFromProps:FM,createRenderState:OM})};function Lq(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...e1(r)?Oq:Vq,preloadedFeatures:t,useRender:Nq(s),createVisualElement:e,Component:r};return gq(o)}}function od(t,e,n){const r=t.getProps();return t1(r,e,n!==void 0?n:r.custom,t)}const U0=t=>Array.isArray(t);function jq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rl(n))}function Fq(t){return U0(t)?t[t.length-1]||0:t}function Uq(t,e){const n=od(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Fq(i[o]);jq(t,o,a)}}function Bq(t){return!!(Wt(t)&&t.add)}function B0(t,e){const n=t.getValue("willChange");if(Bq(n))return n.add(e);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function UM(t){return t.props[RM]}const $q=t=>t!==null;function zq(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter($q),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Wq={type:"spring",stiffness:500,damping:25,restSpeed:10},Kq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hq={type:"keyframes",duration:.8},Gq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qq=(t,{keyframes:e})=>e.length>2?Hq:Xl.has(t)?t.startsWith("scale")?Kq(e[1]):Wq:Gq;function Qq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const r1=(t,e,n,r={},s,i)=>o=>{const a=Wx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};Qq(a)||Object.assign(d,qq(t,d)),d.duration&&(d.duration=Mr(d.duration)),d.repeatDelay&&(d.repeatDelay=Mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(xs.instantAnimations||xs.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=zq(d.keyframes,a);if(f!==void 0){We.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Bx(d):new AG(d)};function Xq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&Xq(c,d))continue;const m={delay:n,...Wx(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=UM(t);if(_){const x=window.MotionHandoffAnimation(_,d,We);x!==null&&(m.startTime=x,y=!0)}}B0(t,d),h.start(r1(d,h,f,t.shouldReduceMotion&&gM.has(d)?{type:!1}:m,t,y));const b=h.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{We.update(()=>{o&&Uq(t,o)})}),l}function $0(t,e,n={}){var l;const r=od(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(BM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Yq(t,e,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Yq(t,e,n=0,r=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*s,d=typeof r=="function",h=d?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(t.variantChildren).sort(Jq).forEach((f,m)=>{f.notify("AnimationStart",e),a.push($0(f,e,{...o,delay:n+(d?0:r)+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function Jq(t,e){return t.sortNodePosition(e)}function Zq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>$0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=$0(t,e,n);else{const s=typeof e=="function"?od(t,e,n.custom):e;r=Promise.all(BM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function $M(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const eQ=Xx.length;function zM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<eQ;n++){const r=Xx[n],s=t.props[r];(sd(s)||s===!1)&&(e[r]=s)}return e}const tQ=[...Qx].reverse(),nQ=Qx.length;function rQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Zq(t,n,r)))}function sQ(t){let e=rQ(t),n=gS(),r=!0;const s=l=>(c,d)=>{var f;const h=od(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,...y}=h;c={...c,...y,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=zM(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let b=0;b<nQ;b++){const _=tQ[b],x=n[_],T=c[_]!==void 0?c[_]:d[_],A=sd(T),k=_===l?x.isActive:null;k===!1&&(w=b);let V=T===d[_]&&T!==c[_]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),x.protectedKeys={...m},!x.isActive&&k===null||!T&&!x.prevProp||Zm(T)||typeof T=="boolean")continue;const S=iQ(x.prevProp,T);let I=S||_===l&&x.isActive&&!V&&A||b>w&&A,P=!1;const R=Array.isArray(T)?T:[T];let D=R.reduce(s(_),{});k===!1&&(D={});const{prevResolvedValues:M={}}=x,N={...M,...D},K=te=>{I=!0,f.has(te)&&(P=!0,f.delete(te)),x.needsAnimating[te]=!0;const j=t.getValue(te);j&&(j.liveStyle=!1)};for(const te in N){const j=D[te],U=M[te];if(m.hasOwnProperty(te))continue;let q=!1;U0(j)&&U0(U)?q=!$M(j,U):q=j!==U,q?j!=null?K(te):f.add(te):j!==void 0&&f.has(te)?K(te):x.protectedKeys[te]=!0}x.prevProp=T,x.prevResolvedValues=D,x.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(V&&S)||P)&&h.push(...R.map(te=>({animation:te,options:{type:_}})))}if(f.size){const b={};if(typeof c.initial!="boolean"){const _=od(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(b.transition=_.transition)}f.forEach(_=>{const x=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),b[_]=x??null}),h.push({animation:b})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gS(),r=!0}}}function iQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$M(e,t):!1}function Ji(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gS(){return{animate:Ji(!0),whileInView:Ji(),whileHover:Ji(),whileTap:Ji(),whileDrag:Ji(),whileFocus:Ji(),exit:Ji()}}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oQ extends Ki{constructor(e){super(e),e.animationState||(e.animationState=sQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let aQ=0;class lQ extends Ki{constructor(){super(...arguments),this.id=aQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cQ={animation:{Feature:oQ},exit:{Feature:lQ}};function ad(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $d(t){return{point:{x:t.pageX,y:t.pageY}}}const uQ=t=>e=>Gx(e)&&t(e,$d(e));function hu(t,e,n,r){return ad(t,e,uQ(n),r)}function WM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const KM=1e-4,fQ=1-KM,pQ=1+KM,HM=.01,mQ=0-HM,gQ=0+HM;function Zt(t){return t.max-t.min}function yQ(t,e,n){return Math.abs(t-e)<=n}function yS(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=fQ&&t.scale<=pQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=mQ&&t.translate<=gQ||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,r){yS(t.x,e.x,n.x,r?r.originX:void 0),yS(t.y,e.y,n.y,r?r.originY:void 0)}function vS(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function vQ(t,e,n){vS(t.x,e.x,n.x),vS(t.y,e.y,n.y)}function wS(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function pu(t,e,n){wS(t.x,e.x,n.x),wS(t.y,e.y,n.y)}const _S=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ma=()=>({x:_S(),y:_S()}),xS=()=>({min:0,max:0}),it=()=>({x:xS(),y:xS()});function On(t){return[t("x"),t("y")]}function xy(t){return t===void 0||t===1}function z0({scale:t,scaleX:e,scaleY:n}){return!xy(t)||!xy(e)||!xy(n)}function so(t){return z0(t)||GM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GM(t){return ES(t.x)||ES(t.y)}function ES(t){return t&&t!=="0%"}function Kp(t,e,n){const r=t-n,s=e*r;return n+s}function TS(t,e,n,r,s){return s!==void 0&&(t=Kp(t,s,r)),Kp(t,n,r)+e}function W0(t,e=0,n=1,r,s){t.min=TS(t.min,e,n,r,s),t.max=TS(t.max,e,n,r,s)}function qM(t,{x:e,y:n}){W0(t.x,e.translate,e.scale,e.originPoint),W0(t.y,n.translate,n.scale,n.originPoint)}const bS=.999999999999,IS=1.0000000000001;function wQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Oa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qM(t,o)),r&&so(i.latestValues)&&Oa(t,i.latestValues))}e.x<IS&&e.x>bS&&(e.x=1),e.y<IS&&e.y>bS&&(e.y=1)}function Va(t,e){t.min=t.min+e,t.max=t.max+e}function SS(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);W0(t,e,n,i,r)}function Oa(t,e){SS(t.x,e.x,e.scaleX,e.scale,e.originX),SS(t.y,e.y,e.scaleY,e.scale,e.originY)}function QM(t,e){return WM(hQ(t.getBoundingClientRect(),e))}function _Q(t,e,n){const r=QM(t,n),{scroll:s}=e;return s&&(Va(r.x,s.offset.x),Va(r.y,s.offset.y)),r}const XM=({current:t})=>t?t.ownerDocument.defaultView:null,CS=(t,e)=>Math.abs(t-e);function xQ(t,e){const n=CS(t.x,e.x),r=CS(t.y,e.y);return Math.sqrt(n**2+r**2)}class YM{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ty(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=xQ(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:y}=f,{timestamp:b}=Ct;this.history.push({...y,timestamp:b});const{onStart:_,onMove:x}=this.handlers;m||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ey(m,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ty(f.type==="pointercancel"?this.lastMoveEventInfo:Ey(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,_),y&&y(f,_)},!Gx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=$d(e),l=Ey(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ct;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Ty(l,this.history)),this.removeListeners=Fd(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function Ey(t,e){return e?{point:e(t.point)}:t}function AS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ty({point:t},e){return{point:t,delta:AS(t,JM(e)),offset:AS(t,EQ(e)),velocity:TQ(e,.1)}}function EQ(t){return t[0]}function JM(t){return t[t.length-1]}function TQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=JM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Mr(e)));)n--;if(!r)return{x:0,y:0};const i=Vr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function PS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IQ(t,{top:e,left:n,bottom:r,right:s}){return{x:PS(t.x,n,s),y:PS(t.y,e,r)}}function RS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SQ(t,e){return{x:RS(t.x,e.x),y:RS(t.y,e.y)}}function CQ(t,e){let n=.5;const r=Zt(t),s=Zt(e);return s>r?n=td(e.min,e.max-r,t.min):r>s&&(n=td(t.min,t.max-s,e.min)),_s(0,1,n)}function AQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const K0=.35;function PQ(t=K0){return t===!1?t=0:t===!0&&(t=K0),{x:kS(t,"left","right"),y:kS(t,"top","bottom")}}function kS(t,e,n){return{min:NS(t,e),max:NS(t,n)}}function NS(t,e){return typeof t=="number"?t:t[e]||0}const RQ=new WeakMap;class kQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($d(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:y}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WG(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(_=>{let x=this.getAxisMotionValue(_).get()||0;if(Or.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[_];A&&(x=Zt(A)*(parseFloat(x)/100))}}this.originPoint[_]=x}),y&&We.postRender(()=>y(h,f)),B0(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=f;if(w&&this.currentDirection===null){this.currentDirection=NQ(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),b&&b(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>On(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new YM(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:XM(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&We.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!$h(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Da(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=IQ(r.layoutBox,e):this.constraints=!1,this.elastic=PQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=AQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Da(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_Q(r,s.root,this.visualElement.getTransformPagePoint());let o=SQ(s.layout.layoutBox,i);if(n){const a=n(dQ(o));this.hasMutatedConstraints=!!a,a&&(o=WM(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=On(d=>{if(!$h(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return B0(this.visualElement,e),r.start(r1(e,r,0,n,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){On(n=>{const{drag:r}=this.getProps();if(!$h(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Da(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=CQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(o=>{if(!$h(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;RQ.set(this.visualElement,this);const e=this.visualElement.current,n=hu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Da(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const o=ad(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(On(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=K0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function $h(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DQ extends Ki{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new kQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const DS=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class MQ extends Ki{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new YM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:DS(e),onStart:DS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=MS(t,e.target.x),r=MS(t,e.target.y);return`${n}% ${r}%`}},VQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ni.parse(t);if(s.length>5)return r;const i=Ni.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let VS=!1;class OQ extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;_q(LQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),VS&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,VS=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZM(t){const[e,n]=SM(),r=v.useContext(bx);return p.jsx(OQ,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(kM),isPresent:e,safeToRemove:n})}const LQ={borderRadius:{...Pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pc,borderTopRightRadius:Pc,borderBottomLeftRadius:Pc,borderBottomRightRadius:Pc,boxShadow:VQ};function jQ(t,e,n){const r=Wt(t)?t:Rl(t);return r.start(r1("",r,e,n)),r.animation}const FQ=(t,e)=>t.depth-e.depth;class UQ{constructor(){this.children=[],this.isDirty=!1}add(e){Cx(this.children,e),this.isDirty=!0}remove(e){Ax(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FQ),this.isDirty=!1,this.children.forEach(e)}}function BQ(t,e){const n=hn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ki(r),t(i-e))};return We.setup(r,!0),()=>ki(r)}const eV=["TopLeft","TopRight","BottomLeft","BottomRight"],$Q=eV.length,OS=t=>typeof t=="string"?parseFloat(t):t,LS=t=>typeof t=="number"||ce.test(t);function zQ(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity??1,WQ(r)),t.opacityExit=Qe(e.opacity??1,0,KQ(r))):i&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<$Q;o++){const a=`border${eV[o]}Radius`;let l=jS(e,a),c=jS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||LS(l)===LS(c)?(t[a]=Math.max(Qe(OS(l),OS(c),r),0),(Or.test(c)||Or.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function jS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WQ=tV(0,.5,G2),KQ=tV(.5,.95,Gn);function tV(t,e,n){return r=>r<t?0:r>e?1:n(td(t,e,r))}function FS(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){FS(t.x,e.x),FS(t.y,e.y)}function US(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BS(t,e,n,r,s){return t-=e,t=Kp(t,1/n,r),s!==void 0&&(t=Kp(t,1/s,r)),t}function HQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(Or.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=BS(t.min,e,n,a,s),t.max=BS(t.max,e,n,a,s)}function $S(t,e,[n,r,s],i,o){HQ(t,e[n],e[r],e[s],e.scale,i,o)}const GQ=["x","scaleX","originX"],qQ=["y","scaleY","originY"];function zS(t,e,n,r){$S(t.x,e,GQ,n?n.x:void 0,r?r.x:void 0),$S(t.y,e,qQ,n?n.y:void 0,r?r.y:void 0)}function WS(t){return t.translate===0&&t.scale===1}function nV(t){return WS(t.x)&&WS(t.y)}function KS(t,e){return t.min===e.min&&t.max===e.max}function QQ(t,e){return KS(t.x,e.x)&&KS(t.y,e.y)}function HS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rV(t,e){return HS(t.x,e.x)&&HS(t.y,e.y)}function GS(t){return Zt(t.x)/Zt(t.y)}function qS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XQ{constructor(){this.members=[]}add(e){Cx(this.members,e),e.scheduleRender()}remove(e){if(Ax(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YQ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const by=["","X","Y","Z"],JQ=1e3;let ZQ=0;function Iy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sV(r)}function iV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ZQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nX),this.nodes.forEach(oX),this.nodes.forEach(aX),this.nodes.forEach(rX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=IM(o)&&!XG(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;We.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=BQ(f,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(YS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||hX,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),_=!this.targetLayout||!rV(this.targetLayout,m),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Wx(w,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,x)}else h||YS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iX),this.nodes.forEach(eX),this.nodes.forEach(tX)):this.nodes.forEach(XS),this.clearAllSnapshots();const a=hn.now();Ct.delta=_s(0,1e3/60,a-Ct.timestamp),Ct.timestamp=a,Ct.isProcessing=!0,my.update.process(Ct),my.preRender.process(Ct),my.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sX),this.sharedNodes.forEach(cX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||so(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return it();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(pX))){const{scroll:d}=this.root;d&&(Va(a.x,d.offset.x),Va(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=it();if(Vn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Vn(a,o),Va(a.x,h.offset.x),Va(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=it();Vn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Oa(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),so(d.latestValues)&&Oa(l,d.latestValues)}return so(this.latestValues)&&Oa(l,this.latestValues),l}removeTransform(o){const a=it();Vn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!so(c.latestValues))continue;z0(c.latestValues)&&c.updateSnapshot();const d=it(),h=c.measurePageBox();Vn(d,h),zS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return so(this.latestValues)&&zS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),pu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),qM(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),pu(this.relativeTargetOrigin,this.target,m.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||z0(this.parent.latestValues)||GM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;wQ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=it());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(US(this.prevProjectionDelta.x,this.projectionDelta.x),US(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!qS(this.projectionDelta.x,this.prevProjectionDelta.x)||!qS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ma(),this.projectionDelta=Ma(),this.projectionDeltaWithTransform=Ma()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=m!==w,b=this.getStack(),_=!b||b.members.length<=1,x=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(dX));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const k=A/1e3;JS(h.x,o.x,k),JS(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uX(this.relativeTarget,this.relativeTargetOrigin,f,k),T&&QQ(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=it()),Vn(T,this.relativeTarget)),y&&(this.animationValues=d,zQ(d,c,this.latestValues,k,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rl(0)),this.currentAnimation=jQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&oV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const h=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Vn(a,l),Oa(a,d),fu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Iy("z",o,c,this.animationValues);for(let d=0;d<by.length;d++)Iy(`rotate${by[d]}`,o,c,this.animationValues),Iy(`skew${by[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Cf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Cf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=YQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in id){if(d[w]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:_}=id[w],x=h==="none"?d[w]:y(d[w],c);if(b){const T=b.length;for(let A=0;A<T;A++)o[b[A]]=x}else _?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=c===this?Cf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(QS),this.root.sharedNodes.clear()}}}function eX(t){t.updateLayout()}function tX(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?On(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Zt(f);f.min=r[h].min,f.max=f.min+m}):oV(i,e.layoutBox,r)&&On(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Zt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Ma();fu(a,r,e.layoutBox);const l=Ma();o?fu(l,t.applyTransform(s,!0),e.measuredBox):fu(l,r,e.layoutBox);const c=!nV(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=it();pu(w,e.layoutBox,f.layoutBox);const y=it();pu(y,r,m.layoutBox),rV(w,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sX(t){t.clearSnapshot()}function QS(t){t.clearMeasurements()}function XS(t){t.isLayoutDirty=!1}function iX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function YS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oX(t){t.resolveTargetDelta()}function aX(t){t.calcProjection()}function lX(t){t.resetSkewAndRotation()}function cX(t){t.removeLeadSnapshot()}function JS(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZS(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function uX(t,e,n,r){ZS(t.x,e.x,n.x,r),ZS(t.y,e.y,n.y,r)}function dX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hX={duration:.45,ease:[.4,0,.1,1]},eC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tC=eC("applewebkit/")&&!eC("chrome/")?Math.round:Gn;function nC(t){t.min=tC(t.min),t.max=tC(t.max)}function fX(t){nC(t.x),nC(t.y)}function oV(t,e,n){return t==="position"||t==="preserve-aspect"&&!yQ(GS(e),GS(n),.2)}function pX(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const mX=iV({attachResizeListener:(t,e)=>ad(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sy={current:void 0},aV=iV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sy.current){const t=new mX({});t.mount(window),t.setOptions({layoutScroll:!0}),Sy.current=t}return Sy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gX={pan:{Feature:MQ},drag:{Feature:DQ,ProjectionNode:aV,MeasureLayout:ZM}};function rC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(e,$d(e)))}class yX extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=KG(e,(n,r)=>(rC(this.node,r,"Start"),s=>rC(this.node,s,"End"))))}unmount(){}}class vX extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fd(ad(this.node.current,"focus",()=>this.onFocus()),ad(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(e,$d(e)))}class wX extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=QG(e,(n,r)=>(sC(this.node,r,"Start"),(s,{success:i})=>sC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H0=new WeakMap,Cy=new WeakMap,_X=t=>{const e=H0.get(t.target);e&&e(t)},xX=t=>{t.forEach(_X)};function EX({root:t,...e}){const n=t||document;Cy.has(n)||Cy.set(n,{});const r=Cy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(xX,{root:t,...e})),r[s]}function TX(t,e,n){const r=EX(e);return H0.set(t,n),r.observe(t),()=>{H0.delete(t),r.unobserve(t)}}const bX={some:0,all:1};class IX extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bX[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return TX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SX(e,n))&&this.startObserver()}unmount(){}}function SX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CX={inView:{Feature:IX},tap:{Feature:wX},focus:{Feature:vX},hover:{Feature:yX}},AX={layout:{ProjectionNode:aV,MeasureLayout:ZM}},G0={current:null},lV={current:!1};function PX(){if(lV.current=!0,!!Sx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>G0.current=t.matches;t.addEventListener("change",e),e()}else G0.current=!1}const RX=new WeakMap;function kX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Wt(s))t.addValue(r,s);else if(Wt(i))t.addValue(r,Rl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Rl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const iC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$x,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=hn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=eg(n),this.isVariantNode=PM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Wt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,RX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lV.current||PX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:G0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kl){const n=kl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iC.length;r++){const s=iC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=kX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Rl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(L2(r)||F2(r))?r=parseFloat(r):!JG(r)&&Ni.test(n)&&(r=_M(e,n)),this.setBaseTarget(e,Wt(r)?r.get():r)),Wt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=t1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cV extends NX{constructor(){super(...arguments),this.KeyframeResolver=UG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uV(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function DX(t){return window.getComputedStyle(t)}class MX extends cV{constructor(){super(...arguments),this.type="html",this.renderInstance=uV}readValueFromInstance(e,n){var r;if(Xl.has(n))return(r=this.projection)!=null&&r.isProjecting?M0(n):iG(e,n);{const s=DX(e),i=(Dx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QM(e,n)}build(e,n,r){Jx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return n1(e,n,r)}}const dV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VX(t,e,n,r){uV(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(dV.has(s)?s:Yx(s),e.attrs[s])}class OX extends cV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xl.has(n)){const r=wM(n);return r&&r.default||0}return n=dV.has(n)?n:Yx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FM(e,n,r)}build(e,n,r){VM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){VX(e,n,r,s)}mount(e){this.isSVGTag=LM(e.tagName),super.mount(e)}}const LX=(t,e)=>e1(t)?new OX(e):new MX(e,{allowProjection:t!==v.Fragment}),jX=Lq({...cQ,...CX,...gX,...AX},LX),fn=lq(jX),FX=({isDark:t=!0})=>{const e=v.useRef(null),n=v.useRef([]),r=v.useRef();return v.useEffect(()=>{const s=e.current;if(!s)return;const i=s.getContext("2d");if(!i)return;const o=()=>{s.width=window.innerWidth,s.height=window.innerHeight},a=()=>{n.current=[];const f=Math.min(Math.floor(s.width*s.height/15e3),100);for(let m=0;m<f;m++)n.current.push({x:Math.random()*s.width,y:Math.random()*s.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1,opacity:Math.random()*.5+.1})},l=()=>{i.clearRect(0,0,s.width,s.height);const f=n.current,m=t?"59, 130, 246":"99, 102, 241";i.strokeStyle=`rgba(${m}, ${t?.15:.1})`,i.lineWidth=1;for(let w=0;w<f.length;w++)for(let y=w+1;y<f.length;y++){const b=f[w].x-f[y].x,_=f[w].y-f[y].y,x=Math.sqrt(b*b+_*_);if(x<150){const T=(1-x/150)*.3;i.globalAlpha=T,i.beginPath(),i.moveTo(f[w].x,f[w].y),i.lineTo(f[y].x,f[y].y),i.stroke()}}f.forEach(w=>{i.globalAlpha=w.opacity,i.fillStyle=`rgba(${m}, ${w.opacity})`,i.beginPath(),i.arc(w.x,w.y,w.size,0,Math.PI*2),i.fill()}),i.globalAlpha=1},c=()=>{n.current.forEach(f=>{f.x+=f.vx,f.y+=f.vy,(f.x<=0||f.x>=s.width)&&(f.vx*=-1),(f.y<=0||f.y>=s.height)&&(f.vy*=-1),f.x=Math.max(0,Math.min(s.width,f.x)),f.y=Math.max(0,Math.min(s.height,f.y))})},d=()=>{c(),l(),r.current=requestAnimationFrame(d)};o(),a(),d();const h=()=>{o(),a()};return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),r.current&&cancelAnimationFrame(r.current)}},[t]),p.jsx(fn.canvas,{ref:e,className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}})},ld=()=>{const[t,e]=v.useState(!0);return v.useEffect(()=>{const n=new MutationObserver(()=>{e(!document.documentElement.classList.contains("light"))});return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>n.disconnect()},[]),p.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[p.jsx(FX,{isDark:t}),p.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute top-3/4 right-1/4 w-48 h-48 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),p.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-56 h-56 bg-secondary/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]})},UX=Ld("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background/50 backdrop-blur-sm hover:bg-accent hover:text-accent-foreground hover:border-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white hover:scale-105 hover:shadow-glow",glass:"bg-background/20 backdrop-blur-md border border-border/50 hover:bg-background/30 hover:border-primary/50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Cl:"button";return p.jsx(o,{className:Ee(UX({variant:e,size:n,className:t})),ref:i,...s})});Pe.displayName="Button";const Lr=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Lr.displayName="Input";var s1="Avatar",[BX,uee]=Od(s1),[$X,hV]=BX(s1),fV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=v.useState("idle");return p.jsx($X,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:p.jsx(Se.span,{...r,ref:e})})});fV.displayName=s1;var pV="AvatarImage",mV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=hV(pV,n),a=zX(r,i.referrerPolicy),l=Gt(c=>{s(c),o.onImageLoadingStatusChange(c)});return Ur(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Se.img,{...i,ref:e,src:r}):null});mV.displayName=pV;var gV="AvatarFallback",yV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=hV(gV,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?p.jsx(Se.span,{...s,ref:e}):null});yV.displayName=gV;function zX(t,e){const[n,r]=v.useState("idle");return Ur(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var vV=fV,wV=mV,_V=yV;const Nl=v.forwardRef(({className:t,...e},n)=>p.jsx(vV,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Nl.displayName=vV.displayName;const Dl=v.forwardRef(({className:t,...e},n)=>p.jsx(wV,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));Dl.displayName=wV.displayName;const Ml=v.forwardRef(({className:t,...e},n)=>p.jsx(_V,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ml.displayName=_V.displayName;const WX=Ld("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Es({className:t,variant:e,...n}){return p.jsx("div",{className:Ee(WX({variant:e}),t),...n})}const cn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));cn.displayName="Card";const Wn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Wn.displayName="CardHeader";const Di=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Di.displayName="CardTitle";const KX=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));KX.displayName="CardDescription";const un=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));un.displayName="CardContent";const xV=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));xV.displayName="CardFooter";const HX=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState([{id:"1",type:"answer",message:"John Doe answered your question about React hooks",time:"2 minutes ago",read:!1},{id:"2",type:"mention",message:"Sarah mentioned you in a comment",time:"1 hour ago",read:!1},{id:"3",type:"upvote",message:"Your answer received 5 upvotes",time:"3 hours ago",read:!1},{id:"4",type:"badge",message:'You earned the "Helper" badge!',time:"1 day ago",read:!0}]),s=v.useRef(null),i=n.filter(c=>!c.read).length;v.useEffect(()=>{const c=d=>{s.current&&!s.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const o=c=>{switch(c){case"answer":return p.jsx(B8,{className:"w-4 h-4 text-blue-400"});case"mention":return p.jsx(ux,{className:"w-4 h-4 text-green-400"});case"upvote":return p.jsx(F8,{className:"w-4 h-4 text-red-400"});case"badge":return p.jsx(ix,{className:"w-4 h-4 text-yellow-400"});default:return p.jsx(uy,{className:"w-4 h-4"})}},a=c=>{r(d=>d.map(h=>h.id===c?{...h,read:!0}:h))},l=()=>{r(c=>c.map(d=>({...d,read:!0})))};return p.jsxs("div",{className:"relative",ref:s,children:[p.jsxs(Pe,{variant:"ghost",size:"icon",className:"relative hover:bg-background/50",onClick:()=>e(!t),children:[p.jsx(fn.div,{animate:i>0?{scale:[1,1.1,1]}:{},transition:{duration:.3,repeat:1/0,repeatDelay:2},children:p.jsx(uy,{className:"w-5 h-5"})}),i>0&&p.jsx(fn.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1",children:p.jsx(Es,{className:"w-5 h-5 p-0 text-xs bg-destructive pulse-glow flex items-center justify-center",children:i})})]}),p.jsx(rq,{children:t&&p.jsx(fn.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 z-50",children:p.jsxs(cn,{className:"w-80 glass-strong border shadow-lg",children:[p.jsx(Wn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Di,{className:"text-lg",children:"Notifications"}),i>0&&p.jsx(Pe,{variant:"ghost",size:"sm",onClick:l,className:"text-xs text-muted-foreground hover:text-primary",children:"Mark all read"})]})}),p.jsxs(un,{className:"space-y-2 max-h-96 overflow-y-auto",children:[n.map((c,d)=>p.jsx(fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},className:`p-3 rounded-lg border transition-all cursor-pointer ${c.read?"bg-background/50 border-border/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"}`,onClick:()=>a(c.id),children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:o(c.type)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:`text-sm ${c.read?"text-muted-foreground":"text-foreground"}`,children:c.message}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.time})]}),!c.read&&p.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-2"})]})},c.id)),n.length===0&&p.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[p.jsx(uy,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No notifications"})]})]})]})})})]})},GX=new ts,qX=async(t,e)=>await E6(Vd,t,e),QX=async()=>await H6(Vd,GX),XX=async(t,e)=>await x6(Vd,t,e),YX=async()=>{await S6(Vd)},cd=()=>{var w;const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(!0),[o,a]=v.useState(""),l=bs(),c=ji(),{user:d,loading:h}=Wi();v.useEffect(()=>{const y=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),v.useEffect(()=>{document.documentElement.classList.toggle("light",!s),localStorage.setItem("theme",s?"dark":"light")},[s]),v.useEffect(()=>{const y=localStorage.getItem("theme");y&&i(y==="dark")},[]);const f=async()=>{try{await YX(),c("/")}catch(y){console.error("Logout failed:",y)}},m=[{href:"/",label:"Home"}];return p.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"glass py-2":"bg-transparent py-4"}`,children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(Bt,{to:"/",className:"flex items-center space-x-2 group ml-4",children:[" ",p.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:p.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),p.jsx("span",{className:"text-xl font-bold gradient-text hidden sm:block",children:"StackIt"})]}),p.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-md mx-8",children:p.jsxs("div",{className:"relative w-full",children:[p.jsx(II,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(Lr,{type:"text",placeholder:"Search questions, tags, users...",value:o,onChange:y=>a(y.target.value),className:"pl-10 glass border-0 bg-background/50 focus:bg-background/80 transition-all",onKeyDown:y=>{y.key==="Enter"&&o.trim()&&c(`/search?q=${encodeURIComponent(o)}`)}})]})}),p.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:m.map(y=>p.jsx(Bt,{to:y.href,className:`text-sm font-medium transition-colors hover:text-primary ${l.pathname===y.href?"text-primary":"text-muted-foreground"}`,children:y.label},y.href))}),p.jsxs("div",{className:"flex items-center space-x-3",children:[d&&p.jsx(Bt,{to:"/ask",children:p.jsxs(Pe,{className:"bg-gradient-primary hover:scale-105 transition-transform glow-hover",children:[p.jsx(lx,{className:"w-4 h-4 mr-2"}),p.jsx("span",{className:"hidden sm:inline",children:"Ask"})]})}),d&&p.jsx(HX,{}),d?p.jsxs("div",{className:"relative group",children:[p.jsx(Bt,{to:"/profile",children:p.jsxs(Nl,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-primary transition-all",children:[p.jsx(Dl,{src:d.photoURL||void 0}),p.jsx(Ml,{children:((w=d.displayName)==null?void 0:w.charAt(0))||p.jsx(ux,{className:"w-4 h-4"})})]})}),p.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-background border border-border rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:p.jsxs("div",{className:"py-1",children:[p.jsx(Bt,{to:"/profile",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10",children:"Your Profile"}),p.jsx("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-foreground hover:bg-primary/10",children:"Sign Out"})]})})]}):p.jsx(Bt,{to:"/login",children:p.jsx(Pe,{variant:"outline",size:"sm",children:"Sign In"})}),p.jsx(Pe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),"aria-label":n?"Close menu":"Open menu",children:n?p.jsx(dx,{className:"w-5 h-5"}):p.jsx(U8,{className:"w-5 h-5"})})]})]}),n&&p.jsxs("div",{className:"md:hidden mt-4 glass rounded-lg p-4 space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(II,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(Lr,{type:"text",placeholder:"Search...",value:o,onChange:y=>a(y.target.value),className:"pl-10"})]}),p.jsxs("div",{className:"space-y-2",children:[m.map(y=>p.jsx(Bt,{to:y.href,className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${l.pathname===y.href?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-background/50"}`,onClick:()=>r(!1),children:y.label},y.href)),!d&&p.jsx(Bt,{to:"/login",className:"block px-3 py-2 rounded-md text-sm font-medium bg-primary/10 text-primary",onClick:()=>r(!1),children:"Sign In"}),d&&p.jsx("button",{onClick:f,className:"w-full text-left px-3 py-2 rounded-md text-sm font-medium text-muted-foreground hover:text-primary hover:bg-background/50",children:"Sign Out"})]})]})]})})},JX=({question:t,onVote:e})=>{const[n,r]=v.useState(t.stats.votes),[s,i]=v.useState(null),{user:o}=Wi(),a=ji(),l=d=>{if(!o){a("/login",{state:{from:window.location.pathname}});return}s===d?(r(n-(d==="up"?1:-1)),i(null)):(r(n+(s?d==="up"?2:-2:d==="up"?1:-1)),i(d)),e==null||e(t.id,d)},c=d=>{const h=new Date(d),m=new Date().getTime()-h.getTime(),w=Math.floor(m/(1e3*60*60)),y=Math.floor(w/24);return y>0?`${y}d ago`:w>0?`${w}h ago`:"Just now"};return p.jsxs(cn,{className:"glass-strong hover:shadow-medium transition-all duration-300 card-hover group",children:[p.jsx(un,{className:"p-6",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-shrink-0",children:[p.jsx(Lp,{children:p.jsxs(I0,{children:[p.jsx(S0,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>l("up"),className:`p-1 transition-colors ${s==="up"?"text-success bg-success/10":"hover:text-success"}`,children:p.jsx(kp,{className:"w-5 h-5"})})}),!o&&p.jsx(jp,{children:p.jsx("p",{children:"Login to vote"})})]})}),p.jsx("span",{className:`font-bold text-lg ${n>0?"text-success":n<0?"text-destructive":""}`,children:n}),p.jsx(Lp,{children:p.jsxs(I0,{children:[p.jsx(S0,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>l("down"),className:`p-1 transition-colors ${s==="down"?"text-destructive bg-destructive/10":"hover:text-destructive"}`,children:p.jsx(Rp,{className:"w-5 h-5"})})}),!o&&p.jsx(jp,{children:p.jsx("p",{children:"Login to vote"})})]})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx(Bt,{to:`/question/${t.id}`,className:"text-lg font-semibold hover:text-primary transition-colors group-hover:text-primary line-clamp-2",children:t.title}),t.hasAcceptedAnswer&&p.jsx(Es,{variant:"outline",className:"ml-2 text-success border-success bg-success/10 flex-shrink-0",children:"Solved"})]}),p.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:t.content}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(d=>p.jsxs(Es,{variant:"secondary",className:"hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",children:[p.jsx(cx,{className:"w-3 h-3 mr-1"}),d]},d))})]})]})}),p.jsx(xV,{className:"px-6 py-4 bg-background/50 border-t border-border/50",children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Nl,{className:"w-8 h-8",children:[p.jsx(Dl,{src:t.author.avatar}),p.jsx(Ml,{children:p.jsx(ux,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"font-medium",children:t.author.name}),p.jsxs("span",{className:"text-muted-foreground ml-2",children:[t.author.reputation.toLocaleString()," rep"]})]})]}),p.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(ax,{className:"w-4 h-4"}),p.jsx("span",{children:t.stats.answers})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx($D,{className:"w-4 h-4"}),p.jsx("span",{children:t.stats.views})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(ox,{className:"w-4 h-4"}),p.jsx("span",{children:c(t.createdAt)})]})]})]})})]})};var ZX=v.createContext(void 0);function EV(t){const e=v.useContext(ZX);return t||e||"ltr"}var Ay=0;function eY(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oC()),document.body.insertAdjacentElement("beforeend",t[1]??oC()),Ay++,()=>{Ay===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ay--}},[])}function oC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Py="focusScope.autoFocusOnMount",Ry="focusScope.autoFocusOnUnmount",aC={bubbles:!1,cancelable:!0},tY="FocusScope",TV=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Gt(s),d=Gt(i),h=v.useRef(null),f=bt(e,y=>l(y)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const A=T.target;a.contains(A)?h.current=A:zs(h.current,{select:!0})},b=function(T){if(m.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||zs(h.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&zs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){cC.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(Py,aC);a.addEventListener(Py,c),a.dispatchEvent(_),_.defaultPrevented||(nY(aY(bV(a)),{select:!0}),document.activeElement===y&&zs(a))}return()=>{a.removeEventListener(Py,c),setTimeout(()=>{const _=new CustomEvent(Ry,aC);a.addEventListener(Ry,d),a.dispatchEvent(_),_.defaultPrevented||zs(y??document.body,{select:!0}),a.removeEventListener(Ry,d),cC.remove(m)},0)}}},[a,c,d,m]);const w=v.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const x=y.currentTarget,[T,A]=rY(x);T&&A?!y.shiftKey&&_===A?(y.preventDefault(),n&&zs(T,{select:!0})):y.shiftKey&&_===T&&(y.preventDefault(),n&&zs(A,{select:!0})):_===x&&y.preventDefault()}},[n,r,m.paused]);return p.jsx(Se.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});TV.displayName=tY;function nY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zs(r,{select:e}),document.activeElement!==n)return}function rY(t){const e=bV(t),n=lC(e,t),r=lC(e.reverse(),t);return[n,r]}function bV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lC(t,e){for(const n of t)if(!sY(n,{upTo:e}))return n}function sY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iY(t){return t instanceof HTMLInputElement&&"select"in t}function zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&iY(t)&&e&&t.select()}}var cC=oY();function oY(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uC(t,e),t.unshift(e)},remove(e){var n;t=uC(t,e),(n=t[0])==null||n.resume()}}}function uC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aY(t){return t.filter(e=>e.tagName!=="A")}function lY(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,cY(s,...e)]}function cY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ky="rovingFocusGroup.onEntryFocus",uY={bubbles:!1,cancelable:!0},tg="RovingFocusGroup",[q0,IV,dY]=J_(tg),[hY,SV]=lY(tg,[dY]),[fY,pY]=hY(tg),CV=v.forwardRef((t,e)=>p.jsx(q0.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(q0.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(mY,{...t,ref:e})})}));CV.displayName=tg;var mY=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=v.useRef(null),m=bt(e,f),w=EV(i),[y=null,b]=Lm({prop:o,defaultProp:a,onChange:l}),[_,x]=v.useState(!1),T=Gt(c),A=IV(n),k=v.useRef(!1),[V,S]=v.useState(0);return v.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(ky,T),()=>I.removeEventListener(ky,T)},[T]),p.jsx(fY,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(I=>b(I),[b]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>S(I=>I-1),[]),children:p.jsx(Se.div,{tabIndex:_||V===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{k.current=!0}),onFocus:oe(t.onFocus,I=>{const P=!k.current;if(I.target===I.currentTarget&&P&&!_){const R=new CustomEvent(ky,uY);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=A().filter(ne=>ne.focusable),M=D.find(ne=>ne.active),N=D.find(ne=>ne.id===y),le=[M,N,...D].filter(Boolean).map(ne=>ne.ref.current);RV(le,d)}}k.current=!1}),onBlur:oe(t.onBlur,()=>x(!1))})})}),AV="RovingFocusGroupItem",PV=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Np(),l=i||a,c=pY(AV,n),d=c.currentTabStopId===l,h=IV(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return v.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),p.jsx(q0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:oe(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:oe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=vY(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const x=_.indexOf(w.currentTarget);_=c.loop?wY(_,x+1):_.slice(x+1)}setTimeout(()=>RV(_))}})})})});PV.displayName=AV;var gY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vY(t,e,n){const r=yY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gY[r]}function RV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function wY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _Y=CV,xY=PV,EY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ha=new WeakMap,zh=new WeakMap,Wh={},Ny=0,kV=function(t){return t&&(t.host||kV(t.parentNode))},TY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bY=function(t,e,n,r){var s=TY(e,Array.isArray(t)?t:[t]);Wh[n]||(Wh[n]=new WeakMap);var i=Wh[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",y=(ha.get(f)||0)+1,b=(i.get(f)||0)+1;ha.set(f,y),i.set(f,b),o.push(f),y===1&&w&&zh.set(f,!0),b===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),a.clear(),Ny++,function(){o.forEach(function(h){var f=ha.get(h)-1,m=i.get(h)-1;ha.set(h,f),i.set(h,m),f||(zh.has(h)||h.removeAttribute(r),zh.delete(h)),m||h.removeAttribute(n)}),Ny--,Ny||(ha=new WeakMap,ha=new WeakMap,zh=new WeakMap,Wh={})}},IY=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=EY(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),bY(r,s,n,"aria-hidden")):function(){return null}},Pf="right-scroll-bar-position",Rf="width-before-scroll-bar",SY="with-scroll-bars-hidden",CY="--removed-body-scroll-bar-size";function Dy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AY(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var PY=typeof window<"u"?v.useLayoutEffect:v.useEffect,dC=new WeakMap;function RY(t,e){var n=AY(null,function(r){return t.forEach(function(s){return Dy(s,r)})});return PY(function(){var r=dC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Dy(a,null)}),i.forEach(function(a){s.has(a)||Dy(a,o)})}dC.set(n,t)},[t]),n}function kY(t){return t}function NY(t,e){e===void 0&&(e=kY);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function DY(t){t===void 0&&(t={});var e=NY(null);return e.options=Sr({async:!0,ssr:!1},t),e}var NV=function(t){var e=t.sideCar,n=Ed(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Sr({},n))};NV.isSideCarExport=!0;function MY(t,e){return t.useMedium(e),NV}var DV=DY(),My=function(){},ng=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:My,onWheelCapture:My,onTouchMoveCapture:My}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,x=t.gapMode,T=Ed(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,k=RY([n,e]),V=Sr(Sr({},T),s);return v.createElement(v.Fragment,null,d&&v.createElement(A,{sideCar:DV,removeScrollBar:c,shards:h,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Sr(Sr({},V),{ref:k})):v.createElement(_,Sr({},V,{className:l,ref:k}),a))});ng.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ng.classNames={fullWidth:Rf,zeroRight:Pf};var VY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=VY();return e&&t.setAttribute("nonce",e),t}function LY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=OY())&&(LY(e,n),jY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UY=function(){var t=FY();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MV=function(){var t=UY(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},BY={left:0,top:0,right:0,gap:0},Vy=function(t){return parseInt(t||"",10)||0},$Y=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Vy(n),Vy(r),Vy(s)]},zY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BY;var e=$Y(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},WY=MV(),Qa="data-scroll-locked",KY=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(SY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rf," .").concat(Rf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qa,`] {
    `).concat(CY,": ").concat(a,`px;
  }
`)},hC=function(){var t=parseInt(document.body.getAttribute(Qa)||"0",10);return isFinite(t)?t:0},HY=function(){v.useEffect(function(){return document.body.setAttribute(Qa,(hC()+1).toString()),function(){var t=hC()-1;t<=0?document.body.removeAttribute(Qa):document.body.setAttribute(Qa,t.toString())}},[])},GY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;HY();var i=v.useMemo(function(){return zY(s)},[s]);return v.createElement(WY,{styles:KY(i,!e,s,n?"":"!important")})},Q0=!1;if(typeof window<"u")try{var Kh=Object.defineProperty({},"passive",{get:function(){return Q0=!0,!0}});window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{Q0=!1}var fa=Q0?{passive:!1}:!1,qY=function(t){return t.tagName==="TEXTAREA"},VV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qY(t)&&n[e]==="visible")},QY=function(t){return VV(t,"overflowY")},XY=function(t){return VV(t,"overflowX")},fC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OV(t,r);if(s){var i=LV(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OV=function(t,e){return t==="v"?QY(e):XY(e)},LV=function(t,e){return t==="v"?YY(e):JY(e)},ZY=function(t,e){return t==="h"&&e==="rtl"?-1:1},eJ=function(t,e,n,r,s){var i=ZY(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var m=LV(t,a),w=m[0],y=m[1],b=m[2],_=y-b-i*w;(w||_)&&OV(t,a)&&(h+=_,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},Hh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pC=function(t){return[t.deltaX,t.deltaY]},mC=function(t){return t&&"current"in t?t.current:t},tJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rJ=0,pa=[];function sJ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(rJ++)[0],i=v.useState(MV)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=E3([t.lockRef.current],(t.shards||[]).map(mC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=Hh(y),x=n.current,T="deltaX"in y?y.deltaX:x[0]-_[0],A="deltaY"in y?y.deltaY:x[1]-_[1],k,V=y.target,S=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in y&&S==="h"&&V.type==="range")return!1;var I=fC(S,V);if(!I)return!0;if(I?k=S:(k=S==="v"?"h":"v",I=fC(S,V)),!I)return!1;if(!r.current&&"changedTouches"in y&&(T||A)&&(r.current=k),!k)return!0;var P=r.current||k;return eJ(P,b,y,P==="h"?T:A,!0)},[]),l=v.useCallback(function(y){var b=y;if(!(!pa.length||pa[pa.length-1]!==i)){var _="deltaY"in b?pC(b):Hh(b),x=e.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&tJ(k.delta,_)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(mC).filter(Boolean).filter(function(k){return k.contains(b.target)}),A=T.length>0?a(b,T[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=v.useCallback(function(y,b,_,x){var T={name:y,delta:b,target:_,should:x,shadowParent:iJ(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),d=v.useCallback(function(y){n.current=Hh(y),r.current=void 0},[]),h=v.useCallback(function(y){c(y.type,pC(y),y.target,a(y,t.lockRef.current))},[]),f=v.useCallback(function(y){c(y.type,Hh(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return pa.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,fa),document.addEventListener("touchmove",l,fa),document.addEventListener("touchstart",d,fa),function(){pa=pa.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,fa),document.removeEventListener("touchmove",l,fa),document.removeEventListener("touchstart",d,fa)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:nJ(s)}):null,m?v.createElement(GY,{gapMode:t.gapMode}):null)}function iJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oJ=MY(DV,sJ);var jV=v.forwardRef(function(t,e){return v.createElement(ng,Sr({},t,{ref:e,sideCar:oJ}))});jV.classNames=ng.classNames;var X0=["Enter"," "],aJ=["ArrowDown","PageUp","Home"],FV=["ArrowUp","PageDown","End"],lJ=[...aJ,...FV],cJ={ltr:[...X0,"ArrowRight"],rtl:[...X0,"ArrowLeft"]},uJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zd="Menu",[ud,dJ,hJ]=J_(zd),[Zo,UV]=Od(zd,[hJ,Wm,SV]),rg=Wm(),BV=SV(),[fJ,ea]=Zo(zd),[pJ,Wd]=Zo(zd),$V=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=rg(e),[l,c]=v.useState(null),d=v.useRef(!1),h=Gt(i),f=EV(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(y2,{...a,children:p.jsx(fJ,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:p.jsx(pJ,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};$V.displayName=zd;var mJ="MenuAnchor",i1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=rg(n);return p.jsx(v2,{...s,...r,ref:e})});i1.displayName=mJ;var o1="MenuPortal",[gJ,zV]=Zo(o1,{forceMount:void 0}),WV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ea(o1,e);return p.jsx(gJ,{scope:e,forceMount:n,children:p.jsx(Jo,{present:n||i.open,children:p.jsx(ex,{asChild:!0,container:s,children:r})})})};WV.displayName=o1;var qn="MenuContent",[yJ,a1]=Zo(qn),KV=v.forwardRef((t,e)=>{const n=zV(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ea(qn,t.__scopeMenu),o=Wd(qn,t.__scopeMenu);return p.jsx(ud.Provider,{scope:t.__scopeMenu,children:p.jsx(Jo,{present:r||i.open,children:p.jsx(ud.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(vJ,{...s,ref:e}):p.jsx(wJ,{...s,ref:e})})})})}),vJ=v.forwardRef((t,e)=>{const n=ea(qn,t.__scopeMenu),r=v.useRef(null),s=bt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return IY(i)},[]),p.jsx(l1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wJ=v.forwardRef((t,e)=>{const n=ea(qn,t.__scopeMenu);return p.jsx(l1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),l1=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,...y}=t,b=ea(qn,n),_=Wd(qn,n),x=rg(n),T=BV(n),A=dJ(n),[k,V]=v.useState(null),S=v.useRef(null),I=bt(e,S,b.onContentChange),P=v.useRef(0),R=v.useRef(""),D=v.useRef(0),M=v.useRef(null),N=v.useRef("right"),K=v.useRef(0),le=w?jV:v.Fragment,ne=w?{as:Cl,allowPinchZoom:!0}:void 0,te=U=>{var He,yn;const q=R.current+U,Q=A().filter(lt=>!lt.disabled),Y=document.activeElement,se=(He=Q.find(lt=>lt.ref.current===Y))==null?void 0:He.textValue,Ce=Q.map(lt=>lt.textValue),Je=kJ(Ce,q,se),ye=(yn=Q.find(lt=>lt.textValue===Je))==null?void 0:yn.ref.current;(function lt(Nt){R.current=Nt,window.clearTimeout(P.current),Nt!==""&&(P.current=window.setTimeout(()=>lt(""),1e3))})(q),ye&&setTimeout(()=>ye.focus())};v.useEffect(()=>()=>window.clearTimeout(P.current),[]),eY();const j=v.useCallback(U=>{var Q,Y;return N.current===((Q=M.current)==null?void 0:Q.side)&&DJ(U,(Y=M.current)==null?void 0:Y.area)},[]);return p.jsx(yJ,{scope:n,searchRef:R,onItemEnter:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:v.useCallback(U=>{var q;j(U)||((q=S.current)==null||q.focus(),V(null))},[j]),onTriggerLeave:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(U=>{M.current=U},[]),children:p.jsx(le,{...ne,children:p.jsx(TV,{asChild:!0,trapped:s,onMountAutoFocus:oe(i,U=>{var q;U.preventDefault(),(q=S.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(Om,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:p.jsx(_Y,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:V,onEntryFocus:oe(l,U=>{_.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(w2,{role:"menu","aria-orientation":"vertical","data-state":aO(b.open),"data-radix-menu-content":"",dir:_.dir,...x,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Y=U.ctrlKey||U.altKey||U.metaKey,se=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!Y&&se&&te(U.key));const Ce=S.current;if(U.target!==Ce||!lJ.includes(U.key))return;U.preventDefault();const ye=A().filter(He=>!He.disabled).map(He=>He.ref.current);FV.includes(U.key)&&ye.reverse(),PJ(ye)}),onBlur:oe(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:oe(t.onPointerMove,dd(U=>{const q=U.target,Q=K.current!==U.clientX;if(U.currentTarget.contains(q)&&Q){const Y=U.clientX>K.current?"right":"left";N.current=Y,K.current=U.clientX}}))})})})})})})});KV.displayName=qn;var _J="MenuGroup",c1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Se.div,{role:"group",...r,ref:e})});c1.displayName=_J;var xJ="MenuLabel",HV=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Se.div,{...r,ref:e})});HV.displayName=xJ;var Hp="MenuItem",gC="menu.itemSelect",sg=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=Wd(Hp,t.__scopeMenu),a=a1(Hp,t.__scopeMenu),l=bt(e,i),c=v.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(gC,{bubbles:!0,cancelable:!0});h.addEventListener(gC,m=>r==null?void 0:r(m),{once:!0}),Z_(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(GV,{...s,ref:l,disabled:n,onClick:oe(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:oe(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:oe(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||X0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});sg.displayName=Hp;var GV=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=a1(Hp,n),a=BV(n),l=v.useRef(null),c=bt(e,l),[d,h]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[i.children]),p.jsx(ud.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:p.jsx(xY,{asChild:!0,...a,focusable:!r,children:p.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:oe(t.onPointerMove,dd(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,dd(w=>o.onItemLeave(w))),onFocus:oe(t.onFocus,()=>h(!0)),onBlur:oe(t.onBlur,()=>h(!1))})})})}),EJ="MenuCheckboxItem",qV=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(ZV,{scope:t.__scopeMenu,checked:n,children:p.jsx(sg,{role:"menuitemcheckbox","aria-checked":Gp(n)?"mixed":n,...s,ref:e,"data-state":d1(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(Gp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});qV.displayName=EJ;var QV="MenuRadioGroup",[TJ,bJ]=Zo(QV,{value:void 0,onValueChange:()=>{}}),XV=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Gt(r);return p.jsx(TJ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:p.jsx(c1,{...s,ref:e})})});XV.displayName=QV;var YV="MenuRadioItem",JV=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=bJ(YV,t.__scopeMenu),i=n===s.value;return p.jsx(ZV,{scope:t.__scopeMenu,checked:i,children:p.jsx(sg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":d1(i),onSelect:oe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});JV.displayName=YV;var u1="MenuItemIndicator",[ZV,IJ]=Zo(u1,{checked:!1}),eO=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=IJ(u1,n);return p.jsx(Jo,{present:r||Gp(i.checked)||i.checked===!0,children:p.jsx(Se.span,{...s,ref:e,"data-state":d1(i.checked)})})});eO.displayName=u1;var SJ="MenuSeparator",tO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tO.displayName=SJ;var CJ="MenuArrow",nO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=rg(n);return p.jsx(_2,{...s,...r,ref:e})});nO.displayName=CJ;var AJ="MenuSub",[dee,rO]=Zo(AJ),$c="MenuSubTrigger",sO=v.forwardRef((t,e)=>{const n=ea($c,t.__scopeMenu),r=Wd($c,t.__scopeMenu),s=rO($c,t.__scopeMenu),i=a1($c,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(i1,{asChild:!0,...c,children:p.jsx(GV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":aO(n.open),...t,ref:Vm(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,dd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:oe(t.onPointerLeave,dd(h=>{var m,w;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const y=(w=n.content)==null?void 0:w.dataset.side,b=y==="right",_=b?-5:5,x=f[b?"left":"right"],T=f[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||cJ[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});sO.displayName=$c;var iO="MenuSubContent",oO=v.forwardRef((t,e)=>{const n=zV(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ea(qn,t.__scopeMenu),o=Wd(qn,t.__scopeMenu),a=rO(iO,t.__scopeMenu),l=v.useRef(null),c=bt(e,l);return p.jsx(ud.Provider,{scope:t.__scopeMenu,children:p.jsx(Jo,{present:r||i.open,children:p.jsx(ud.Slot,{scope:t.__scopeMenu,children:p.jsx(l1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=uJ[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});oO.displayName=iO;function aO(t){return t?"open":"closed"}function Gp(t){return t==="indeterminate"}function d1(t){return Gp(t)?"indeterminate":t?"checked":"unchecked"}function PJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function RJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function kJ(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=RJ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function NJ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function DJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return NJ(n,e)}function dd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var MJ=$V,VJ=i1,OJ=WV,LJ=KV,jJ=c1,FJ=HV,UJ=sg,BJ=qV,$J=XV,zJ=JV,WJ=eO,KJ=tO,HJ=nO,GJ=sO,qJ=oO,h1="DropdownMenu",[QJ,hee]=Od(h1,[UV]),sn=UV(),[XJ,lO]=QJ(h1),cO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=sn(e),c=v.useRef(null),[d=!1,h]=Lm({prop:s,defaultProp:i,onChange:o});return p.jsx(XJ,{scope:e,triggerId:Np(),triggerRef:c,contentId:Np(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:a,children:p.jsx(MJ,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};cO.displayName=h1;var uO="DropdownMenuTrigger",dO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=lO(uO,n),o=sn(n);return p.jsx(VJ,{asChild:!0,...o,children:p.jsx(Se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Vm(e,i.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});dO.displayName=uO;var YJ="DropdownMenuPortal",hO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=sn(e);return p.jsx(OJ,{...r,...n})};hO.displayName=YJ;var fO="DropdownMenuContent",pO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=lO(fO,n),i=sn(n),o=v.useRef(!1);return p.jsx(LJ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pO.displayName=fO;var JJ="DropdownMenuGroup",ZJ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(jJ,{...s,...r,ref:e})});ZJ.displayName=JJ;var eZ="DropdownMenuLabel",mO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(FJ,{...s,...r,ref:e})});mO.displayName=eZ;var tZ="DropdownMenuItem",gO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(UJ,{...s,...r,ref:e})});gO.displayName=tZ;var nZ="DropdownMenuCheckboxItem",yO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(BJ,{...s,...r,ref:e})});yO.displayName=nZ;var rZ="DropdownMenuRadioGroup",sZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx($J,{...s,...r,ref:e})});sZ.displayName=rZ;var iZ="DropdownMenuRadioItem",vO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(zJ,{...s,...r,ref:e})});vO.displayName=iZ;var oZ="DropdownMenuItemIndicator",wO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(WJ,{...s,...r,ref:e})});wO.displayName=oZ;var aZ="DropdownMenuSeparator",_O=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(KJ,{...s,...r,ref:e})});_O.displayName=aZ;var lZ="DropdownMenuArrow",cZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(HJ,{...s,...r,ref:e})});cZ.displayName=lZ;var uZ="DropdownMenuSubTrigger",xO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(GJ,{...s,...r,ref:e})});xO.displayName=uZ;var dZ="DropdownMenuSubContent",EO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(qJ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EO.displayName=dZ;var hZ=cO,fZ=dO,pZ=hO,TO=pO,bO=mO,IO=gO,SO=yO,CO=vO,AO=wO,PO=_O,RO=xO,kO=EO;const mZ=hZ,gZ=fZ,yZ=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>p.jsxs(RO,{ref:s,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(D8,{className:"ml-auto h-4 w-4"})]}));yZ.displayName=RO.displayName;const vZ=v.forwardRef(({className:t,...e},n)=>p.jsx(kO,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));vZ.displayName=kO.displayName;const NO=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(pZ,{children:p.jsx(TO,{ref:r,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));NO.displayName=TO.displayName;const DO=v.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(IO,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));DO.displayName=IO.displayName;const wZ=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>p.jsxs(SO,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(AO,{children:p.jsx(k8,{className:"h-4 w-4"})})}),e]}));wZ.displayName=SO.displayName;const _Z=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(CO,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(AO,{children:p.jsx(O8,{className:"h-2 w-2 fill-current"})})}),e]}));_Z.displayName=CO.displayName;const xZ=v.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(bO,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));xZ.displayName=bO.displayName;const EZ=v.forwardRef(({className:t,...e},n)=>p.jsx(PO,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));EZ.displayName=PO.displayName;const TZ=({activeFilter:t,activeSort:e,onFilterChange:n,onSortChange:r,questionCount:s})=>{const i=[{key:"newest",label:"Newest",icon:ox,description:"Most recently asked"},{key:"trending",label:"Trending",icon:g0,description:"Hot questions"},{key:"unanswered",label:"Unanswered",icon:L8,description:"No answers yet"},{key:"solved",label:"Solved",icon:UD,description:"Has accepted answer"}],o=[{key:"newest",label:"Newest first"},{key:"oldest",label:"Oldest first"},{key:"most-votes",label:"Most votes"},{key:"most-answers",label:"Most answers"},{key:"most-views",label:"Most views"}];return p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("h2",{className:"text-xl font-semibold",children:["Questions",p.jsx(Es,{variant:"secondary",className:"ml-2",children:s.toLocaleString()})]})}),p.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[p.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2 sm:pb-0",children:i.map(a=>{const l=a.icon,c=t===a.key;return p.jsxs(Pe,{variant:c?"default":"outline",size:"sm",onClick:()=>n(a.key),className:`flex items-center space-x-2 whitespace-nowrap transition-all ${c?"bg-gradient-primary glow-primary scale-105":"hover:bg-primary/10 hover:text-primary hover:scale-105"}`,children:[p.jsx(l,{className:"w-4 h-4"}),p.jsx("span",{children:a.label})]},a.key)})}),p.jsxs(mZ,{children:[p.jsx(gZ,{asChild:!0,children:p.jsxs(Pe,{variant:"outline",size:"sm",className:"flex items-center space-x-2 hover:bg-primary/10",children:[p.jsx(P8,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Sort"}),p.jsx(N8,{className:"w-4 h-4"})]})}),p.jsx(NO,{className:"glass-strong min-w-[180px]",align:"end",children:o.map(a=>p.jsxs(DO,{className:`hover:bg-primary/10 focus:bg-primary/10 cursor-pointer ${e===a.key?"bg-primary/10 text-primary":""}`,onClick:()=>r(a.key),children:[a.label,e===a.key&&p.jsx("span",{className:"ml-auto",children:""})]},a.key))})]})]})]})},bZ=()=>{const[t,e]=v.useState(null),n=[{name:"JavaScript",count:1240,trending:!0,color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",change:12.5,direction:"up"},{name:"React",count:856,trending:!0,color:"bg-blue-500/20 text-blue-400 border-blue-500/30",change:8.2,direction:"up"},{name:"TypeScript",count:734,trending:!0,color:"bg-blue-600/20 text-blue-300 border-blue-600/30",change:15.7,direction:"up"},{name:"Python",count:623,trending:!1,color:"bg-green-500/20 text-green-400 border-green-500/30",change:-2.1,direction:"down"},{name:"Node.js",count:456,trending:!0,color:"bg-green-600/20 text-green-300 border-green-600/30",change:6.3,direction:"up"},{name:"CSS",count:389,trending:!1,color:"bg-purple-500/20 text-purple-400 border-purple-500/30",change:.5,direction:"stable"},{name:"HTML",count:345,trending:!1,color:"bg-orange-500/20 text-orange-400 border-orange-500/30",change:-1.2,direction:"down"},{name:"Vue.js",count:234,trending:!0,color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",change:9.8,direction:"up"},{name:"SQL",count:198,trending:!1,color:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",change:-3.4,direction:"down"},{name:"Next.js",count:167,trending:!0,color:"bg-gray-500/20 text-gray-300 border-gray-500/30",change:18.9,direction:"up"}];return p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsx(Wn,{className:"pb-4",children:p.jsxs(Di,{className:"flex items-center space-x-2 text-lg",children:[p.jsx(g0,{className:"w-5 h-5 text-primary"}),p.jsx("span",{children:"Trending Tags"})]})}),p.jsxs(un,{className:"space-y-3",children:[n.map((r,s)=>p.jsxs(fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-center justify-between group cursor-pointer",onClick:()=>e(t===r.name?null:r.name),children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsxs("div",{className:"relative",children:[p.jsx(fn.div,{animate:r.trending?{boxShadow:["0 0 0 rgba(59, 130, 246, 0)","0 0 15px rgba(59, 130, 246, 0.4)","0 0 0 rgba(59, 130, 246, 0)"]}:{},transition:{duration:2,repeat:1/0,repeatDelay:1},children:p.jsxs(Es,{variant:"outline",className:`${r.color} transition-all duration-300 group-hover:scale-110 ${t===r.name?"scale-110 glow-primary":""}`,children:[p.jsx(m0,{className:"w-3 h-3 mr-1"}),r.name]})}),r.trending&&p.jsx(fn.div,{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0}})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:r.count.toLocaleString()}),p.jsxs("div",{className:"flex items-center space-x-1",children:[r.direction==="up"&&p.jsx(kp,{className:"w-3 h-3 text-green-400"}),r.direction==="down"&&p.jsx(Rp,{className:"w-3 h-3 text-red-400"}),r.direction==="stable"&&p.jsx(R8,{className:"w-3 h-3 text-gray-400"}),p.jsxs("span",{className:`text-xs ${r.direction==="up"?"text-green-400":r.direction==="down"?"text-red-400":"text-gray-400"}`,children:[r.direction==="up"?"+":"",r.change,"%"]})]})]})]}),r.trending&&p.jsx(fn.div,{animate:{rotate:[0,10,0]},transition:{duration:2,repeat:1/0},children:p.jsx(g0,{className:"w-4 h-4 text-destructive"})})]},r.name)),p.jsx("div",{className:"pt-4 border-t border-border/50",children:p.jsxs(Pe,{variant:"ghost",className:"w-full text-sm text-muted-foreground hover:text-primary transition-colors",children:[p.jsx(cx,{className:"w-4 h-4 mr-2"}),"View all tags"]})})]})]})},IZ=()=>{const[t,e]=v.useState({questions:0,answers:0,users:0,badges:0}),n=[{label:"Questions",value:12543,icon:p.jsx(V8,{className:"w-5 h-5"}),color:"text-blue-400"},{label:"Answers",value:34521,icon:p.jsx(ax,{className:"w-5 h-5"}),color:"text-green-400"},{label:"Users",value:8967,icon:p.jsx(G8,{className:"w-5 h-5"}),color:"text-purple-400"},{label:"Badges Earned",value:15234,icon:p.jsx(ix,{className:"w-5 h-5"}),color:"text-yellow-400"}];v.useEffect(()=>{const o=setTimeout(()=>{n.forEach((a,l)=>{const d=a.value/125;let h=0;const f=setInterval(()=>{h+=d,h>=a.value&&(h=a.value,clearInterval(f)),e(m=>({...m,[a.label.toLowerCase().replace(" ","").replace(" earned","")]:Math.floor(h)}))},16);setTimeout(()=>clearInterval(f),2100)})},500);return()=>clearTimeout(o)},[]);const r=i=>i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toLocaleString(),s=i=>{const o=i.toLowerCase().replace(" ","").replace(" earned","");return t[o]||0};return p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx(Di,{className:"flex items-center space-x-2",children:p.jsx("span",{children:"Community Stats"})})}),p.jsx(un,{children:p.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map((i,o)=>p.jsxs(fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"text-center p-4 rounded-lg bg-background/30 border border-border/50 hover:bg-background/50 transition-all duration-300",children:[p.jsx(fn.div,{className:`${i.color} mx-auto mb-2`,whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:i.icon}),p.jsx(fn.div,{className:"text-2xl font-bold gradient-text",initial:{scale:.5},animate:{scale:1},transition:{delay:o*.2,type:"spring",stiffness:200},children:r(s(i.label))}),p.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.label})]},i.label))})})]})},Oy=[{id:"1",title:"How to join 2 columns in a data set to make a separate column in SQL",content:"I do not know the code for it as I am a beginner. As an example what I need to do is like there is a column 1 containing First name, and column 2 consists of last name I want a column to combine both of them.",tags:["sql","database","mysql"],author:{name:"John Doe",avatar:"https://github.com/shadcn.png",reputation:1250},stats:{votes:5,answers:3,views:127},createdAt:"2025-01-12T10:30:00Z",hasAcceptedAnswer:!0},{id:"2",title:"React useEffect dependency array best practices",content:"What are the best practices for managing dependency arrays in React useEffect hooks? I keep running into infinite re-render issues.",tags:["react","javascript","hooks"],author:{name:"Sarah Wilson",avatar:"",reputation:2890},stats:{votes:12,answers:7,views:342},createdAt:"2025-01-12T08:15:00Z",hasAcceptedAnswer:!1},{id:"3",title:"TypeScript generic constraints with conditional types",content:"I am trying to create a utility type that constrains generics based on certain conditions but I am having trouble with the syntax.",tags:["typescript","generics","types"],author:{name:"Mike Johnson",avatar:"",reputation:5420},stats:{votes:8,answers:2,views:89},createdAt:"2025-01-12T07:45:00Z",hasAcceptedAnswer:!1},{id:"4",title:"How to optimize Python pandas performance for large datasets",content:"Working with a 10GB CSV file and pandas is extremely slow. What are the best strategies for optimizing performance?",tags:["python","pandas","performance"],author:{name:"Alice Brown",avatar:"",reputation:3210},stats:{votes:15,answers:9,views:567},createdAt:"2025-01-11T16:20:00Z",hasAcceptedAnswer:!0},{id:"5",title:"CSS Grid vs Flexbox: When to use which?",content:"I am confused about when to use CSS Grid versus Flexbox. Can someone explain the key differences and use cases?",tags:["css","grid","flexbox"],author:{name:"David Lee",avatar:"",reputation:1890},stats:{votes:22,answers:11,views:1230},createdAt:"2025-01-11T14:10:00Z",hasAcceptedAnswer:!0}],SZ=()=>{const[t,e]=v.useState(Oy),[n,r]=v.useState("newest"),[s,i]=v.useState("newest"),[o,a]=v.useState(!0),{user:l}=Wi(),c=ji();v.useEffect(()=>{document.title="StackIt"},[]);const d=()=>{r("newest"),i("newest"),h("newest","newest")},h=(b,_)=>{let x=[...Oy];switch(b){case"trending":x=[...x].sort((T,A)=>A.stats.views-T.stats.views);break;case"unanswered":x=x.filter(T=>!T.hasAcceptedAnswer);break;case"solved":x=x.filter(T=>T.hasAcceptedAnswer);break;default:x=[...x]}x.sort((T,A)=>{switch(_){case"newest":return new Date(A.createdAt).getTime()-new Date(T.createdAt).getTime();case"oldest":return new Date(T.createdAt).getTime()-new Date(A.createdAt).getTime();case"most-votes":return A.stats.votes-T.stats.votes;case"most-answers":return A.stats.answers-T.stats.answers;case"most-views":return A.stats.views-T.stats.views;default:return 0}}),e(x)},f=b=>{r(b),h(b,s)},m=b=>{i(b),h(n,b)},w=(b,_)=>{if(!l){c("/login",{state:{from:window.location.pathname}});return}e(x=>x.map(T=>T.id===b?{...T,stats:{...T.stats,votes:_==="up"?T.stats.votes+1:T.stats.votes-1}}:T))},y=b=>{const _=Oy.filter(x=>x.tags.includes(b.toLowerCase()));e(_),r("custom")};return v.useEffect(()=>{const b=setTimeout(()=>{a(!1),h("newest","newest")},1e3);return()=>clearTimeout(b)},[]),o?p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ld,{loading:!0}),p.jsx(cd,{}),p.jsx("div",{className:"pt-24 flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading awesome questions..."})]})})]}):p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ld,{loading:o}),p.jsx(cd,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:p.jsx("span",{className:"gradient-text",children:"Welcome to StackIt"})}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our community of developers, share knowledge, and get answers to your questions."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l?null:p.jsxs(Pe,{size:"lg",className:"bg-gradient-primary glow-hover transition-spring",onClick:()=>c("/login",{state:{from:"/ask"}}),children:[p.jsx(lx,{className:"w-5 h-5 mr-2"}),"Ask Your First Question"]}),p.jsx(Pe,{variant:"outline",size:"lg",className:"glass transition-spring",onClick:d,children:"Browse Questions"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3",children:[p.jsx(TZ,{activeFilter:n,activeSort:s,onFilterChange:f,onSortChange:m,questionCount:t.length}),p.jsx("div",{className:"space-y-6",children:t.map((b,_)=>p.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${_*.1}s`},children:p.jsx(JX,{question:b,onVote:w,onTagClick:y})},b.id))}),p.jsx("div",{className:"text-center mt-12",children:p.jsx(Pe,{variant:"outline",className:"glass hover:scale-105 transition-spring",onClick:d,children:"Reset Filters"})})]}),p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[p.jsx(IZ,{}),p.jsx(bZ,{onTagClick:y})]})]})]})})]})},f1=v.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));f1.displayName="Textarea";var CZ="Label",MO=v.forwardRef((t,e)=>p.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MO.displayName=CZ;var VO=MO;const AZ=Ld("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kf=v.forwardRef(({className:t,...e},n)=>p.jsx(VO,{ref:n,className:Ee(AZ(),t),...e}));kf.displayName=VO.displayName;const PZ=Ld("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),OO=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:Ee(PZ({variant:e}),t),...n}));OO.displayName="Alert";const RZ=v.forwardRef(({className:t,...e},n)=>p.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));RZ.displayName="AlertTitle";const LO=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));LO.displayName="AlertDescription";const kZ=()=>{const t=ji(),{user:e}=Wi();if(v.useEffect(()=>{e||t("/login",{state:{from:"/ask"}})},[e,t]),!e)return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ld,{}),p.jsx(cd,{}),p.jsx("div",{className:"pt-24 flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Redirecting to login..."})]})})]});const[n,r]=v.useState(!1),[s,i]=v.useState({title:"",content:"",tags:[]}),[o,a]=v.useState(""),[l,c]=v.useState({}),d=["javascript","react","typescript","python","css","html","node.js","sql","git","mongodb","express","vue.js"],h=(_,x)=>{i(T=>({...T,[_]:x})),l[_]&&c(T=>({...T,[_]:""}))},f=_=>{const x=_.toLowerCase().trim();x&&!s.tags.includes(x)&&s.tags.length<5&&(i(T=>({...T,tags:[...T.tags,x]})),a(""))},m=_=>{i(x=>({...x,tags:x.tags.filter(T=>T!==_)}))},w=_=>{(_.key==="Enter"||_.key===",")&&(_.preventDefault(),f(o))},y=()=>{const _={};return s.title.trim()?s.title.length<10&&(_.title="Title must be at least 10 characters"):_.title="Title is required",s.content.trim()?s.content.length<30&&(_.content="Description must be at least 30 characters"):_.content="Description is required",s.tags.length===0&&(_.tags="At least one tag is required"),c(_),Object.keys(_).length===0},b=async _=>{_.preventDefault(),y()&&(r(!0),setTimeout(()=>{console.log("Question submitted:",s),r(!1),t("/")},2e3))};return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ld,{}),p.jsx(cd,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs(Bt,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow transition-colors mb-4",children:[p.jsx(sx,{className:"w-4 h-4 mr-2"}),"Back to Questions"]}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Ask a Question"}),p.jsx("p",{className:"text-muted-foreground",children:"Get help from our community of developers. Be specific and provide details."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsxs(Di,{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:p.jsx(lx,{className:"w-4 h-4 text-white"})}),p.jsx("span",{children:"Your Question"})]})}),p.jsx(un,{children:p.jsxs("form",{onSubmit:b,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(kf,{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),p.jsx(Lr,{id:"title",placeholder:"What's your programming question? Be specific.",value:s.title,onChange:_=>h("title",_.target.value),className:`transition-all ${l.title?"border-destructive focus:border-destructive":""}`}),l.title&&p.jsx("p",{className:"text-sm text-destructive",children:l.title}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.title.length,"/150 characters"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(kf,{htmlFor:"content",className:"text-sm font-medium",children:"Description *"}),p.jsx(f1,{id:"content",placeholder:"Describe your problem in detail. Include what you've tried and what specific help you need.",value:s.content,onChange:_=>h("content",_.target.value),className:`min-h-[200px] transition-all ${l.content?"border-destructive focus:border-destructive":""}`}),l.content&&p.jsx("p",{className:"text-sm text-destructive",children:l.content}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.content.length," characters (minimum 30)"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(kf,{htmlFor:"tags",className:"text-sm font-medium",children:"Tags * (max 5)"}),s.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.tags.map(_=>p.jsxs(Es,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20 hover:bg-primary/20 transition-colors",children:[p.jsx(m0,{className:"w-3 h-3 mr-1"}),_,p.jsx("button",{type:"button",onClick:()=>m(_),className:"ml-2 hover:text-destructive transition-colors",children:p.jsx(dx,{className:"w-3 h-3"})})]},_))}),p.jsx(Lr,{id:"tags",placeholder:"Add tags (press Enter or comma to add)",value:o,onChange:_=>a(_.target.value),onKeyDown:w,disabled:s.tags.length>=5,className:`transition-all ${l.tags?"border-destructive focus:border-destructive":""}`}),l.tags&&p.jsx("p",{className:"text-sm text-destructive",children:l.tags}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested tags:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.filter(_=>!s.tags.includes(_)).slice(0,8).map(_=>p.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>f(_),disabled:s.tags.length>=5,className:"text-xs hover:bg-primary/10 hover:text-primary transition-colors",children:[p.jsx(m0,{className:"w-3 h-3 mr-1"}),_]},_))})]})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:n,children:"Cancel"}),p.jsx(Pe,{type:"submit",disabled:n,className:"bg-gradient-primary glow-hover transition-all",children:n?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Posting..."]}):p.jsxs(p.Fragment,{children:[p.jsx($8,{className:"w-4 h-4 mr-2"}),"Post Question"]})})]})]})})]})}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsx(Wn,{children:p.jsx(Di,{className:"text-lg",children:"Writing Tips"})}),p.jsxs(un,{className:"space-y-4",children:[p.jsxs(OO,{children:[p.jsx(M8,{className:"h-4 w-4"}),p.jsxs(LO,{className:"text-sm",children:[p.jsx("strong",{children:"Be specific:"})," Include error messages, code snippets, and expected vs actual behavior."]})]}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Good question includes:"}),p.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[p.jsx("li",{children:" Clear, specific title"}),p.jsx("li",{children:" What you're trying to do"}),p.jsx("li",{children:" What you've tried"}),p.jsx("li",{children:" Expected vs actual results"}),p.jsx("li",{children:" Relevant code snippets"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Choose tags wisely:"}),p.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[p.jsx("li",{children:" Use specific technology names"}),p.jsx("li",{children:" Include programming language"}),p.jsx("li",{children:" Add framework if relevant"}),p.jsx("li",{children:" Max 5 tags for focus"})]})]})]})]})]})})]})]})})]})};var NZ="Separator",yC="horizontal",DZ=["horizontal","vertical"],jO=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=yC,...s}=t,i=MZ(r)?r:yC,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(Se.div,{"data-orientation":i,...a,...s,ref:e})});jO.displayName=NZ;function MZ(t){return DZ.includes(t)}var FO=jO;const Y0=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>p.jsx(FO,{ref:s,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Y0.displayName=FO.displayName;const VZ=()=>{const{id:t}=gF(),[e,n]=v.useState(null),[r,s]=v.useState(!1),[i,o]=v.useState(""),a={id:t||"1",title:"How to join 2 columns in a data set to make a separate column in SQL",content:`I do not know the code for it as I am a beginner. As an example what I need to do is like there is a column 1 containing First name, and column 2 consists of last name I want a column to combine both of them.

Here's what I have so far:

\`\`\`sql
SELECT first_name, last_name 
FROM users;
\`\`\`

But I need a way to combine these into a single column called "full_name". I've tried a few things but keep getting syntax errors. Any help would be appreciated!`,tags:["sql","database","mysql","concatenation"],author:{name:"John Doe",avatar:"https://github.com/shadcn.png",reputation:1250,badges:["bronze","silver"]},stats:{votes:5,views:127,bookmarks:3},createdAt:"2025-01-12T10:30:00Z",lastActivity:"2025-01-12T14:15:00Z"},l=[{id:"1",content:"You can use the `CONCAT()` function to combine columns in SQL. Here's how:\n\n```sql\nSELECT \n    first_name,\n    last_name,\n    CONCAT(first_name, ' ', last_name) AS full_name\nFROM users;\n```\n\nThis will create a new column called `full_name` that combines the first and last name with a space in between.\n\nAlternative approaches:\n- Use the `||` operator (PostgreSQL, SQLite): `first_name || ' ' || last_name`\n- Use the `+` operator (SQL Server): `first_name + ' ' + last_name`\n\nThe `CONCAT()` function is more portable across different database systems.",author:{name:"Sarah Wilson",avatar:"",reputation:2890,badges:["gold","silver","bronze"]},stats:{votes:8},createdAt:"2025-01-12T11:45:00Z",isAccepted:!0},{id:"2",content:"Another approach using `CONCAT_WS()` (concat with separator):\n\n```sql\nSELECT \n    CONCAT_WS(' ', first_name, last_name) AS full_name\nFROM users;\n```\n\nThis is especially useful when some values might be NULL, as `CONCAT_WS()` ignores NULL values.",author:{name:"Mike Johnson",avatar:"",reputation:5420,badges:["gold"]},stats:{votes:3},createdAt:"2025-01-12T12:20:00Z",isAccepted:!1}],c=d=>{const h=new Date(d),m=new Date().getTime()-h.getTime(),w=Math.floor(m/(1e3*60*60)),y=Math.floor(w/24);return y>0?`${y}d ago`:w>0?`${w}h ago`:"Just now"};return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ld,{}),p.jsx(cd,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[p.jsxs(Bt,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow transition-colors mb-6",children:[p.jsx(sx,{className:"w-4 h-4 mr-2"}),"Back to Questions"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs(cn,{className:"glass-strong",children:[p.jsxs(Wn,{className:"pb-4",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold leading-tight pr-4",children:a.title}),p.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:r?"text-warning":"",children:p.jsx(bI,{className:`w-4 h-4 ${r?"fill-current":""}`})}),p.jsx(Pe,{variant:"ghost",size:"sm",children:p.jsx(z8,{className:"w-4 h-4"})}),p.jsx(Pe,{variant:"ghost",size:"sm",children:p.jsx(j8,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(ox,{className:"w-4 h-4"}),p.jsxs("span",{children:["Asked ",c(a.createdAt)]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx($D,{className:"w-4 h-4"}),p.jsxs("span",{children:[a.stats.views," views"]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(ax,{className:"w-4 h-4"}),p.jsxs("span",{children:[l.length," answers"]})]})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(d=>p.jsxs(Es,{variant:"secondary",className:"hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",children:[p.jsx(cx,{className:"w-3 h-3 mr-1"}),d]},d))})]}),p.jsx(un,{children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-3 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>n(e==="up"?null:"up"),className:`p-2 ${e==="up"?"text-success bg-success/10":"hover:text-success"}`,children:p.jsx(kp,{className:"w-6 h-6"})}),p.jsx("span",{className:"font-bold text-xl text-success",children:a.stats.votes}),p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>n(e==="down"?null:"down"),className:`p-2 ${e==="down"?"text-destructive bg-destructive/10":"hover:text-destructive"}`,children:p.jsx(Rp,{className:"w-6 h-6"})}),p.jsx(Y0,{className:"w-8"}),p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:`p-2 ${r?"text-warning":"hover:text-warning"}`,children:p.jsx(bI,{className:`w-5 h-5 ${r?"fill-current":""}`})}),p.jsx("span",{className:"text-sm text-muted-foreground",children:a.stats.bookmarks})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-foreground",children:a.content})}),p.jsx("div",{className:"flex justify-end mt-8",children:p.jsxs("div",{className:"glass rounded-lg p-4 max-w-sm",children:[p.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["asked ",c(a.createdAt)]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Nl,{className:"w-10 h-10",children:[p.jsx(Dl,{src:a.author.avatar}),p.jsx(Ml,{children:a.author.name[0]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:a.author.name}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.author.reputation.toLocaleString()," reputation"]})]})]})]})})]})]})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h2",{className:"text-2xl font-bold",children:[l.length," Answer",l.length!==1?"s":""]}),l.map(d=>p.jsx(cn,{className:`glass-strong ${d.isAccepted?"ring-2 ring-success/50":""}`,children:p.jsx(un,{className:"p-6",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-3 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",className:"p-2 hover:text-success",children:p.jsx(kp,{className:"w-6 h-6"})}),p.jsx("span",{className:`font-bold text-xl ${d.stats.votes>0?"text-success":""}`,children:d.stats.votes}),p.jsx(Pe,{variant:"ghost",size:"sm",className:"p-2 hover:text-destructive",children:p.jsx(Rp,{className:"w-6 h-6"})}),d.isAccepted&&p.jsxs(p.Fragment,{children:[p.jsx(Y0,{className:"w-8"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(UD,{className:"w-8 h-8 text-success fill-current"}),p.jsx("span",{className:"text-xs text-success font-medium mt-1",children:"Accepted"})]})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-foreground",children:d.content})}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsxs("div",{className:"glass rounded-lg p-4 max-w-sm",children:[p.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["answered ",c(d.createdAt)]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(Nl,{className:"w-10 h-10",children:[p.jsx(Dl,{src:d.author.avatar}),p.jsx(Ml,{children:d.author.name[0]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"font-medium",children:d.author.name}),d.author.badges.includes("gold")&&p.jsx(BD,{className:"w-4 h-4 text-yellow-500"})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.author.reputation.toLocaleString()," reputation"]})]})]})]})})]})]})})},d.id))]}),p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx("h3",{className:"text-xl font-semibold",children:"Your Answer"})}),p.jsx(un,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(f1,{placeholder:"Write your answer here... Use code blocks with ``` for code snippets.",value:i,onChange:d=>o(d.target.value),className:"min-h-[200px]"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," characters (minimum 30)"]}),p.jsx(Pe,{disabled:i.length<30,className:"bg-gradient-primary glow-hover",children:"Post Your Answer"})]})]})})]})]}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs("div",{className:"space-y-6 sticky top-24",children:[p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx("h3",{className:"font-semibold",children:"Question Stats"})}),p.jsxs(un,{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Asked"}),p.jsx("span",{children:c(a.createdAt)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Viewed"}),p.jsxs("span",{children:[a.stats.views," times"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Active"}),p.jsx("span",{children:c(a.lastActivity)})]})]})]}),p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx("h3",{className:"font-semibold",children:"Related Questions"})}),p.jsx(un,{className:"space-y-3",children:["How to concatenate strings in MySQL?","SQL CONCAT vs CONCAT_WS differences","Handling NULL values in string concatenation"].map((d,h)=>p.jsx(Bt,{to:"#",className:"block text-sm hover:text-primary transition-colors",children:d},h))})]})]})})]})]})})]})},OZ=()=>{var w,y,b;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),l=ji(),c=bs(),{user:d}=Wi(),h=((y=(w=c.state)==null?void 0:w.from)==null?void 0:y.pathname)||"/";v.useEffect(()=>{d&&l(h,{replace:!0})},[d,l,h]);const f=async _=>{_.preventDefault(),a(!0),i("");try{await qX(t,n),l(h,{replace:!0})}catch{i("Failed to login. Please check your credentials.")}finally{a(!1)}},m=async()=>{a(!0),i("");try{await QX(),l(h,{replace:!0})}catch{i("Failed to login with Google. Please try again.")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 glass rounded-lg",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Welcome back"}),p.jsx("p",{className:"text-muted-foreground",children:"Login to continue to StackIt"})]}),s&&p.jsx("div",{className:"p-4 text-sm text-destructive bg-destructive/10 rounded-lg",children:s}),p.jsxs("form",{className:"space-y-4",onSubmit:f,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),p.jsx(Lr,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:_=>e(_.target.value),required:!0,disabled:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),p.jsx(Lr,{id:"password",type:"password",placeholder:"",value:n,onChange:_=>r(_.target.value),required:!0,disabled:o})]}),p.jsx(Pe,{type:"submit",className:"w-full",disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-border"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),p.jsx(Pe,{variant:"outline",className:"w-full",onClick:m,disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin mr-2"}),"Logging in..."]}):"Google"}),p.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",p.jsx(Bt,{to:"/register",state:{from:(b=c.state)==null?void 0:b.from},className:"text-primary hover:underline",children:"Register here"})]}),p.jsx("div",{className:"text-center text-sm text-muted-foreground",children:p.jsx(Bt,{to:"/forgot-password",className:"hover:underline",children:"Forgot password?"})})]})})},LZ=()=>{var m,w;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),l=ji(),c=bs(),{user:d}=Wi(),h=((w=(m=c.state)==null?void 0:m.from)==null?void 0:w.pathname)||"/",f=async y=>{y.preventDefault();try{const b=await XX(t,n);await Rz(b.user.uid,{displayName:s,email:t,createdAt:new Date().toISOString()}),l(h,{replace:!0})}catch(b){a("Registration failed. "+b.message)}};return d?(l(h,{replace:!0}),null):p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 glass rounded-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-center",children:"Create Account"}),o&&p.jsx("div",{className:"text-red-500 text-center",children:o}),p.jsxs("form",{className:"space-y-6",onSubmit:f,children:[p.jsx(Lr,{type:"text",placeholder:"Display Name",value:s,onChange:y=>i(y.target.value),required:!0}),p.jsx(Lr,{type:"email",placeholder:"Email",value:t,onChange:y=>e(y.target.value),required:!0}),p.jsx(Lr,{type:"password",placeholder:"Password",value:n,onChange:y=>r(y.target.value),required:!0,minLength:6}),p.jsx(Pe,{type:"submit",className:"w-full",children:"Register"})]}),p.jsxs("div",{className:"text-center text-sm",children:["Already have an account? ",p.jsx(Bt,{to:"/login",className:"text-primary",children:"Login here"})]})]})})};function jZ(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FZ(s,...e)]}function FZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var p1="Progress",m1=100,[UZ,fee]=jZ(p1),[BZ,$Z]=UZ(p1),UO=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=zZ,...o}=t;(s||s===0)&&!vC(s)&&console.error(WZ(`${s}`,"Progress"));const a=vC(s)?s:m1;r!==null&&!wC(r,a)&&console.error(KZ(`${r}`,"Progress"));const l=wC(r,a)?r:null,c=qp(l)?i(l,a):void 0;return p.jsx(BZ,{scope:n,value:l,max:a,children:p.jsx(Se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":qp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":zO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});UO.displayName=p1;var BO="ProgressIndicator",$O=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=$Z(BO,n);return p.jsx(Se.div,{"data-state":zO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});$O.displayName=BO;function zZ(t,e){return`${Math.round(t/e*100)}%`}function zO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function qp(t){return typeof t=="number"}function vC(t){return qp(t)&&!isNaN(t)&&t>0}function wC(t,e){return qp(t)&&!isNaN(t)&&t<=e&&t>=0}function WZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${m1}\`.`}function KZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${m1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WO=UO,HZ=$O;const J0=v.forwardRef(({className:t,value:e,...n},r)=>p.jsx(WO,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(HZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));J0.displayName=WO.displayName;const GZ=()=>{const[t]=v.useState(2350),[e]=v.useState(3e3),n=[{id:"1",name:"First Answer",description:"Posted your first answer",icon:p.jsx(K8,{className:"w-4 h-4"}),earned:!0,rarity:"common",xp:50},{id:"2",name:"Helper",description:"Answer 50 questions",icon:p.jsx(q8,{className:"w-4 h-4"}),earned:!0,progress:45,maxProgress:50,rarity:"rare",xp:200},{id:"3",name:"Expert",description:"Get 100 upvotes on answers",icon:p.jsx(W8,{className:"w-4 h-4"}),earned:!1,progress:67,maxProgress:100,rarity:"epic",xp:500},{id:"4",name:"Legend",description:"Reach 10K reputation",icon:p.jsx(BD,{className:"w-4 h-4"}),earned:!1,progress:2350,maxProgress:1e4,rarity:"legendary",xp:1e3},{id:"5",name:"Mentor",description:"Help 25 new users",icon:p.jsx(H8,{className:"w-4 h-4"}),earned:!1,progress:12,maxProgress:25,rarity:"epic",xp:300}],r=i=>{switch(i){case"common":return"border-gray-400 text-gray-400";case"rare":return"border-blue-400 text-blue-400";case"epic":return"border-purple-400 text-purple-400";case"legendary":return"border-yellow-400 text-yellow-400";default:return"border-gray-400 text-gray-400"}},s=i=>{switch(i){case"common":return"hover:shadow-gray-400/20";case"rare":return"hover:shadow-blue-400/20";case"epic":return"hover:shadow-purple-400/20";case"legendary":return"hover:shadow-yellow-400/20";default:return"hover:shadow-gray-400/20"}};return p.jsx(Lp,{children:p.jsxs(cn,{className:"glass-strong",children:[p.jsxs(Wn,{children:[p.jsxs(Di,{className:"flex items-center space-x-2",children:[p.jsx(ix,{className:"w-5 h-5 text-primary"}),p.jsx("span",{children:"Your Badges"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Level Progress"}),p.jsxs("span",{className:"text-primary font-medium",children:[t," / ",e," XP"]})]}),p.jsx(J0,{value:t/e*100,className:"h-2"})]})]}),p.jsx(un,{className:"space-y-3",children:n.map((i,o)=>p.jsxs(I0,{children:[p.jsx(S0,{asChild:!0,children:p.jsx(fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:`p-3 rounded-lg border transition-all duration-300 cursor-pointer ${i.earned?`${r(i.rarity)} bg-background/50 ${s(i.rarity)} hover:shadow-lg`:"border-border/50 bg-background/20 opacity-60 hover:opacity-80"}`,children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(fn.div,{className:`p-2 rounded-full border ${r(i.rarity)} ${i.earned?"bg-background/50":"bg-background/20"}`,animate:i.earned?{boxShadow:["0 0 0 rgba(59, 130, 246, 0)","0 0 20px rgba(59, 130, 246, 0.3)","0 0 0 rgba(59, 130, 246, 0)"]}:{},transition:{duration:2,repeat:1/0,repeatDelay:1},children:i.icon}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h4",{className:"font-medium",children:i.name}),p.jsx(Es,{variant:"outline",className:`text-xs ${r(i.rarity)}`,children:i.rarity}),i.earned&&p.jsxs(Es,{variant:"outline",className:"text-xs text-green-400 border-green-400",children:["+",i.xp," XP"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),i.progress!==void 0&&i.maxProgress&&p.jsxs("div",{className:"mt-2 space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsx("span",{className:"text-muted-foreground",children:"Progress"}),p.jsxs("span",{className:"text-primary",children:[i.progress,"/",i.maxProgress]})]}),p.jsx(J0,{value:i.progress/i.maxProgress*100,className:"h-1"})]})]})]})})}),p.jsx(jp,{children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-medium",children:i.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),i.progress!==void 0&&i.maxProgress&&p.jsxs("p",{className:"text-sm text-primary mt-1",children:[i.progress,"/",i.maxProgress," completed"]}),p.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["+",i.xp," XP"]})]})})]},i.id))})]})})},qZ=()=>{var e;const{user:t}=Wi();return p.jsx("div",{className:"min-h-screen animated-bg",children:p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs(Bt,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow mb-6",children:[p.jsx(sx,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsxs(Wn,{className:"items-center",children:[p.jsxs(Nl,{className:"w-24 h-24 mb-4",children:[p.jsx(Dl,{src:(t==null?void 0:t.photoURL)||""}),p.jsx(Ml,{children:((e=t==null?void 0:t.displayName)==null?void 0:e.charAt(0))||"U"})]}),p.jsx(Di,{className:"text-center",children:(t==null?void 0:t.displayName)||"Anonymous User"}),p.jsx("p",{className:"text-muted-foreground text-center",children:t==null?void 0:t.email})]}),p.jsx(un,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Reputation"}),p.jsx("span",{className:"font-medium",children:"1,250"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Questions"}),p.jsx("span",{className:"font-medium",children:"12"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Answers"}),p.jsx("span",{className:"font-medium",children:"34"})]})]})})]})}),p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsx(GZ,{})})]})]})})})},QZ=()=>{const t=bs();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},XZ=()=>{const{user:t,loading:e}=Wi();return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?p.jsx(RF,{}):p.jsx(PF,{to:"/login",replace:!0})},YZ=new tH,JZ=()=>p.jsx(rH,{client:YZ,children:p.jsx(fD,{children:p.jsxs(Lp,{children:[p.jsx(R7,{}),p.jsx(iW,{}),p.jsx(jF,{children:p.jsxs(kF,{children:[p.jsx(Yr,{path:"/",element:p.jsx(SZ,{})}),p.jsx(Yr,{path:"/login",element:p.jsx(OZ,{})}),p.jsx(Yr,{path:"/register",element:p.jsx(LZ,{})}),p.jsx(Yr,{path:"/question/:id",element:p.jsx(VZ,{})}),p.jsxs(Yr,{element:p.jsx(XZ,{}),children:[p.jsx(Yr,{path:"/ask",element:p.jsx(kZ,{})}),p.jsx(Yr,{path:"/profile",element:p.jsx(qZ,{})})]}),p.jsx(Yr,{path:"*",element:p.jsx(QZ,{})})]})})]})})});zP(document.getElementById("root")).render(p.jsx(FF,{children:p.jsx(fD,{children:p.jsx(JZ,{})})}));
