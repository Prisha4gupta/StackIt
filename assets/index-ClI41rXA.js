var sE=t=>{throw TypeError(t)};var vg=(t,e,n)=>e.has(t)||sE("Cannot "+n);var $=(t,e,n)=>(vg(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?sE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>(vg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(vg(t,e,"access private method"),n);var ah=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return $(t,e,r)}});function fL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function AC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PC={exports:{}},Gp={},RC={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),pL=Symbol.for("react.portal"),mL=Symbol.for("react.fragment"),gL=Symbol.for("react.strict_mode"),yL=Symbol.for("react.profiler"),vL=Symbol.for("react.provider"),wL=Symbol.for("react.context"),_L=Symbol.for("react.forward_ref"),xL=Symbol.for("react.suspense"),EL=Symbol.for("react.memo"),TL=Symbol.for("react.lazy"),iE=Symbol.iterator;function bL(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var kC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NC=Object.assign,DC={};function Ml(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||kC}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MC(){}MC.prototype=Ml.prototype;function J0(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||kC}var Z0=J0.prototype=new MC;Z0.constructor=J0;NC(Z0,Ml.prototype);Z0.isPureReactComponent=!0;var oE=Array.isArray,VC=Object.prototype.hasOwnProperty,ew={current:null},OC={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)VC.call(e,r)&&!OC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fd,type:t,key:i,ref:o,props:s,_owner:ew.current}}function IL(t,e){return{$$typeof:fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd}function SL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aE=/\/+/g;function wg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SL(""+t.key):e.toString(36)}function Hh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fd:case pL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wg(o,0):r,oE(s)?(n="",t!=null&&(n=t.replace(aE,"$&/")+"/"),Hh(s,e,n,"",function(c){return c})):s!=null&&(tw(s)&&(s=IL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wg(i,a);o+=Hh(i,e,n,l,s)}else if(l=bL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wg(i,a++),o+=Hh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lh(t,e,n){if(t==null)return t;var r=[],s=0;return Hh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Gh={transition:null},AL={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:ew};function jC(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:lh,forEach:function(t,e,n){lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lh(t,function(){e++}),e},toArray:function(t){return lh(t,function(e){return e})||[]},only:function(t){if(!tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ml;ve.Fragment=mL;ve.Profiler=yL;ve.PureComponent=J0;ve.StrictMode=gL;ve.Suspense=xL;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AL;ve.act=jC;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ew.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VC.call(e,l)&&!OC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fd,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:wL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vL,_context:t},t.Consumer=t};ve.createElement=LC;ve.createFactory=function(t){var e=LC.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:_L,render:t}};ve.isValidElement=tw;ve.lazy=function(t){return{$$typeof:TL,_payload:{_status:-1,_result:t},_init:CL}};ve.memo=function(t,e){return{$$typeof:EL,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};ve.unstable_act=jC;ve.useCallback=function(t,e){return nn.current.useCallback(t,e)};ve.useContext=function(t){return nn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return nn.current.useEffect(t,e)};ve.useId=function(){return nn.current.useId()};ve.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return nn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ve.useRef=function(t){return nn.current.useRef(t)};ve.useState=function(t){return nn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return nn.current.useTransition()};ve.version="18.3.1";RC.exports=ve;var v=RC.exports;const G=AC(v),FC=fL({__proto__:null,default:G},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=v,RL=Symbol.for("react.element"),kL=Symbol.for("react.fragment"),NL=Object.prototype.hasOwnProperty,DL=PL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ML={key:!0,ref:!0,__self:!0,__source:!0};function UC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NL.call(e,r)&&!ML.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RL,type:t,key:i,ref:o,props:s,_owner:DL.current}}Gp.Fragment=kL;Gp.jsx=UC;Gp.jsxs=UC;PC.exports=Gp;var p=PC.exports;const VL=()=>{};var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},OL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new LL;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jL=function(t){const e=BC(t);return $C.encodeByteArray(e,!0)},kf=function(t){return jL(t).replace(/\./g,"")},zC=function(t){try{return $C.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=()=>WC().__FIREBASE_DEFAULTS__,UL=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zC(t[1]);return e&&JSON.parse(e)},qp=()=>{try{return VL()||FL()||UL()||BL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$L=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HC=()=>{var t;return(t=qp())===null||t===void 0?void 0:t.config},GC=t=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kf(JSON.stringify(n)),kf(JSON.stringify(o)),""].join(".")}const zc={};function KL(){const t={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?t.emulator.push(e):t.prod.push(e);return t}function HL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cE=!1;function QC(t,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||zc[t]===e||zc[t]||cE)return;zc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=KL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{cE=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=HL(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(b,y);const A=c();l(x,_),T.append(x,w,b,A),document.body.appendChild(T)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function XC(){var t;const e=(t=qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YL(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YC(){return!XC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){return!XC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ZC(){try{return typeof indexedDB=="object"}catch{return!1}}function JL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZL,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pd.prototype.create)}}class pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ej(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ts(s,a,r)}}function ej(t,e){return t.replace(tj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const tj=/\{\$([^}]+)}/g;function nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uE(i)&&uE(o)){if(!Po(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rj(t,e){const n=new sj(t,e);return n.subscribe.bind(n)}class sj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ij(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_g),s.error===void 0&&(s.error=_g),s.complete===void 0&&(s.complete=_g);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ij(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lj(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aj(t){return t===Zi?void 0:t}function lj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const uj={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},dj=we.INFO,hj={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},fj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nw{constructor(e){this.name=e,this._logLevel=dj,this._logHandler=fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const pj=(t,e)=>e.some(n=>t instanceof n);let dE,hE;function mj(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eA=new WeakMap,Vy=new WeakMap,tA=new WeakMap,xg=new WeakMap,rw=new WeakMap;function yj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ai(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eA.set(n,t)}).catch(()=>{}),rw.set(e,t),e}function vj(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vy.set(t,e)}let Oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wj(t){Oy=t(Oy)}function _j(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eg(this),e,...n);return tA.set(r,e.sort?e.sort():[e]),ai(r)}:gj().includes(t)?function(...e){return t.apply(Eg(this),e),ai(eA.get(this))}:function(...e){return ai(t.apply(Eg(this),e))}}function xj(t){return typeof t=="function"?_j(t):(t instanceof IDBTransaction&&vj(t),pj(t,mj())?new Proxy(t,Oy):t)}function ai(t){if(t instanceof IDBRequest)return yj(t);if(xg.has(t))return xg.get(t);const e=xj(t);return e!==t&&(xg.set(t,e),rw.set(e,t)),e}const Eg=t=>rw.get(t);function Ej(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Tj=["get","getKey","getAll","getAllKeys","count"],bj=["put","add","delete","clear"],Tg=new Map;function fE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Tj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Tg.set(e,i),i}wj(t=>({...t,get:(e,n,r)=>fE(e,n)||t.get(e,n,r),has:(e,n)=>!!fE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ly="@firebase/app",pE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new nw("@firebase/app"),Cj="@firebase/app-compat",Aj="@firebase/analytics-compat",Pj="@firebase/analytics",Rj="@firebase/app-check-compat",kj="@firebase/app-check",Nj="@firebase/auth",Dj="@firebase/auth-compat",Mj="@firebase/database",Vj="@firebase/data-connect",Oj="@firebase/database-compat",Lj="@firebase/functions",jj="@firebase/functions-compat",Fj="@firebase/installations",Uj="@firebase/installations-compat",Bj="@firebase/messaging",$j="@firebase/messaging-compat",zj="@firebase/performance",Wj="@firebase/performance-compat",Kj="@firebase/remote-config",Hj="@firebase/remote-config-compat",Gj="@firebase/storage",qj="@firebase/storage-compat",Qj="@firebase/firestore",Xj="@firebase/ai",Yj="@firebase/firestore-compat",Jj="firebase",Zj="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="[DEFAULT]",e4={[Ly]:"fire-core",[Cj]:"fire-core-compat",[Pj]:"fire-analytics",[Aj]:"fire-analytics-compat",[kj]:"fire-app-check",[Rj]:"fire-app-check-compat",[Nj]:"fire-auth",[Dj]:"fire-auth-compat",[Mj]:"fire-rtdb",[Vj]:"fire-data-connect",[Oj]:"fire-rtdb-compat",[Lj]:"fire-fn",[jj]:"fire-fn-compat",[Fj]:"fire-iid",[Uj]:"fire-iid-compat",[Bj]:"fire-fcm",[$j]:"fire-fcm-compat",[zj]:"fire-perf",[Wj]:"fire-perf-compat",[Kj]:"fire-rc",[Hj]:"fire-rc-compat",[Gj]:"fire-gcs",[qj]:"fire-gcs-compat",[Qj]:"fire-fst",[Yj]:"fire-fst-compat",[Xj]:"fire-vertex","fire-js":"fire-js",[Jj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,t4=new Map,Fy=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sl(t){const e=t.name;if(Fy.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of Nf.values())mE(n,t);for(const n of t4.values())mE(n,t);return!0}function sw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new pd("app","Firebase",n4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=Zj;function nA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=HC()),!n)throw li.create("no-options");const i=Nf.get(s);if(i){if(Po(n,i.options)&&Po(r,i.config))return i;throw li.create("duplicate-app",{appName:s})}const o=new cj(s);for(const l of Fy.values())o.addComponent(l);const a=new r4(n,r,o);return Nf.set(s,a),a}function rA(t=jy){const e=Nf.get(t);if(!e&&t===jy&&HC())return nA();if(!e)throw li.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let s=(r=e4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(a.join(" "));return}sl(new Ro(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebase-heartbeat-database",i4=1,mu="firebase-heartbeat-store";let bg=null;function sA(){return bg||(bg=Ej(s4,i4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),bg}async function o4(t){try{const n=(await sA()).transaction(mu),r=await n.objectStore(mu).get(iA(t));return await n.done,r}catch(e){if(e instanceof Ts)us.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function gE(t,e){try{const r=(await sA()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,iA(t)),await r.done}catch(n){if(n instanceof Ts)us.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function iA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1024,l4=30;class c4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>l4){const o=h4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yE(),{heartbeatsToSend:r,unsentEntries:s}=u4(this._heartbeatsCache.heartbeats),i=kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return us.warn(n),""}}}function yE(){return new Date().toISOString().substring(0,10)}function u4(t,e=a4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),vE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZC()?JL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return gE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return gE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vE(t){return kf(JSON.stringify({version:2,heartbeats:t})).length}function h4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){sl(new Ro("platform-logger",e=>new Ij(e),"PRIVATE")),sl(new Ro("heartbeat",e=>new c4(e),"PRIVATE")),ci(Ly,pE,t),ci(Ly,pE,"esm2017"),ci("fire-js","")}f4("");var Ir=function(){return Ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ir.apply(this,arguments)};function gd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function p4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m4=oA,aA=new pd("auth","Firebase",oA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new nw("@firebase/auth");function g4(t,...e){Df.logLevel<=we.WARN&&Df.warn(`Auth (${Ol}): ${t}`,...e)}function qh(t,...e){Df.logLevel<=we.ERROR&&Df.error(`Auth (${Ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw ow(t,...e)}function ur(t,...e){return ow(t,...e)}function iw(t,e,n){const r=Object.assign(Object.assign({},m4()),{[e]:n});return new pd("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return iw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),iw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ow(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aA.create(t,...e)}function ae(t,e,...n){if(!t)throw ow(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function ds(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v4(){return wE()==="http:"||wE()==="https:"}function wE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v4()||QL()||"connection"in navigator)?navigator.onLine:!0}function _4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=GL()||XL()}get(){return w4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T4=new yd(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vi(t,e,n,r,s={}){return cA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=md(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return qL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(c.credentials="include"),lA.fetch()(await uA(t,t.config.apiHost,n,a),c)})}async function cA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x4),e);try{const s=new I4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ch(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ch(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ch(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iw(t,d,c);Qn(t,d)}}catch(s){if(s instanceof Ts)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function vd(t,e,n,r,s={}){const i=await Vi(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?aw(t.config,s):`${t.config.apiScheme}://${s}`;return E4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function b4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),T4.get())})}}function ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ur(t,e,r);return s.customData._tokenResponse=n,s}function _E(t){return t!==void 0&&t.enterprise!==void 0}class S4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C4(t,e){return Vi(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function Mf(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),s=lw(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Wc(Ig(s.auth_time)),issuedAtTime:Wc(Ig(s.iat)),expirationTime:Wc(Ig(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function lw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const s=zC(n);return s?JSON.parse(s):(qh("Failed to decode base64 JWT payload"),null)}catch(s){return qh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xE(t){const e=lw(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ts&&R4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await gu(t,Mf(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?dA(i.providerUserInfo):[],a=D4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new By(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function N4(t){const e=Rn(t);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dA(t){return t.map(e=>{var{providerId:n}=e,r=gd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e){const n=await cA(t,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await uA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(l.credentials="include"),lA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V4(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=xE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await M4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Oa;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=gd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new By(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return N4(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await gu(this,A4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:V,stsTokenManager:S}=n;ae(T&&S,e,"internal-error");const I=Oa.fromJSON(this.name,S);ae(typeof T=="string",e,"internal-error"),Ms(h,e.name),Ms(f,e.name),ae(typeof A=="boolean",e,"internal-error"),ae(typeof k=="boolean",e,"internal-error"),Ms(m,e.name),Ms(w,e.name),Ms(y,e.name),Ms(b,e.name),Ms(_,e.name),Ms(x,e.name);const P=new cr({uid:T,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:k,photoURL:w,phoneNumber:m,tenantId:y,stsTokenManager:I,createdAt:_,lastLoginAt:x});return V&&Array.isArray(V)&&(P.providerData=V.map(R=>Object.assign({},R))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Oa;s.updateFromServerResponse(n);const i=new cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Oa;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new By(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function rs(t){ds(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hA.type="NONE";const TE=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mf(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new La(rs(TE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||rs(TE);const o=Qh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await Mf(e,{idToken:d}).catch(()=>{});if(!f)break;h=await cr._fromGetAccountInfoResponse(e,f,d)}else h=cr._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new La(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new La(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vA(e))return"Blackberry";if(wA(e))return"Webos";if(pA(e))return"Safari";if((e.includes("chrome/")||mA(e))&&!e.includes("edge/"))return"Chrome";if(yA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fA(t=vt()){return/firefox\//i.test(t)}function pA(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mA(t=vt()){return/crios\//i.test(t)}function gA(t=vt()){return/iemobile/i.test(t)}function yA(t=vt()){return/android/i.test(t)}function vA(t=vt()){return/blackberry/i.test(t)}function wA(t=vt()){return/webos/i.test(t)}function cw(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O4(t=vt()){var e;return cw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L4(){return YL()&&document.documentMode===10}function _A(t=vt()){return cw(t)||yA(t)||wA(t)||vA(t)||/windows phone/i.test(t)||gA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e=[]){let n;switch(t){case"Browser":n=bE(vt());break;case"Worker":n=`${bE(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=6;class B4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:U4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new j4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mf(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(as(this));const n=e?Rn(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F4(this),n=new B4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&g4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oi(t){return Rn(t)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rj(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z4(t){Qp=t}function EA(t){return Qp.loadJS(t)}function W4(){return Qp.recaptchaEnterpriseScript}function K4(){return Qp.gapiScript}function H4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class G4{constructor(){this.enterprise=new q4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q4="recaptcha-enterprise",TA="NO_RECAPTCHA";class X4{constructor(e){this.type=Q4,this.auth=Oi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{C4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new S4(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;_E(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(TA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new G4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&_E(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=W4();l.length!==0&&(l+=a),EA(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function SE(t,e,n,r=!1,s=!1){const i=new X4(t);let o;if(s)o=TA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $y(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await SE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await SE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e){const n=sw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Po(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function J4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z4(t,e,n){const r=Oi(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=bA(e),{host:o,port:a}=eF(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Po(c,r.config.emulator)&&Po(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Vl(o)?(qC(`${i}//${o}${l}`),QC("Auth",!0)):tF()}function bA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eF(t){const e=bA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:CE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:CE(o)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function nF(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function iF(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends uw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,n,"signInWithPassword",rF);case"emailLink":return sF(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,r,"signUpPassword",nF);case"emailLink":return iF(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="http://localhost";class ko extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=gd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ko(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:oF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lF(t){const e=Rc(kc(t)).link,n=e?Rc(kc(e)).deep_link_id:null,r=Rc(kc(t)).deep_link_id;return(r?Rc(kc(r)).link:null)||r||n||e||t}class dw{constructor(e){var n,r,s,i,o,a;const l=Rc(kc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=aF((s=l.mode)!==null&&s!==void 0?s:null);ae(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lF(e);try{return new dw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dw.parseLink(n);return ae(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends wd{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ko._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends wd{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends wd{constructor(){super("twitter.com")}static credential(e,n){return ko._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e){return vd(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=AE(r);return new No({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=AE(r);return new No({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function AE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends Ts{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Of(e,n,r,s)}}function IA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(t,i,e,r):i})}async function uF(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(as(r));const s="reauthenticate";try{const i=await gu(t,IA(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=lw(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),No._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e,n=!1){if(bn(t.app))return Promise.reject(as(t));const r="signIn",s=await IA(t,r,e),i=await No._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function hF(t,e){return SA(Oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t){const e=Oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fF(t,e,n){if(bn(t.app))return Promise.reject(as(t));const r=Oi(t),o=await $y(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&CA(t),l}),a=await No._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pF(t,e,n){return bn(t.app)?Promise.reject(as(t)):hF(Rn(t),Ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CA(t),r})}function mF(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function gF(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}function yF(t,e,n,r){return Rn(t).onAuthStateChanged(e,n,r)}function vF(t){return Rn(t).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=1e3,_F=10;class PA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);L4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_F):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PA.type="LOCAL";const xF=PA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RA.type="SESSION";const kA=RA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await EF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=fw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function bF(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function IF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CF(){return NA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebaseLocalStorageDb",AF=1,jf="firebaseLocalStorage",MA="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function PF(){const t=indexedDB.deleteDatabase(DA);return new _d(t).toPromise()}function zy(){const t=indexedDB.open(DA,AF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jf,{keyPath:MA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jf)?e(r):(r.close(),await PF(),e(await zy()))})})}async function PE(t,e,n){const r=Yp(t,!0).put({[MA]:e,value:n});return new _d(r).toPromise()}async function RF(t,e){const n=Yp(t,!1).get(e),r=await new _d(n).toPromise();return r===void 0?null:r.value}function RE(t,e){const n=Yp(t,!0).delete(e);return new _d(n).toPromise()}const kF=800,NF=3;class VA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xp._getInstance(CF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IF(),!this.activeServiceWorker)return;this.sender=new TF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await PE(e,Lf,"1"),await RE(e,Lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yp(s,!1).getAll();return new _d(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VA.type="LOCAL";const DF=VA;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){return e?rs(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MF(t){return SA(t.auth,new pw(t),t.bypassAuthState)}function VF(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),dF(n,new pw(t),t.bypassAuthState)}async function OF(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),uF(n,new pw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MF;case"linkViaPopup":case"linkViaRedirect":return OF;case"reauthViaPopup":case"reauthViaRedirect":return VF;default:Qn(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new yd(2e3,1e4);async function jF(t,e,n){if(bn(t.app))return Promise.reject(ur(t,"operation-not-supported-in-this-environment"));const r=Oi(t);y4(t,e,hw);const s=OA(r,n);return new co(r,"signInViaPopup",e,s).executeNotNull()}class co extends LA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LF.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="pendingRedirect",Xh=new Map;class UF extends LA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await BF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BF(t,e){const n=WF(e),r=zF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $F(t,e){Xh.set(t._key(),e)}function zF(t){return rs(t._redirectPersistence)}function WF(t){return Qh(FF,t.config.apiKey,t.name)}async function KF(t,e,n=!1){if(bn(t.app))return Promise.reject(as(t));const r=Oi(t),s=OA(r,e),o=await new UF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=10*60*1e3;class GF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ur(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HF&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YF=/^https?/;async function JF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QF(t);for(const n of e)try{if(ZF(n))return}catch{}Qn(t,"unauthorized-domain")}function ZF(t){const e=Uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YF.test(n))return!1;if(XF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new yd(3e4,6e4);function NE(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t5(t){return new Promise((e,n)=>{var r,s,i;function o(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(ur(t,"network-request-failed"))},timeout:e5.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Pr().gapi)===null||i===void 0)&&i.load)o();else{const a=H4("iframefcb");return Pr()[a]=()=>{gapi.load?o():n(ur(t,"network-request-failed"))},EA(`${K4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function n5(t){return Yh=Yh||t5(t),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new yd(5e3,15e3),s5="__/auth/iframe",i5="emulator/auth/iframe",o5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l5(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aw(e,i5):`https://${t.config.authDomain}/${s5}`,r={apiKey:e.apiKey,appName:t.name,v:Ol},s=a5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${md(r).slice(1)}`}async function c5(t){const e=await n5(t),n=Pr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:l5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ur(t,"network-request-failed"),a=Pr().setTimeout(()=>{i(o)},r5.get());function l(){Pr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d5=500,h5=600,f5="_blank",p5="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m5(t,e,n,r=d5,s=h5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},u5),{width:r.toString(),height:s.toString(),top:i,left:o}),c=vt().toLowerCase();n&&(a=mA(c)?f5:n),fA(c)&&(e=e||p5,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(O4(c)&&a!=="_self")return g5(e||"",a),new DE(null);const h=window.open(e||"",a,d);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new DE(h)}function g5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="__/auth/handler",v5="emulator/auth/handler",w5=encodeURIComponent("fac");async function ME(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ol,eventId:s};if(e instanceof hw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${w5}=${encodeURIComponent(l)}`:"";return`${_5(t)}?${md(a).slice(1)}${c}`}function _5({config:t}){return t.emulator?aw(t,v5):`https://${t.authDomain}/${y5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class x5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kA,this._completeRedirectFn=KF,this._overrideRedirectResult=$F}async _openPopup(e,n,r,s){var i;ds((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ME(e,n,r,Uy(),s);return m5(e,o,fw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ME(e,n,r,Uy(),s);return bF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ds(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c5(e),r=new GF(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Sg];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _A()||pA()||cw()}}const E5=x5;var VE="@firebase/auth",OE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I5(t){sl(new Ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(t)},c=new $4(r,s,i,l);return J4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sl(new Ro("auth-internal",e=>{const n=Oi(e.getProvider("auth").getImmediate());return(r=>new T5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(VE,OE,b5(t)),ci(VE,OE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=5*60,C5=GC("authIdTokenMaxAge")||S5;let LE=null;const A5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C5)return;const s=n==null?void 0:n.token;LE!==s&&(LE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function P5(t=rA()){const e=sw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y4(t,{popupRedirectResolver:E5,persistence:[DF,xF,kA]}),r=GC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=A5(i.toString());gF(n,o,()=>o(n.currentUser)),mF(n,a=>o(a))}}const s=KC("auth");return s&&Z4(n,`http://${s}`),n}function R5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ur("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",R5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I5("Browser");var k5="firebase",N5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(k5,N5,"app");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,FA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function P(){}P.prototype=I.prototype,S.D=I.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(R,D,M){for(var N=Array(arguments.length-2),K=2;K<arguments.length;K++)N[K-2]=arguments[K];return I.prototype[D].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,P){P||(P=0);var R=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)R[D]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(D=0;16>D;++D)R[D]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=S.g[0],P=S.g[1],D=S.g[2];var M=S.g[3],N=I+(M^P&(D^M))+R[0]+3614090360&4294967295;I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[1]+3905402710&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[5]+1200080426&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[9]+2336552879&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(M^P&(D^M))+R[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=M+(D^I&(P^D))+R[13]+4254626195&4294967295,M=I+(N<<12&4294967295|N>>>20),N=D+(P^M&(I^P))+R[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(I^D&(M^I))+R[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=I+(D^M&(P^D))+R[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[6]+3225465664&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[10]+38016083&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[14]+3275163606&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(D^M&(P^D))+R[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(I^P))+R[2]+4243563512&4294967295,M=I+(N<<9&4294967295|N>>>23),N=D+(I^P&(M^I))+R[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^I&(D^M))+R[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=I+(P^D^M)+R[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[8]+2272392833&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[4]+1272893353&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[0]+3936430074&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(P^D^M)+R[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=M+(I^P^D)+R[12]+3873151461&4294967295,M=I+(N<<11&4294967295|N>>>21),N=D+(M^I^P)+R[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^I)+R[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=I+(D^(P|~M))+R[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[7]+1126891415&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[3]+2399980690&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[15]+4264355552&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=I+(D^(P|~M))+R[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=M+(P^(I|~D))+R[11]+3174756917&4294967295,M=I+(N<<10&4294967295|N>>>22),N=D+(I^(M|~P))+R[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~I))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var P=I-this.blockSize,R=this.B,D=this.h,M=0;M<I;){if(D==0)for(;M<=P;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<I;)if(R[D++]=S.charCodeAt(M++),D==this.blockSize){s(this,R),D=0;break}}else for(;M<I;)if(R[D++]=S[M++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var P=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=P&255,P/=256;for(this.u(S),S=Array(16),I=P=0;4>I;++I)for(var R=0;32>R;R+=8)S[P++]=this.g[I]>>>R&255;return S};function i(S,I){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=I(S)}function o(S,I){this.h=I;for(var P=[],R=!0,D=S.length-1;0<=D;D--){var M=S[D]|0;R&&M==I||(P[D]=M,R=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?i(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(c(-S));for(var I=[],P=1,R=0;S>=P;R++)I[R]=S/P|0,P*=4294967296;return new o(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return b(d(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(I,8)),R=h,D=0;D<S.length;D+=8){var M=Math.min(8,S.length-D),N=parseInt(S.substring(D,D+M),I);8>M?(M=c(Math.pow(I,M)),R=R.j(M).add(c(N))):(R=R.j(P),R=R.add(c(N)))}return R}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,I=1,P=0;P<this.g.length;P++){var R=this.i(P);S+=(0<=R?R:4294967296+R)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var I=c(Math.pow(S,6)),P=this,R="";;){var D=A(P,I).g;P=_(P,D.j(I));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=D,w(P))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:w(S)?0:1};function b(S){for(var I=S.g.length,P=[],R=0;R<I;R++)P[R]=~S.g[R];return new o(P,~S.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0,D=0;D<=I;D++){var M=R+(this.i(D)&65535)+(S.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);R=N>>>16,M&=65535,N&=65535,P[D]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(S,I){return S.add(b(I))}t.j=function(S){if(w(this)||w(S))return h;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var I=this.g.length+S.g.length,P=[],R=0;R<2*I;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<S.g.length;D++){var M=this.i(R)>>>16,N=this.i(R)&65535,K=S.i(D)>>>16,le=S.i(D)&65535;P[2*R+2*D]+=N*le,x(P,2*R+2*D),P[2*R+2*D+1]+=M*le,x(P,2*R+2*D+1),P[2*R+2*D+1]+=N*K,x(P,2*R+2*D+1),P[2*R+2*D+2]+=M*K,x(P,2*R+2*D+2)}for(R=0;R<I;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=I;R<2*I;R++)P[R]=0;return new o(P,0)};function x(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function T(S,I){this.g=S,this.h=I}function A(S,I){if(w(I))throw Error("division by zero");if(w(S))return new T(h,h);if(y(S))return I=A(b(S),I),new T(b(I.g),b(I.h));if(y(I))return I=A(S,b(I)),new T(b(I.g),I.h);if(30<S.g.length){if(y(S)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var P=f,R=I;0>=R.l(S);)P=k(P),R=k(R);var D=V(P,1),M=V(R,1);for(R=V(R,2),P=V(P,2);!w(R);){var N=M.add(R);0>=N.l(S)&&(D=D.add(P),M=N),R=V(R,1),P=V(P,1)}return I=_(S,D.j(I)),new T(D,I)}for(D=h;0<=S.l(I);){for(P=Math.max(1,Math.floor(S.m()/I.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(P),N=M.j(I);y(N)||0<N.l(S);)P-=R,M=c(P),N=M.j(I);w(M)&&(M=f),D=D.add(M),S=_(S,N)}return new T(D,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)&S.i(R);return new o(P,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)|S.i(R);return new o(P,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],R=0;R<I;R++)P[R]=this.i(R)^S.i(R);return new o(P,this.h^S.h)};function k(S){for(var I=S.g.length+1,P=[],R=0;R<I;R++)P[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(P,S.h)}function V(S,I){var P=I>>5;I%=32;for(var R=S.g.length-P,D=[],M=0;M<R;M++)D[M]=0<I?S.i(M+P)>>>I|S.i(M+P+1)<<32-I:S.i(M+P);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ui=o}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UA,Nc,BA,Jh,Wy,$A,zA,WA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var E=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var L=u[C];if(!(L in E))break e;E=E[L]}u=u[u.length-1],C=E[u],g=g(C),g!=C&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var E=0,C=!1,L={next:function(){if(!C&&E<u.length){var F=E++;return{value:g(F,u[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,E){return u.call.apply(u.bind,arguments)}function h(u,g,E){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function f(u,g,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function w(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(C,L,F){for(var H=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)H[Oe-2]=arguments[Oe];return g.prototype[L].apply(C,H)}}function y(u){const g=u.length;if(0<g){const E=Array(g);for(let C=0;C<g;C++)E[C]=u[C];return E}return[]}function b(u,g){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(l(C)){const L=u.length||0,F=C.length||0;u.length=L+F;for(let H=0;H<F;H++)u[L+H]=C[H]}else u.push(C)}}class _{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var k=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,g,E){for(const C in u)g.call(E,u[C],C,u)}function S(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function I(u){const g={};for(const E in u)g[E]=u[E];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let E,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(E in C)u[E]=C[E];for(let F=0;F<P.length;F++)E=P[F],Object.prototype.hasOwnProperty.call(C,E)&&(u[E]=C[E])}}function D(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function M(u){a.setTimeout(()=>{throw u},0)}function N(){var u=U;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class K{constructor(){this.h=this.g=null}add(g,E){const C=le.get();C.set(g,E),this.h?this.h.next=C:this.g=C,this.h=C}}var le=new _(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,j=!1,U=new K,q=()=>{const u=a.Promise.resolve(void 0);te=()=>{u.then(Q)}};var Q=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(E){M(E)}var g=le;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}j=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,g),a.removeEventListener("test",E,g)}catch{}return u}();function Je(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(k){e:{try{A(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ye[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Je.aa.h.call(this)}}w(Je,se);var ye={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),yn=0;function lt(u,g,E,C,L){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!C,this.ha=L,this.key=++yn,this.da=this.fa=!1}function Nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wr(u){this.src=u,this.g={},this.h=0}Wr.prototype.add=function(u,g,E,C,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=Jn(u,g,C,L);return-1<H?(g=u[H],E||(g.fa=!1)):(g=new lt(g,this.src,F,!!C,L),g.fa=E,u.push(g)),g};function gr(u,g){var E=g.type;if(E in u.g){var C=u.g[E],L=Array.prototype.indexOf.call(C,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(C,L,1),F&&(Nt(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Jn(u,g,E,C){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==C)return L}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Cs={};function Zn(u,g,E,C,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Zn(u,g[F],E,C,L);return null}return E=ec(E),u&&u[He]?u.K(g,E,c(C)?!!C.capture:!!C,L):Yl(u,g,E,!1,C,L)}function Yl(u,g,E,C,L,F){if(!g)throw Error("Invalid event type");var H=c(L)?!!L.capture:!!L,Oe=As(u);if(Oe||(u[Kr]=Oe=new Wr(u)),E=Oe.add(g,E,C,H,F),E.proxy)return E;if(C=Jl(),E.proxy=C,C.src=u,C.listener=E,u.addEventListener)Ce||(L=H),L===void 0&&(L=!1),u.addEventListener(g.toString(),C,L);else if(u.attachEvent)u.attachEvent(Wd(g.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Jl(){function u(E){return g.call(u.src,u.listener,E)}const g=rg;return u}function ct(u,g,E,C,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)ct(u,g[F],E,C,L);else C=c(C)?!!C.capture:!!C,E=ec(E),u&&u[He]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],E=Jn(F,E,C,L),-1<E&&(Nt(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=As(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Jn(g,E,C,L)),(E=-1<u?g[u]:null)&&yr(E))}function yr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[He])gr(g.i,u);else{var E=u.type,C=u.proxy;g.removeEventListener?g.removeEventListener(E,C,u.capture):g.detachEvent?g.detachEvent(Wd(E),C):g.addListener&&g.removeListener&&g.removeListener(C),(E=As(g))?(gr(E,u),E.h==0&&(E.src=null,g[Kr]=null)):Nt(u)}}}function Wd(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function rg(u,g){if(u.da)u=!0;else{g=new Je(g,this);var E=u.listener,C=u.ha||u.src;u.fa&&yr(u),u=E.call(C,g)}return u}function As(u){return u=u[Kr],u instanceof Wr?u:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ec(u){return typeof u=="function"?u:(u[Zl]||(u[Zl]=function(g){return u.handleEvent(g)}),u[Zl])}function ut(){Y.call(this),this.i=new Wr(this),this.M=this,this.F=null}w(ut,Y),ut.prototype[He]=!0,ut.prototype.removeEventListener=function(u,g,E,C){ct(this,u,g,E,C)};function Ze(u,g){var E,C=u.F;if(C)for(E=[];C;C=C.F)E.push(C);if(u=u.M,C=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var L=g;g=new se(C,u),R(g,L)}if(L=!0,E)for(var F=E.length-1;0<=F;F--){var H=g.g=E[F];L=Hi(H,C,!0,g)&&L}if(H=g.g=u,L=Hi(H,C,!0,g)&&L,L=Hi(H,C,!1,g)&&L,E)for(F=0;F<E.length;F++)H=g.g=E[F],L=Hi(H,C,!1,g)&&L}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],C=0;C<E.length;C++)Nt(E[C]);delete u.g[g],u.h--}}this.F=null},ut.prototype.K=function(u,g,E,C){return this.i.add(String(u),g,!1,E,C)},ut.prototype.L=function(u,g,E,C){return this.i.add(String(u),g,!0,E,C)};function Hi(u,g,E,C){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var H=g[F];if(H&&!H.da&&H.capture==E){var Oe=H.listener,It=H.ha||H.src;H.fa&&gr(u.i,H),L=Oe.call(It,C)!==!1&&L}}return L&&!C.defaultPrevented}function Hr(u,g,E){if(typeof u=="function")E&&(u=f(u,E));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function tc(u){u.g=Hr(()=>{u.g=null,u.i&&(u.i=!1,tc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class sg extends Y{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(u){Y.call(this),this.h=u,this.g={}}w(Ps,Y);var nc=[];function Kd(u){V(u.g,function(g,E){this.g.hasOwnProperty(E)&&yr(g)},u),u.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Kd(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=a.JSON.stringify,vr=a.JSON.parse,ig=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function de(){}de.prototype.h=null;function De(u){return u.h||(u.h=u.i())}function Ae(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){se.call(this,"d")}w(on,se);function Rs(){se.call(this,"c")}w(Rs,se);var Gr={},m1=null;function Hd(){return m1=m1||new ut}Gr.La="serverreachability";function g1(u){se.call(this,Gr.La,u)}w(g1,se);function rc(u){const g=Hd();Ze(g,new g1(g))}Gr.STAT_EVENT="statevent";function y1(u,g){se.call(this,Gr.STAT_EVENT,u),this.stat=g}w(y1,se);function qt(u){const g=Hd();Ze(g,new y1(g,u))}Gr.Ma="timingevent";function v1(u,g){se.call(this,Gr.Ma,u),this.size=g}w(v1,se);function sc(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function ic(){this.g=!0}ic.prototype.xa=function(){this.g=!1};function WO(u,g,E,C,L,F){u.info(function(){if(u.g)if(F)for(var H="",Oe=F.split("&"),It=0;It<Oe.length;It++){var be=Oe[It].split("=");if(1<be.length){var Mt=be[0];be=be[1];var Vt=Mt.split("_");H=2<=Vt.length&&Vt[1]=="type"?H+(Mt+"="+be+"&"):H+(Mt+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+g+`
`+E+`
`+H})}function KO(u,g,E,C,L,F,H){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+g+`
`+E+`
`+F+" "+H})}function ea(u,g,E,C){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+GO(u,E)+(C?" "+C:"")})}function HO(u,g){u.info(function(){return"TIMEOUT: "+g})}ic.prototype.info=function(){};function GO(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var C=E[u];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Gi(E)}catch{return g}}var Gd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},og;function qd(){}w(qd,de),qd.prototype.g=function(){return new XMLHttpRequest},qd.prototype.i=function(){return{}},og=new qd;function ks(u,g,E,C){this.j=u,this.i=g,this.l=E,this.R=C||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _1}function _1(){this.i=null,this.g="",this.h=!1}var x1={},ag={};function lg(u,g,E){u.L=1,u.v=Jd(qr(g)),u.m=E,u.P=!0,E1(u,null)}function E1(u,g){u.F=Date.now(),Qd(u),u.A=qr(u.v);var E=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),O1(E.i,"t",C),u.C=0,E=u.j.J,u.h=new _1,u.g=eE(u.j,E?g:null,!u.m),0<u.O&&(u.M=new sg(f(u.Y,u,u.g),u.O)),g=u.U,E=u.g,C=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(nc[0]=L.toString()),L=nc);for(var F=0;F<L.length;F++){var H=Zn(E,L[F],C||g.handleEvent,!1,g.h||g);if(!H)break;g.g[H.key]=H}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),rc(),WO(u.i,u.u,u.A,u.l,u.R,u.m)}ks.prototype.ca=function(u){u=u.target;const g=this.M;g&&Qr(u)==3?g.j():this.Y(u)},ks.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Qr(this.g);var g=this.g.Ba();const ra=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||z1(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=ra?rc(3):rc(2)),cg(this);var E=this.g.Z();this.X=E;t:if(T1(this)){var C=z1(this.g);u="";var L=C.length,F=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),oc(this);var H="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(C[g],{stream:!(F&&g==L-1)});C.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=E==200,KO(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,It=this.g;if((Oe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Oe)){var be=Oe;break t}}be=null}if(E=be)ea(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ug(this,E);else{this.o=!1,this.s=3,qt(12),qi(this),oc(this);break e}}if(this.P){E=!0;let er;for(;!this.J&&this.C<H.length;)if(er=qO(this,H),er==ag){Vt==4&&(this.s=4,qt(14),E=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(er==x1){this.s=4,qt(15),ea(this.i,this.l,H,"[Invalid Chunk]"),E=!1;break}else ea(this.i,this.l,er,null),ug(this,er);if(T1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||H.length!=0||this.h.h||(this.s=1,qt(16),E=!1),this.o=this.o&&E,!E)ea(this.i,this.l,H,"[Invalid Chunked Response]"),qi(this),oc(this);else if(0<H.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),gg(Mt),Mt.M=!0,qt(11))}}else ea(this.i,this.l,H,null),ug(this,H);Vt==4&&qi(this),this.o&&!this.J&&(Vt==4?X1(this.j,this):(this.o=!1,Qd(this)))}else dL(this.g),E==400&&0<H.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),qi(this),oc(this)}}}catch{}finally{}};function T1(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qO(u,g){var E=u.C,C=g.indexOf(`
`,E);return C==-1?ag:(E=Number(g.substring(E,C)),isNaN(E)?x1:(C+=1,C+E>g.length?ag:(g=g.slice(C,C+E),u.C=C+E,g)))}ks.prototype.cancel=function(){this.J=!0,qi(this)};function Qd(u){u.S=Date.now()+u.I,b1(u,u.I)}function b1(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=sc(f(u.ba,u),g)}function cg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ks.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(HO(this.i,this.A),this.L!=2&&(rc(),qt(17)),qi(this),this.s=2,oc(this)):b1(this,this.S-u)};function oc(u){u.j.G==0||u.J||X1(u.j,u)}function qi(u){cg(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Kd(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ug(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||dg(E.h,u))){if(!u.K&&dg(E.h,u)&&E.G==3){try{var C=E.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)sh(E),nh(E);else break e;mg(E),qt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=sc(f(E.Za,E),6e3));if(1>=C1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xi(E,11)}else if((u.K||E.g==u)&&sh(E),!x(g))for(L=E.Da.g.parse(g),g=0;g<L.length;g++){let be=L[g];if(E.T=be[0],be=be[1],E.G==2)if(be[0]=="c"){E.K=be[1],E.ia=be[2];const Mt=be[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Vt=be[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const ra=be[5];ra!=null&&typeof ra=="number"&&0<ra&&(C=1.5*ra,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const er=u.g;if(er){const oh=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oh){var F=C.h;F.g||oh.indexOf("spdy")==-1&&oh.indexOf("quic")==-1&&oh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(hg(F,F.h),F.h=null))}if(C.D){const yg=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;yg&&(C.ya=yg,je(C.I,C.D,yg))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var H=u;if(C.qa=Z1(C,C.J?C.ia:null,C.W),H.K){A1(C.h,H);var Oe=H,It=C.L;It&&(Oe.I=It),Oe.B&&(cg(Oe),Qd(Oe)),C.g=H}else q1(C);0<E.i.length&&rh(E)}else be[0]!="stop"&&be[0]!="close"||Xi(E,7);else E.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Xi(E,7):pg(E):be[0]!="noop"&&E.l&&E.l.ta(be),E.v=0)}}rc(4)}catch{}}var QO=class{constructor(u,g){this.g=u,this.map=g}};function I1(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function S1(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function C1(u){return u.h?1:u.g?u.g.size:0}function dg(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function hg(u,g){u.g?u.g.add(g):u.h=g}function A1(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}I1.prototype.cancel=function(){if(this.i=P1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function P1(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return y(u.i)}function XO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],E=u.length,C=0;C<E;C++)g.push(u[C]);return g}g=[],E=0;for(C in u)g[E++]=u[C];return g}function YO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const C in u)g[E++]=C;return g}}}function R1(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=YO(u),C=XO(u),L=C.length,F=0;F<L;F++)g.call(void 0,C[F],E&&E[F],u)}var k1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JO(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var C=u[E].indexOf("="),L=null;if(0<=C){var F=u[E].substring(0,C);L=u[E].substring(C+1)}else F=u[E];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Qi){this.h=u.h,Xd(this,u.j),this.o=u.o,this.g=u.g,Yd(this,u.s),this.l=u.l;var g=u.i,E=new cc;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),N1(this,E),this.m=u.m}else u&&(g=String(u).match(k1))?(this.h=!1,Xd(this,g[1]||"",!0),this.o=ac(g[2]||""),this.g=ac(g[3]||"",!0),Yd(this,g[4]),this.l=ac(g[5]||"",!0),N1(this,g[6]||"",!0),this.m=ac(g[7]||"")):(this.h=!1,this.i=new cc(null,this.h))}Qi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(lc(g,D1,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(lc(g,D1,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(lc(E,E.charAt(0)=="/"?tL:eL,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",lc(E,rL)),u.join("")};function qr(u){return new Qi(u)}function Xd(u,g,E){u.j=E?ac(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Yd(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function N1(u,g,E){g instanceof cc?(u.i=g,sL(u.i,u.h)):(E||(g=lc(g,nL)),u.i=new cc(g,u.h))}function je(u,g,E){u.i.set(g,E)}function Jd(u){return je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ac(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lc(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,ZO),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ZO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var D1=/[#\/\?@]/g,eL=/[#\?:]/g,tL=/[#\?]/g,nL=/[#\?@]/g,rL=/#/g;function cc(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ns(u){u.g||(u.g=new Map,u.h=0,u.i&&JO(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=cc.prototype,t.add=function(u,g){Ns(this),this.i=null,u=ta(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function M1(u,g){Ns(u),g=ta(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function V1(u,g){return Ns(u),g=ta(u,g),u.g.has(g)}t.forEach=function(u,g){Ns(this),this.g.forEach(function(E,C){E.forEach(function(L){u.call(g,L,C,this)},this)},this)},t.na=function(){Ns(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let C=0;C<g.length;C++){const L=u[C];for(let F=0;F<L.length;F++)E.push(g[C])}return E},t.V=function(u){Ns(this);let g=[];if(typeof u=="string")V1(this,u)&&(g=g.concat(this.g.get(ta(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},t.set=function(u,g){return Ns(this),this.i=null,u=ta(this,u),V1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function O1(u,g,E){M1(u,g),0<E.length&&(u.i=null,u.g.set(ta(u,g),y(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var C=g[E];const F=encodeURIComponent(String(C)),H=this.V(C);for(C=0;C<H.length;C++){var L=F;H[C]!==""&&(L+="="+encodeURIComponent(String(H[C]))),u.push(L)}}return this.i=u.join("&")};function ta(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function sL(u,g){g&&!u.j&&(Ns(u),u.i=null,u.g.forEach(function(E,C){var L=C.toLowerCase();C!=L&&(M1(this,C),O1(this,L,E))},u)),u.j=g}function iL(u,g){const E=new ic;if(a.Image){const C=new Image;C.onload=m(Ds,E,"TestLoadImage: loaded",!0,g,C),C.onerror=m(Ds,E,"TestLoadImage: error",!1,g,C),C.onabort=m(Ds,E,"TestLoadImage: abort",!1,g,C),C.ontimeout=m(Ds,E,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else g(!1)}function oL(u,g){const E=new ic,C=new AbortController,L=setTimeout(()=>{C.abort(),Ds(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:C.signal}).then(F=>{clearTimeout(L),F.ok?Ds(E,"TestPingServer: ok",!0,g):Ds(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Ds(E,"TestPingServer: error",!1,g)})}function Ds(u,g,E,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(E)}catch{}}function aL(){this.g=new ig}function lL(u,g,E){const C=E||"";try{R1(u,function(L,F){let H=L;c(L)&&(H=Gi(L)),g.push(C+F+"="+encodeURIComponent(H))})}catch(L){throw g.push(C+"type="+encodeURIComponent("_badmap")),L}}function Zd(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Zd,de),Zd.prototype.g=function(){return new eh(this.l,this.j)},Zd.prototype.i=function(u){return function(){return u}}({});function eh(u,g){ut.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(eh,ut),t=eh.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,dc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;L1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function L1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?uc(this):dc(this),this.readyState==3&&L1(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,uc(this))},t.Qa=function(u){this.g&&(this.response=u,uc(this))},t.ga=function(){this.g&&uc(this)};function uc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dc(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function dc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function j1(u){let g="";return V(u,function(E,C){g+=C,g+=":",g+=E,g+=`\r
`}),g}function fg(u,g,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=j1(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):je(u,g,E))}function et(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(et,ut);var cL=/^https?$/i,uL=["POST","PUT"];t=et.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():og.g(),this.v=this.o?De(this.o):De(og),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){F1(this,F);return}if(u=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)E.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())E.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uL,g,void 0))||C||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of E)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$1(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){F1(this,F)}};function F1(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,U1(u),th(u)}function U1(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),th(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),th(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?B1(this):this.bb())},t.bb=function(){B1(this)};function B1(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Qr(u)!=4||u.Z()!=2)){if(u.u&&Qr(u)==4)Hr(u.Ea,0,u);else if(Ze(u,"readystatechange"),Qr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var C;if(C=H===0){var L=String(u.D).match(k1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!cL.test(L?L.toLowerCase():"")}E=C}if(E)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var F=2<Qr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",U1(u)}}finally{th(u)}}}}function th(u,g){if(u.g){$1(u);const E=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ze(u,"ready");try{E.onreadystatechange=C}catch{}}}function $1(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Qr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),vr(g)}};function z1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dL(u){const g={};u=(u.g&&2<=Qr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(x(u[C]))continue;var E=D(u[C]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[L]||[];g[L]=F,F.push(E)}S(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hc(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function W1(u){this.Aa=0,this.i=[],this.j=new ic,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hc("baseRetryDelayMs",5e3,u),this.cb=hc("retryDelaySeedMs",1e4,u),this.Wa=hc("forwardChannelMaxRetries",2,u),this.wa=hc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new I1(u&&u.concurrentRequestLimit),this.Da=new aL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W1.prototype,t.la=8,t.G=1,t.connect=function(u,g,E,C){qt(0),this.W=u,this.H=g||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Z1(this,null,this.W),rh(this)};function pg(u){if(K1(u),u.G==3){var g=u.U++,E=qr(u.I);if(je(E,"SID",u.K),je(E,"RID",g),je(E,"TYPE","terminate"),fc(u,E),g=new ks(u,u.j,g),g.L=2,g.v=Jd(qr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=g.v,E=!0),E||(g.g=eE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qd(g)}J1(u)}function nh(u){u.g&&(gg(u),u.g.cancel(),u.g=null)}function K1(u){nh(u),u.u&&(a.clearTimeout(u.u),u.u=null),sh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function rh(u){if(!S1(u.h)&&!u.s){u.s=!0;var g=u.Ga;te||q(),j||(te(),j=!0),U.add(g,u),u.B=0}}function hL(u,g){return C1(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=sc(f(u.Ga,u,g),Y1(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ks(this,this.j,u);let F=this.o;if(this.S&&(F?(F=I(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=G1(this,L,g),E=qr(this.I),je(E,"RID",u),je(E,"CVER",22),this.D&&je(E,"X-HTTP-Session-Id",this.D),fc(this,E),F&&(this.O?g="headers="+encodeURIComponent(String(j1(F)))+"&"+g:this.m&&fg(E,this.m,F)),hg(this.h,L),this.Ua&&je(E,"TYPE","init"),this.P?(je(E,"$req",g),je(E,"SID","null"),L.T=!0,lg(L,E,null)):lg(L,E,g),this.G=2}}else this.G==3&&(u?H1(this,u):this.i.length==0||S1(this.h)||H1(this))};function H1(u,g){var E;g?E=g.l:E=u.U++;const C=qr(u.I);je(C,"SID",u.K),je(C,"RID",E),je(C,"AID",u.T),fc(u,C),u.m&&u.o&&fg(C,u.m,u.o),E=new ks(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=G1(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),hg(u.h,E),lg(E,C,g)}function fc(u,g){u.H&&V(u.H,function(E,C){je(g,C,E)}),u.l&&R1({},function(E,C){je(g,C,E)})}function G1(u,g,E){E=Math.min(u.i.length,E);var C=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const H=["count="+E];F==-1?0<E?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let Oe=!0;for(let It=0;It<E;It++){let be=L[It].g;const Mt=L[It].map;if(be-=F,0>be)F=Math.max(0,L[It].g-100),Oe=!1;else try{lL(Mt,H,"req"+be+"_")}catch{C&&C(Mt)}}if(Oe){C=H.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,C}function q1(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;te||q(),j||(te(),j=!0),U.add(g,u),u.v=0}}function mg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=sc(f(u.Fa,u),Y1(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Q1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=sc(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),nh(this),Q1(this))};function gg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Q1(u){u.g=new ks(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=qr(u.qa);je(g,"RID","rpc"),je(g,"SID",u.K),je(g,"AID",u.T),je(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&je(g,"TO",u.ja),je(g,"TYPE","xmlhttp"),fc(u,g),u.m&&u.o&&fg(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Jd(qr(g)),E.m=null,E.P=!0,E1(E,u)}t.Za=function(){this.C!=null&&(this.C=null,nh(this),mg(this),qt(19))};function sh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function X1(u,g){var E=null;if(u.g==g){sh(u),gg(u),u.g=null;var C=2}else if(dg(u.h,g))E=g.D,A1(u.h,g),C=1;else return;if(u.G!=0){if(g.o)if(C==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;C=Hd(),Ze(C,new v1(C,E)),rh(u)}else q1(u);else if(L=g.s,L==3||L==0&&0<g.X||!(C==1&&hL(u,g)||C==2&&mg(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),L){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function Y1(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function Xi(u,g){if(u.j.info("Error code "+g),g==2){var E=f(u.fb,u),C=u.Xa;const L=!C;C=new Qi(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xd(C,"https"),Jd(C),L?iL(C.toString(),E):oL(C.toString(),E)}else qt(2);u.G=0,u.l&&u.l.sa(g),J1(u),K1(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function J1(u){if(u.G=0,u.ka=[],u.l){const g=P1(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ka,g),b(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Z1(u,g,E){var C=E instanceof Qi?qr(E):new Qi(E);if(C.g!="")g&&(C.g=g+"."+C.g),Yd(C,C.s);else{var L=a.location;C=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new Qi(null);C&&Xd(F,C),g&&(F.g=g),L&&Yd(F,L),E&&(F.l=E),C=F}return E=u.D,g=u.ya,E&&g&&je(C,E,g),je(C,"VER",u.la),fc(u,C),C}function eE(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new et(new Zd({eb:E})):new et(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tE(){}t=tE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ih(){}ih.prototype.g=function(u,g){return new vn(u,g)};function vn(u,g){ut.call(this),this.g=new W1(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!x(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new na(this)}w(vn,ut),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){pg(this.g)},vn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Gi(u),u=E);g.i.push(new QO(g.Ya++,u)),g.G==3&&rh(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,pg(this.g),delete this.g,vn.aa.N.call(this)};function nE(u){on.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(nE,on);function rE(){Rs.call(this),this.status=1}w(rE,Rs);function na(u){this.g=u}w(na,tE),na.prototype.ua=function(){Ze(this.g,"a")},na.prototype.ta=function(u){Ze(this.g,new nE(u))},na.prototype.sa=function(u){Ze(this.g,new rE)},na.prototype.ra=function(){Ze(this.g,"b")},ih.prototype.createWebChannel=ih.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,WA=function(){return new ih},zA=function(){return Hd()},$A=Gr,Wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gd.NO_ERROR=0,Gd.TIMEOUT=8,Gd.HTTP_ERROR=6,Jh=Gd,w1.COMPLETE="complete",BA=w1,Ae.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Nc=Ae,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,UA=et}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const FE="@firebase/firestore",UE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new nw("@firebase/firestore");function pa(){return Do.logLevel}function z(t,...e){if(Do.logLevel<=we.DEBUG){const n=e.map(mw);Do.debug(`Firestore (${jl}): ${t}`,...n)}}function Jt(t,...e){if(Do.logLevel<=we.ERROR){const n=e.map(mw);Do.error(`Firestore (${jl}): ${t}`,...n)}}function jr(t,...e){if(Do.logLevel<=we.WARN){const n=e.map(mw);Do.warn(`Firestore (${jl}): ${t}`,...n)}}function mw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KA(t,r,n)}function KA(t,e,n){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jt(r),new Error(r)}function re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KA(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class M5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V5{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ls,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ls)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new HA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class O5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new O5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){re(this.o===void 0,3512);const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=F5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Ky(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ue(r,s);{const i=GA(),o=U5(i.encode($E(t,n)),i.encode($E(e,n)));return o!==0?o:ue(r,s)}}n+=r>65535?2:1}return ue(t.length,e.length)}function $E(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function U5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ue(t[n],e[n]);return ue(t.length,e.length)}function il(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function qA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),s=xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Ky(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class Me extends xr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const B5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends xr{construct(e,n,r){return new qe(e,n,r)}static isValidIdentifier(e){return B5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new qe([zE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Me.fromString(e))}static fromName(e){return new X(Me.fromString(e).popFirst(5))}static empty(){return new X(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z5(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WE(t){if(!X.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function ol(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yw(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xd(t,e){if(!QA(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,HE=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HE);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HE}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xd(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:pt("string",Re._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Re(0,0))}static max(){return new ie(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;class Ff{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Hy(t){return t.fields.find(e=>e.kind===2)}function eo(t){return t.fields.filter(e=>e.kind!==2)}Ff.UNKNOWN_ID=-1;class Zh{constructor(e,n){this.fieldPath=e,this.kind=n}}class wu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new wu(0,kn.min())}}function W5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new kn(s,X.empty(),e)}function XA(t){return new kn(t.readTime,t.key,vu)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(ie.min(),X.empty(),vu)}static max(){return new kn(ie.max(),X.empty(),vu)}}function vw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==YA)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="SimpleDb";class Jp{static open(e,n,r,s){try{return new Jp(n,e.transaction(s,r))}catch(i){throw new Kc(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ls,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Kc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=ww(r.target.error);this.S.reject(new Kc(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(z(En,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new H5(n)}}class di{static delete(e){return z(En,"Removing database:",e),io(WC().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!ZC())return!1;if(di.F())return!0;const e=vt(),n=di.M(e),r=0<n&&n<10,s=ZA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,di.M(vt())===12.2&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(z(En,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Kc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new J(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Kc(e,o))},s.onupgradeneeded=i=>{z(En,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;if(this.L!==null&&this.L!==i.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${i.oldVersion}, event.newVersion=${i.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,i.oldVersion,this.version).next(()=>{z(En,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var r;n.newVersion===null&&(jr('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=Jp.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.v(),c)).catch(c=>(a.abort(c),O.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(z(En,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ZA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class K5{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return io(this.$.delete())}}class Kc extends J{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Li(t){return t.name==="IndexedDbTransactionError"}class H5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z(En,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(z(En,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),io(r)}add(e){return z(En,"ADD",this.store.name,e,e),io(this.store.add(e))}get(e){return io(this.store.get(e)).next(n=>(n===void 0&&(n=null),z(En,"GET",this.store.name,e,n),n))}delete(e){return z(En,"DELETE",this.store.name,e),io(this.store.delete(e))}count(){return z(En,"COUNT",this.store.name),io(this.store.count())}j(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new O((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.J(i,(a,l)=>{o.push(l)}).next(()=>o)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new O((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}Y(e,n){z(En,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const s=this.cursor(r);return this.J(s,(i,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.J(s,n)}ee(e){const n=this.cursor({});return new O((r,s)=>{n.onerror=i=>{const o=ww(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}J(e,n){const r=[];return new O((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new K5(a),c=n(a.primaryKey,a.value,l);if(c instanceof O){const d=c.catch(h=>(l.done(),O.reject(h)));r.push(d)}l.isDone?s():l.W===null?a.continue():a.continue(l.W)}}).next(()=>O.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function io(t){return new O((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=ww(r.target.error);n(s)}})}let GE=!1;function ww(t){const e=di.M(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GE||(GE=!0,setTimeout(()=>{throw r},0)),r}}return t}const Hc="IndexBackfiller";class G5{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){z(Hc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.te.re();z(Hc,`Documents written: ${n}`)}catch(n){Li(n)?z(Hc,"Ignoring IndexedDB error during index backfill: ",n):await Ho(n)}await this.ne(6e4)})}}class q5{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ie(n,e))}ie(e,n){const r=new Set;let s=n,i=!0;return O.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z(Hc,`Processing collection: ${o}`),this.se(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.oe(s,i)).next(a=>(z(Hc,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}oe(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=XA(i);vw(o,r)>0&&(r=o)}),new kn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Bn.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function Zp(t){return t==null}function _u(t){return t===0&&1/t==-1/0}function Q5(t){return typeof t=="number"&&Number.isInteger(t)&&!_u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="";function Kt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qE(e)),e=X5(t.get(n),e);return qE(e)}function X5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Uf:n+="";break;default:n+=i}}return n}function qE(t){return t+Uf+""}function Cr(t){const e=t.length;if(re(e>=2,64408,{path:t}),e===2)return re(t.charAt(0)===Uf&&t.charAt(1)==="",56145,{path:t}),Me.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(Uf,i);switch((o<0||o>n)&&ee(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ee(61167,{path:t})}i=o+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="remoteDocuments",Ed="owner",sa="owner",xu="mutationQueues",Y5="userId",or="mutations",QE="batchId",uo="userMutationsIndex",XE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){return[t,Kt(e)]}function eP(t,e,n){return[t,Kt(e),n]}const J5={},al="documentMutations",Bf="remoteDocumentsV14",Z5=["prefixPath","collectionGroup","readTime","documentId"],tf="documentKeyIndex",e3=["prefixPath","collectionGroup","documentId"],tP="collectionGroupIndex",t3=["collectionGroup","readTime","prefixPath","documentId"],Eu="remoteDocumentGlobal",Gy="remoteDocumentGlobalKey",ll="targets",nP="queryTargetsIndex",n3=["canonicalId","targetId"],cl="targetDocuments",r3=["targetId","path"],_w="documentTargetsIndex",s3=["path","targetId"],$f="targetGlobalKey",Eo="targetGlobal",Tu="collectionParents",i3=["collectionId","parent"],ul="clientMetadata",o3="clientId",em="bundles",a3="bundleId",tm="namedQueries",l3="name",xw="indexConfiguration",c3="indexId",qy="collectionGroupIndex",u3="collectionGroup",Gc="indexState",d3=["indexId","uid"],rP="sequenceNumberIndex",h3=["uid","sequenceNumber"],qc="indexEntries",f3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sP="documentKeyIndex",p3=["indexId","uid","orderedDocumentKey"],nm="documentOverlays",m3=["userId","collectionPath","documentId"],Qy="collectionPathOverlayIndex",g3=["userId","collectionPath","largestBatchId"],iP="collectionGroupOverlayIndex",y3=["userId","collectionGroup","largestBatchId"],Ew="globals",v3="name",oP=[xu,or,al,to,ll,Ed,Eo,cl,ul,Eu,Tu,em,tm],w3=[...oP,nm],aP=[xu,or,al,Bf,ll,Ed,Eo,cl,ul,Eu,Tu,em,tm,nm],lP=aP,Tw=[...lP,xw,Gc,qc],_3=Tw,cP=[...Tw,Ew],x3=cP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends JA{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function wt(t,e){const n=he(t);return di.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JE(this.data.getIterator())}getIteratorFrom(e){return new JE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class JE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ia(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new $n([])}unionWith(e){let n=new ke(qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new dP("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const E3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(re(!!t,39018),typeof t=="string"){let e=0;const n=E3.exec(t);if(re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="server_timestamp",fP="__type__",pP="__previous_value__",mP="__local_write_time__";function bw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fP])===null||n===void 0?void 0:n.stringValue)===hP}function rm(t){const e=t.mapValue.fields[pP];return bw(e)?rm(e):e}function bu(t){const e=hs(t.mapValue.fields[mP].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const zf="(default)";class Mo{constructor(e,n){this.projectId=e,this.database=n||zf}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="__type__",gP="__max__",ri={mapValue:{fields:{__type__:{stringValue:gP}}}},Sw="__vector__",dl="value",nf={nullValue:"NULL_VALUE"};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bw(t)?4:yP(t)?9007199254740991:sm(t)?10:11:ee(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=hs(s.timestampValue),a=hs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return fs(s.bytesValue).isEqual(fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),a=$e(i.doubleValue);return o===a?_u(o)===_u(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(YE(o)!==YE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Iu(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Ei(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$e(i.integerValue||i.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ZE(t.timestampValue,e.timestampValue);case 4:return ZE(bu(t),bu(e));case 5:return Ky(t.stringValue,e.stringValue);case 6:return function(i,o){const a=fs(i),l=fs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ue(a[c],l[c]);if(d!==0)return d}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue($e(i.latitude),$e(o.latitude));return a!==0?a:ue($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},f=o.fields||{},m=(a=h[dl])===null||a===void 0?void 0:a.arrayValue,w=(l=f[dl])===null||l===void 0?void 0:l.arrayValue,y=ue(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:eT(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ri.mapValue&&o===ri.mapValue)return 0;if(i===ri.mapValue)return 1;if(o===ri.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Ky(l[h],d[h]);if(f!==0)return f;const m=Ei(a[l[h]],c[d[h]]);if(m!==0)return m}return ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{le:n})}}function ZE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=hs(t),r=hs(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function eT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ei(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function hl(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Yy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Yy(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function rf(t){switch(xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(t);return e?16+rf(e):16;case 5:return 2*t.stringValue.length;case 6:return fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+rf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Go(r.fields,(i,o)=>{s+=i.length+rf(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function Cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jy(t){return!!t&&"integerValue"in t}function Su(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sf(t){return!!t&&"mapValue"in t}function sm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iw])===null||n===void 0?void 0:n.stringValue)===Sw}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gP}const vP={mapValue:{fields:{[Iw]:{stringValue:Sw},[dl]:{arrayValue:{}}}}};function b3(t){return"nullValue"in t?nf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Cw(Mo.empty(),X.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sm(t)?vP:{mapValue:{}}:ee(35942,{value:t})}function I3(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Cw(Mo.empty(),X.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?vP:"mapValue"in t?sm(t)?{mapValue:{}}:ri:ee(61959,{value:t})}function rT(t,e){const n=Ei(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function sT(t,e){const n=Ei(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=qe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Go(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(Qc(this.value))}}function wP(t){const e=[];return Go(t.fields,(n,r)=>{const s=new qe([n]);if(sf(r)){const i=wP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,ie.min(),ie.min(),ie.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new st(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new st(e,2,n,ie.min(),ie.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new st(e,3,n,ie.min(),ie.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.position=e,this.inclusive=n}}function iT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Ei(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function oT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function S3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _P=class{};class _e extends _P{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C3(e,n,r):n==="array-contains"?new R3(e,r):n==="in"?new SP(e,r):n==="not-in"?new k3(e,r):n==="array-contains-any"?new N3(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A3(e,r):new P3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ei(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(Ei(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends _P{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ve(e,n)}matches(e){return pl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function pl(t){return t.op==="and"}function Zy(t){return t.op==="or"}function Aw(t){return xP(t)&&pl(t)}function xP(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function ev(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(Aw(t))return t.filters.map(e=>ev(e)).join(",");{const e=t.filters.map(n=>ev(n)).join(",");return`${t.op}(${e})`}}function EP(t,e){return t instanceof _e?function(r,s){return s instanceof _e&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&EP(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function TP(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function bP(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(bP).join(" ,")+"}"}(t):"Filter"}class C3 extends _e{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class A3 extends _e{constructor(e,n){super(e,"in",n),this.keys=IP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P3 extends _e{constructor(e,n){super(e,"not-in",n),this.keys=IP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class R3 extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Su(n)&&Iu(n.arrayValue,this.value)}}class SP extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class k3 extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class N3 extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Su(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function tv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new D3(t,e,n,r,s,i,o)}function Vo(t){const e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ev(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),e.Pe=n}return e.Pe}function Td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oT(t.startAt,e.startAt)&&oT(t.endAt,e.endAt)}function Kf(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hf(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function aT(t,e,n){let r=nf,s=!0;for(const i of Hf(t,e)){let o=nf,a=!0;switch(i.op){case"<":case"<=":o=b3(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=nf}rT({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];rT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function lT(t,e,n){let r=ri,s=!0;for(const i of Hf(t,e)){let o=ri,a=!0;switch(i.op){case">=":case">":o=I3(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=ri}sT({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];sT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function M3(t,e,n,r,s,i,o,a){return new im(t,e,n,r,s,i,o,a)}function om(t){return new im(t)}function cT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V3(t){return t.collectionGroup!==null}function Xc(t){const e=he(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ke(qe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Wf(i,r))}),n.has(qe.keyField().canonicalString())||e.Te.push(new Wf(qe.keyField(),r))}return e.Te}function Kn(t){const e=he(t);return e.Ie||(e.Ie=O3(e,Xc(t))),e.Ie}function O3(t,e){if(t.limitType==="F")return tv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wf(s.field,i)});const n=t.endAt?new fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fl(t.startAt.position,t.startAt.inclusive):null;return tv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nv(t,e,n){return new im(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function am(t,e){return Td(Kn(t),Kn(e))&&t.limitType===e.limitType}function CP(t){return`${Vo(Kn(t))}|lt:${t.limitType}`}function ma(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>bP(s)).join(", ")}]`),Zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hl(s)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=iT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Xc(r),s)||r.endAt&&!function(o,a,l){const c=iT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Xc(r),s))}(t,e)}function L3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AP(t){return(e,n)=>{let r=!1;for(const s of Xc(t)){const i=j3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function j3(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ei(l,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return uP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Ke(X.comparator);function In(){return F3}const PP=new Ke(X.comparator);function Dc(...t){let e=PP;for(const n of t)e=e.insert(n.key,n);return e}function RP(t){let e=PP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Yc()}function kP(){return Yc()}function Yc(){return new bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const U3=new Ke(X.comparator),B3=new ke(X.comparator);function me(...t){let e=B3;for(const n of t)e=e.add(n);return e}const $3=new ke(ue);function z3(){return $3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function NP(t){return{integerValue:""+t}}function W3(t,e){return Q5(e)?NP(e):Pw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function K3(t,e,n){return t instanceof Cu?function(s,i){const o={fields:{[fP]:{stringValue:hP},[mP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&bw(i)&&(i=rm(i)),i&&(o.fields[pP]=i),{mapValue:o}}(n,e):t instanceof ml?MP(t,e):t instanceof gl?VP(t,e):function(s,i){const o=DP(s,i),a=uT(o)+uT(s.Ee);return Jy(o)&&Jy(s.Ee)?NP(a):Pw(s.serializer,a)}(t,e)}function H3(t,e,n){return t instanceof ml?MP(t,e):t instanceof gl?VP(t,e):n}function DP(t,e){return t instanceof Au?function(r){return Jy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Cu extends lm{}class ml extends lm{constructor(e){super(),this.elements=e}}function MP(t,e){const n=OP(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class gl extends lm{constructor(e){super(),this.elements=e}}function VP(t,e){let n=OP(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class Au extends lm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function uT(t){return $e(t.integerValue||t.doubleValue)}function OP(t){return Su(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.field=e,this.transform=n}}function q3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ml&&s instanceof ml||r instanceof gl&&s instanceof gl?il(r.elements,s.elements,Fr):r instanceof Au&&s instanceof Au?Fr(r.Ee,s.Ee):r instanceof Cu&&s instanceof Cu}(t.transform,e.transform)}class Q3{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let cm=class{};function LP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rw(t.key,Sn.none()):new Fl(t.key,t.data,Sn.none());{const n=t.data,r=ln.empty();let s=new ke(qe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ji(t.key,r,new $n(s.toArray()),Sn.none())}}function X3(t,e,n){t instanceof Fl?function(s,i,o){const a=s.value.clone(),l=hT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(s,i,o){if(!of(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=hT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(jP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jc(t,e,n,r){return t instanceof Fl?function(i,o,a,l){if(!of(i.precondition,o))return a;const c=i.value.clone(),d=fT(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,o,a,l){if(!of(i.precondition,o))return a;const c=fT(i.fieldTransforms,l,o),d=o.data;return d.setAll(jP(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return of(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Y3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=DP(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&il(r,s,(i,o)=>q3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends cm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ji extends cm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hT(t,e,n){const r=new Map;re(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,H3(o,a,n[s]))}return r}function fT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,K3(i,o,e))}return r}class Rw extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&X3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=LP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(n,r)=>dT(n,r))&&il(this.baseMutations,e.baseMutations,(n,r)=>dT(n,r))}}class Nw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){re(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return U3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Nw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,xe;function Z3(t){switch(t){case B.OK:return ee(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function UP(t){if(t===void 0)return Jt("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return ee(39323,{code:t})}}(xe=dt||(dt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new ui([4294967295,4294967295],0);function pT(t){const e=GA().encode(t),n=new FA;return n.update(e),new Uint8Array(n.digest())}function mT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ui([n,r],0),new ui([s,i],0)]}class Mw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mc(`Invalid padding: ${n}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ui.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(ui.fromNumber(r)));return s.compare(e6)===1&&(s=new ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=pT(e),[r,s]=mT(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=pT(e),[r,s]=mT(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new um(ie.min(),s,new Ke(ue),In(),me())}}class Id{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Id(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class BP{constructor(e,n){this.targetId=e,this.De=n}}class $P{constructor(e,n,r=mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class gT{constructor(){this.ve=0,this.Ce=yT(),this.Fe=mt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=me(),n=me(),r=me();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new Id(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=yT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class t6{constructor(e){this.We=e,this.Ge=new Map,this.ze=In(),this.je=hh(),this.Je=hh(),this.He=new Ke(ue)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Kf(i))if(r===0){const o=new X(i.path);this.Xe(n,o,st.newNoDocument(o,ie.min()))}else re(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=fs(r).toUint8Array()}catch(l){if(l instanceof dP)return jr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Mw(o,s,i)}catch(l){return jr(l instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Kf(a.target)){const l=new X(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,st.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=me();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new um(e,n,this.He,this.ze,r);return this.ze=In(),this.je=hh(),this.Je=hh(),this.He=new Ke(ue),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new gT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ke(ue),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ke(ue),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new gT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function hh(){return new Ke(X.comparator)}function yT(){return new Ke(X.comparator)}const n6={asc:"ASCENDING",desc:"DESCENDING"},r6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s6={and:"AND",or:"OR"};class i6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rv(t,e){return t.useProto3Json||Zp(e)?e:{value:e}}function yl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o6(t,e){return yl(t,e.toTimestamp())}function en(t){return re(!!t,49232),ie.fromTimestamp(function(n){const r=hs(n);return new Re(r.seconds,r.nanos)}(t))}function Vw(t,e){return sv(t,e).canonicalString()}function sv(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WP(t){const e=Me.fromString(t);return re(ZP(e),10190,{key:e.toString()}),e}function Gf(t,e){return Vw(t.databaseId,e.path)}function To(t,e){const n=WP(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(GP(n))}function KP(t,e){return Vw(t.databaseId,e)}function HP(t){const e=WP(t);return e.length===4?Me.emptyPath():GP(e)}function iv(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GP(t){return re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vT(t,e,n){return{name:Gf(t,e),fields:n.value.mapValue.fields}}function a6(t,e,n){const r=To(t,e.name),s=en(e.updateTime),i=e.createTime?en(e.createTime):ie.min(),o=new ln({mapValue:{fields:e.fields}}),a=st.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function l6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(re(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(re(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:UP(c.code);return new J(d,c.message||"")}(o);n=new $P(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=To(t,r.document.name),i=en(r.document.updateTime),o=r.document.createTime?en(r.document.createTime):ie.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=st.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new af(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=To(t,r.document),i=r.readTime?en(r.readTime):ie.min(),o=st.newNoDocument(s,i),a=r.removedTargetIds||[];n=new af([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=To(t,r.document),i=r.removedTargetIds||[];n=new af([],i,s,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new J3(s,i),a=r.targetId;n=new BP(a,o)}}return n}function qf(t,e){let n;if(e instanceof Fl)n={update:vT(t,e.key,e.value)};else if(e instanceof Rw)n={delete:Gf(t,e.key)};else if(e instanceof ji)n={update:vT(t,e.key,e.data),updateMask:p6(e.fieldMask)};else{if(!(e instanceof FP))return ee(16599,{Rt:e.type});n={verify:Gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Au)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:o6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function ov(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Sn.updateTime(en(i.updateTime)):i.exists!==void 0?Sn.exists(i.exists):Sn.none()}(e.currentDocument):Sn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)re(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new Cu;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ml(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new gl(d)}else"increment"in a?l=new Au(o,a.increment):ee(16584,{proto:a});const c=qe.fromServerFormat(a.fieldPath);return new G3(c,l)}(t,s)):[];if(e.update){e.update.name;const s=To(t,e.update.name),i=new ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new $n(c.map(d=>qe.fromServerFormat(d)))}(e.updateMask);return new ji(s,i,o,n,r)}return new Fl(s,i,n,r)}if(e.delete){const s=To(t,e.delete);return new Rw(s,n)}if(e.verify){const s=To(t,e.verify);return new FP(s,n)}return ee(1463,{proto:e})}function c6(t,e){return t&&t.length>0?(re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?en(s.updateTime):en(i);return o.isEqual(ie.min())&&(o=en(i)),new Q3(o,s.transformResults||[])}(n,e))):[]}function qP(t,e){return{documents:[KP(t,e.path)]}}function QP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KP(t,s);const i=function(c){if(c.length!==0)return JP(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:ga(f.field),direction:d6(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function XP(t){let e=HP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){re(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=YP(h);return f instanceof Ve&&Aw(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Wf(ya(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Zp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new fl(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new fl(m,f)}(n.endAt)),M3(e,s,o,i,a,"F",l,c)}function u6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ya(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ya(n.unaryFilter.field);return _e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ya(n.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ya(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return _e.create(ya(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(r=>YP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function d6(t){return n6[t]}function h6(t){return r6[t]}function f6(t){return s6[t]}function ga(t){return{fieldPath:t.canonicalString()}}function ya(t){return qe.fromServerFormat(t.fieldPath)}function JP(t){return t instanceof _e?function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(n.field),op:h6(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(s=>JP(s));return r.length===1?r[0]:{compositeFilter:{op:f6(n.op),filters:r}}}(t):ee(54877,{filter:t})}function p6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.gt=e}}function m6(t,e){let n;if(e.document)n=a6(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=X.fromSegments(e.noDocument.path),s=Lo(e.noDocument.readTime);n=st.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee(56709);{const r=X.fromSegments(e.unknownDocument.path),s=Lo(e.unknownDocument.version);n=st.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Re(s[0],s[1]);return ie.fromTimestamp(i)}(e.readTime)),n}function wT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Gf(i,o.key),fields:o.data.value.mapValue.fields,updateTime:yl(i,o.version.toTimestamp()),createTime:yl(i,o.createTime.toTimestamp())}}(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Oo(e.version)};else{if(!e.isUnknownDocument())return ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Oo(e.version)}}return r}function Qf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Oo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Lo(t){const e=new Re(t.seconds,t.nanoseconds);return ie.fromTimestamp(e)}function oo(t,e){const n=(e.baseMutations||[]).map(i=>ov(t.gt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>ov(t.gt,i)),s=Re.fromMillis(e.localWriteTimeMs);return new kw(e.batchId,s,n,r)}function Vc(t){const e=Lo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Lo(t.lastLimboFreeSnapshotVersion):ie.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return re(o===1,1966,{count:o}),Kn(om(HP(i.documents[0])))}(t.query):function(i){return Kn(XP(i))}(t.query),new ss(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mt.fromBase64String(t.resumeToken))}function tR(t,e){const n=Oo(e.snapshotVersion),r=Oo(e.lastLimboFreeSnapshotVersion);let s;s=Kf(e.target)?qP(t.gt,e.target):QP(t.gt,e.target).Vt;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vo(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function nR(t){const e=XP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nv(e,e.limit,"L"):e}function Cg(t,e){return new Dw(e.largestBatchId,ov(t.gt,e.overlayMutation))}function _T(t,e){const n=e.path.lastSegment();return[t,Kt(e.path.popLast()),n]}function xT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Oo(r.readTime),documentKey:Kt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{getBundleMetadata(e,n){return ET(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Lo(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return ET(e).put(function(s){return{bundleId:s.id,createTime:Oo(en(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return TT(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:nR(i.bundledQuery),readTime:Lo(i.readTime)}}(r)})}saveNamedQuery(e,n){return TT(e).put(function(s){return{name:s.name,readTime:Oo(en(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function ET(t){return wt(t,em)}function TT(t){return wt(t,tm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new dm(e,r)}getOverlay(e,n){return pc(e).get(_T(this.userId,n)).next(r=>r?Cg(this.serializer,r):null)}getOverlays(e,n){const r=Ar();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new Dw(n,o);s.push(this.wt(e,a))}),O.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Kt(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(pc(e).Y(Qy,a))}),O.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ar(),i=Kt(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return pc(e).j(Qy,o).next(a=>{for(const l of a){const c=Cg(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Ar();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return pc(e).X({index:iP,range:a},(l,c,d)=>{const h=Cg(this.serializer,c);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>i)}wt(e,n){return pc(e).put(function(s,i,o){const[a,l,c]=_T(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qf(s.gt,o.mutation)}}(this.serializer,this.userId,n))}}function pc(t){return wt(t,nm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{St(e){return wt(e,Ew)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?mt.fromUint8Array(r):mt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft($e(e.integerValue));else if("doubleValue"in e){const r=$e(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),_u(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=hs(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(fs(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?yP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):sm(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):ee(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const s of Object.keys(r))this.xt(s,n),this.Dt(r[s],n)}Lt(e,n){var r,s;const i=e.fields||{};this.Ct(n,53);const o=dl,a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(n,15),n.Ft($e(a)),this.xt(o,n),this.Dt(i[o],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const s of r)this.Dt(s,n)}Bt(e,n){this.Ct(n,37),X.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}ao.Ut=new ao;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=255;function v6(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function bT(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=v6(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class w6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const s=n.codePointAt(0);this.Wt(240|s>>>18),this.Wt(128|63&s>>>12),this.Wt(128|63&s>>>6),this.Wt(128|63&s)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const s=n.codePointAt(0);this.jt(240|s>>>18),this.jt(128|63&s>>>12),this.jt(128|63&s>>>6),this.jt(128|63&s)}}this.Jt()}Zt(e){const n=this.Xt(e),r=bT(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}tn(e){const n=this.Xt(e),r=bT(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}nn(){this.rn(oa),this.rn(255)}sn(){this._n(oa),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===oa?(this.rn(oa),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===oa?(this._n(oa),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class _6{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class x6{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class mc{constructor(){this.un=new w6,this.cn=new _6(this.un),this.ln=new x6(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r,s){this.Pn=e,this.Tn=n,this.In=r,this.dn=s}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new lo(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:lf(this.In),directionalValue:lf(this.dn),orderedDocumentKey:lf(n),documentKey:r.path.toArray()}}Rn(e,n,r){const s=this.An(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Vs(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=IT(t.In,e.In),n!==0?n:(n=IT(t.dn,e.dn),n!==0?n:X.comparator(t.Tn,e.Tn)))}function IT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function lf(t){return JC()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function ST(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class CT{constructor(e){this.Vn=new ke((n,r)=>qe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(re(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=Hy(e);if(n!==void 0&&!this.yn(n))return!1;const r=eo(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.yn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.wn(a,l)||!this.Sn(this.mn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.mn.length||!this.Sn(this.mn[o++],a))return!1}return!0}bn(){if(this.gn)return null;let e=new ke(qe.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Zh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Zh(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Zh(r.field,r.dir==="asc"?0:1)));return new Ff(Ff.UNKNOWN_ID,this.collectionId,n,wu.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){var e,n;if(re(t instanceof _e||t instanceof Ve,20012),t instanceof _e){if(t instanceof SP){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>_e.create(t.field,"==",i)))||[];return Ve.create(s,"or")}return t}const r=t.filters.map(s=>rR(s));return Ve.create(r,t.op)}function E6(t){if(t.getFilters().length===0)return[];const e=cv(rR(t));return re(sR(e),7391),av(e)||lv(e)?[e]:e.getFilters()}function av(t){return t instanceof _e}function lv(t){return t instanceof Ve&&Aw(t)}function sR(t){return av(t)||lv(t)||function(n){if(n instanceof Ve&&Zy(n)){for(const r of n.getFilters())if(!av(r)&&!lv(r))return!1;return!0}return!1}(t)}function cv(t){if(re(t instanceof _e||t instanceof Ve,34018),t instanceof _e)return t;if(t.filters.length===1)return cv(t.filters[0]);const e=t.filters.map(r=>cv(r));let n=Ve.create(e,t.op);return n=Xf(n),sR(n)?n:(re(n instanceof Ve,64498),re(pl(n),40251),re(n.filters.length>1,57927),n.filters.reduce((r,s)=>Ow(r,s)))}function Ow(t,e){let n;return re(t instanceof _e||t instanceof Ve,38388),re(e instanceof _e||e instanceof Ve,25473),n=t instanceof _e?e instanceof _e?function(s,i){return Ve.create([s,i],"and")}(t,e):AT(t,e):e instanceof _e?AT(e,t):function(s,i){if(re(s.filters.length>0&&i.filters.length>0,48005),pl(s)&&pl(i))return TP(s,i.getFilters());const o=Zy(s)?s:i,a=Zy(s)?i:s,l=o.filters.map(c=>Ow(c,a));return Ve.create(l,"or")}(t,e),Xf(n)}function AT(t,e){if(pl(e))return TP(e,t.getFilters());{const n=e.filters.map(r=>Ow(t,r));return Ve.create(n,"or")}}function Xf(t){if(re(t instanceof _e||t instanceof Ve,11850),t instanceof _e)return t;const e=t.getFilters();if(e.length===1)return Xf(e[0]);if(xP(t))return t;const n=e.map(s=>Xf(s)),r=[];return n.forEach(s=>{s instanceof _e?r.push(s):s instanceof Ve&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.Dn=new Lw}addToCollectionParentIndex(e,n){return this.Dn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(kn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class Lw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ke(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ke(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="IndexedDbIndexManager",fh=new Uint8Array(0);class b6{constructor(e,n){this.databaseId=n,this.vn=new Lw,this.Cn=new bs(r=>Vo(r),(r,s)=>Td(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:r,parent:Kt(s)};return RT(e).put(i)}return O.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[qA(n),""],!1,!0);return RT(e).j(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Cr(o.parent))}return r})}addFieldIndex(e,n){const r=gc(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=la(e);return i.next(a=>{o.put(xT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=gc(e),s=la(e),i=aa(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=gc(e),r=aa(e),s=la(e);return n.Y().next(()=>r.Y()).next(()=>s.Y())}createTargetIndexes(e,n){return O.forEach(this.Fn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new CT(r).bn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=aa(e);let s=!0;const i=new Map;return O.forEach(this.Fn(n),o=>this.Mn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=me();const a=[];return O.forEach(i,(l,c)=>{z(PT,`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(l)} to execute ${Vo(n)}`);const d=function(T,A){const k=Hy(A);if(k===void 0)return null;for(const V of Hf(T,k.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null}(c,l),h=function(T,A){const k=new Map;for(const V of eo(A))for(const S of Hf(T,V.fieldPath))switch(S.op){case"==":case"in":k.set(V.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return k.set(V.fieldPath.canonicalString(),S.value),Array.from(k.values())}return null}(c,l),f=function(T,A){const k=[];let V=!0;for(const S of eo(A)){const I=S.kind===0?aT(T,S.fieldPath,T.startAt):lT(T,S.fieldPath,T.startAt);k.push(I.value),V&&(V=I.inclusive)}return new fl(k,V)}(c,l),m=function(T,A){const k=[];let V=!0;for(const S of eo(A)){const I=S.kind===0?lT(T,S.fieldPath,T.endAt):aT(T,S.fieldPath,T.endAt);k.push(I.value),V&&(V=I.inclusive)}return new fl(k,V)}(c,l),w=this.xn(l,c,f),y=this.xn(l,c,m),b=this.On(l,c,h),_=this.Nn(l.indexId,d,w,f.inclusive,y,m.inclusive,b);return O.forEach(_,x=>r.H(x,n.limit).next(T=>{T.forEach(A=>{const k=X.fromSegments(A.documentKey);o.has(k)||(o=o.add(k),a.push(k))})}))}).next(()=>a)}return O.resolve(null)})}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=E6(Ve.create(e.filters,"and")).map(r=>tv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}Nn(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Bn(n[h/c]):fh,m=this.Ln(e,f,r[h%c],s),w=this.kn(e,f,i[h%c],o),y=a.map(b=>this.Ln(e,f,b,!0));d.push(...this.createRange(m,w,y))}return d}Ln(e,n,r,s){const i=new lo(e,X.empty(),n,r);return s?i:i.En()}kn(e,n,r,s){const i=new lo(e,X.empty(),n,r);return s?i.En():i}Mn(e,n){const r=new CT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.pn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Fn(n);return O.forEach(s,i=>this.Mn(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new ke(qe.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}qn(e,n){const r=new mc;for(const s of eo(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.hn(s.kind);ao.Ut.bt(i,o)}return r.an()}Bn(e){const n=new mc;return ao.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new mc;return ao.Ut.bt(Cw(this.databaseId,n),r.hn(function(i){const o=eo(i);return o.length===0?0:o[o.length-1].kind}(e))),r.an()}On(e,n,r){if(r===null)return[];let s=[];s.push(new mc);let i=0;for(const o of eo(e)){const a=r[i++];for(const l of s)if(this.$n(n,o.fieldPath)&&Su(a))s=this.Un(s,o,a);else{const c=l.hn(o.kind);ao.Ut.bt(a,c)}}return this.Kn(s)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new mc;l.seed(a.an()),ao.Ut.bt(o,l.hn(n.kind)),i.push(l)}return i}$n(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=gc(e),s=la(e);return(n?r.j(qy,IDBKeyRange.bound(n,n)):r.j()).next(i=>{const o=[];return O.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new wu(h.sequenceNumber,new kn(Lo(h.readTime),new X(Cr(h.documentKey)),h.largestBatchId)):wu.empty(),m=d.fields.map(([w,y])=>new Zh(qe.fromServerFormat(w),y));return new Ff(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ue(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=gc(e),i=la(e);return this.Wn(e).next(o=>s.j(qy,IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,l=>i.put(xT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?O.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),O.forEach(a,l=>this.Gn(e,s,l).next(c=>{const d=this.zn(i,l);return c.isEqual(d)?O.resolve():this.jn(e,i,l,c,d)}))))})}Jn(e,n,r,s){return aa(e).put(s.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,s){return aa(e).delete(s.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const s=aa(e);let i=new ke(Vs);return s.X({index:sP,range:IDBKeyRange.only([r.indexId,this.uid,lf(this.Qn(r,n))])},(o,a)=>{i=i.add(new lo(r.indexId,n,ST(a.arrayValue),ST(a.directionalValue)))}).next(()=>i)}zn(e,n){let r=new ke(Vs);const s=this.qn(n,e);if(s==null)return r;const i=Hy(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Su(o))for(const a of o.arrayValue.values||[])r=r.add(new lo(n.indexId,e.key,this.Bn(a),s))}else r=r.add(new lo(n.indexId,e.key,fh,s));return r}jn(e,n,r,s,i){z(PT,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,h,f){const m=l.getIterator(),w=c.getIterator();let y=ia(m),b=ia(w);for(;y||b;){let _=!1,x=!1;if(y&&b){const T=d(y,b);T<0?x=!0:T>0&&(_=!0)}else y!=null?x=!0:_=!0;_?(h(b),b=ia(w)):x?(f(y),y=ia(m)):(y=ia(m),b=ia(w))}}(s,i,Vs,a=>{o.push(this.Jn(e,n,r,a))},a=>{o.push(this.Hn(e,n,r,a))}),O.waitFor(o)}Wn(e){let n=1;return la(e).X({index:rP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Vs(o,a)).filter((o,a,l)=>!a||Vs(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Vs(o,e),l=Vs(o,n);if(a===0)s[0]=e.En();else if(a>0&&l<0)s.push(o),s.push(o.En());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Yn(s[o],s[o+1]))return[];const a=s[o].Rn(this.uid,fh,X.empty()),l=s[o+1].Rn(this.uid,fh,X.empty());i.push(IDBKeyRange.bound(a,l))}return i}Yn(e,n){return Vs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(kT)}getMinOffset(e,n){return O.mapArray(this.Fn(n),r=>this.Mn(e,r).next(s=>s||ee(44426))).next(kT)}}function RT(t){return wt(t,Tu)}function aa(t){return wt(t,qc)}function gc(t){return wt(t,xw)}function la(t){return wt(t,Gc)}function kT(t){re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;vw(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new kn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iR=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e,n){const r=t.store(or),s=t.store(al),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(d,h,f)=>(a++,f.delete()));i.push(l.next(()=>{re(a===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=eP(e,d.key.path,n.batchId);i.push(s.delete(h)),c.push(d.key)}return O.waitFor(i).next(()=>c)}function Yf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(iR,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);class hm{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static yt(e,n,r,s){re(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new hm(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Os(e).X({index:uo,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=va(e),o=Os(e);return o.add({}).next(a=>{re(typeof a=="number",49019);const l=new kw(a,n,r,s),c=function(m,w,y){const b=y.baseMutations.map(x=>qf(m.gt,x)),_=y.mutations.map(x=>qf(m.gt,x));return{userId:w,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:b,mutations:_}}(this.serializer,this.userId,l),d=[];let h=new ke((f,m)=>ue(f.canonicalString(),m.canonicalString()));for(const f of s){const m=eP(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(i.put(m,J5))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),O.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Os(e).get(n).next(r=>r?(re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),oo(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?O.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Zn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Os(e).X({index:uo,range:s},(o,a,l)=>{a.userId===this.userId&&(re(a.batchId>=r,47524,{er:r}),i=oo(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=xo;return Os(e).X({index:uo,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,xo],[this.userId,Number.POSITIVE_INFINITY]);return Os(e).j(uo,n).next(r=>r.map(s=>oo(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ef(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return va(e).X({range:s},(o,a,l)=>{const[c,d,h]=o,f=Cr(d);if(c===this.userId&&n.path.isEqual(f))return Os(e).get(h).next(m=>{if(!m)throw ee(61480,{tr:o,batchId:h});re(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),i.push(oo(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(ue);const s=[];return n.forEach(i=>{const o=ef(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=va(e).X({range:a},(c,d,h)=>{const[f,m,w]=c,y=Cr(m);f===this.userId&&i.path.isEqual(y)?r=r.add(w):h.done()});s.push(l)}),O.waitFor(s).next(()=>this.nr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=ef(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new ke(ue);return va(e).X({range:o},(l,c,d)=>{const[h,f,m]=l,w=Cr(f);h===this.userId&&r.isPrefixOf(w)?w.length===s&&(a=a.add(m)):d.done()}).next(()=>this.nr(e,a))}nr(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Os(e).get(i).next(o=>{if(o===null)throw ee(35274,{batchId:i});re(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(oo(this.serializer,o))}))}),O.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return oR(e.ce,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.rr(n.batchId)}),O.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return va(e).X({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Cr(i[1]);s.push(l)}else a.done()}).next(()=>{re(s.length===0,56720,{ir:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return aR(e,this.userId,n)}sr(e){return lR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:xo,lastStreamToken:""})}}function aR(t,e,n){const r=ef(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return va(t).X({range:i,Z:!0},(a,l,c)=>{const[d,h,f]=a;d===e&&h===s&&(o=!0),c.done()}).next(()=>o)}function Os(t){return wt(t,or)}function va(t){return wt(t,al)}function lR(t){return wt(t,xu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new jo(0)}static ur(){return new jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next(n=>{const r=new jo(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(n=>ie.fromTimestamp(new Re(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.cr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.lr(e,s)))}addTargetData(e,n){return this.hr(e,n).next(()=>this.cr(e).next(r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ca(e).delete(n.targetId)).next(()=>this.cr(e)).next(r=>(re(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return ca(e).X((o,a)=>{const l=Vc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>O.waitFor(i)).next(()=>s)}forEachTarget(e,n){return ca(e).X((r,s)=>{const i=Vc(s);n(i)})}cr(e){return DT(e).get($f).next(n=>(re(n!==null,2888),n))}lr(e,n){return DT(e).put($f,n)}hr(e,n){return ca(e).put(tR(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Vo(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return ca(e).X({range:s,index:nP},(o,a,l)=>{const c=Vc(a);Td(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Qs(e);return n.forEach(o=>{const a=Kt(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),O.waitFor(s)}removeMatchingKeys(e,n,r){const s=Qs(e);return O.forEach(n,i=>{const o=Kt(i.path);return O.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Qs(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Qs(e);let i=me();return s.X({range:r,Z:!0},(o,a,l)=>{const c=Cr(o[1]),d=new X(c);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=Kt(n.path),s=IDBKeyRange.bound([r],[qA(r)],!1,!0);let i=0;return Qs(e).X({index:_w,Z:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}Et(e,n){return ca(e).get(n).next(r=>r?Vc(r):null)}}function ca(t){return wt(t,ll)}function DT(t){return wt(t,Eo)}function Qs(t){return wt(t,cl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="LruGarbageCollector",S6=1048576;function VT([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class C6{constructor(e){this.Tr=e,this.buffer=new ke(VT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){z(MT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Li(n)?z(MT,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Rr(3e5)})}}class A6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(Bn.ue);const r=new C6(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(NT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),pa()<=we.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function uR(t,e){return new A6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.db=e,this.garbageCollector=uR(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,(r,s)=>n(s))}addReference(e,n,r){return ph(e,r)}removeReference(e,n,r){return ph(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return ph(e,n)}Sr(e,n){return function(s,i){let o=!1;return lR(s).ee(a=>aR(s,a,i).next(l=>(l&&(o=!0),O.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.wr(e,(o,a)=>{if(a<=n){const l=this.Sr(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ie.min()),Qs(e).delete(function(h){return[0,Kt(h.path)]}(o))))});s.push(l)}}).next(()=>O.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return ph(e,n)}wr(e,n){const r=Qs(e);let s,i=Bn.ue;return r.X({index:_w},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==Bn.ue&&n(new X(Cr(s)),i),i=c,s=l):i=Bn.ue}).next(()=>{i!==Bn.ue&&n(new X(Cr(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ph(t,e){return Qs(t).put(function(r,s){return{targetId:0,path:Kt(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Yi(e).put(r)}removeEntry(e,n,r){return Yi(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Qf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=st.newInvalidDocument(n);return Yi(e).X({index:tf,range:IDBKeyRange.only(yc(n))},(s,i)=>{r=this.Dr(n,i)}).next(()=>r)}vr(e,n){let r={size:0,document:st.newInvalidDocument(n)};return Yi(e).X({index:tf,range:IDBKeyRange.only(yc(n))},(s,i)=>{r={document:this.Dr(n,i),size:Yf(i)}}).next(()=>r)}getEntries(e,n){let r=In();return this.Cr(e,n,(s,i)=>{const o=this.Dr(s,i);r=r.insert(s,o)}).next(()=>r)}Fr(e,n){let r=In(),s=new Ke(X.comparator);return this.Cr(e,n,(i,o)=>{const a=this.Dr(i,o);r=r.insert(i,a),s=s.insert(i,Yf(o))}).next(()=>({documents:r,Mr:s}))}Cr(e,n,r){if(n.isEmpty())return O.resolve();let s=new ke(jT);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(yc(s.first()),yc(s.last())),o=s.getIterator();let a=o.getNext();return Yi(e).X({index:tf,range:i},(l,c,d)=>{const h=X.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&jT(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.G(yc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Qf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yi(e).j(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let d=In();for(const h of c){const f=this.Dr(X.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(bd(n,f)||s.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=In();const o=LT(n,r),a=LT(n,kn.max());return Yi(e).X({index:tP,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const h=this.Dr(X.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(h.key,h),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new k6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return OT(e).get(Gy).next(n=>(re(!!n,20021),n))}br(e,n){return OT(e).put(Gy,n)}Dr(e,n){if(n){const r=m6(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ie.min())))return r}return st.newInvalidDocument(e)}}function hR(t){return new R6(t)}class k6 extends dR{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new bs(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new ke((i,o)=>ue(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Nr.get(i);if(n.push(this.Or.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=wT(this.Or.serializer,o);s=s.add(i.path.popLast());const c=Yf(l);r+=c-a.size,n.push(this.Or.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=wT(this.Or.serializer,o.convertToNoDocument(ie.min()));n.push(this.Or.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Or.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next(r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Or.Fr(e,n).next(({documents:r,Mr:s})=>(s.forEach((i,o)=>{this.Nr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function OT(t){return wt(t,Eu)}function Yi(t){return wt(t,Bf)}function yc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LT(t,e){const n=e.documentKey.path.toArray();return[t,Qf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ue(n[i],r[i]),s)return s;return s=ue(n.length,r.length),s||(s=ue(n[n.length-2],r[r.length-2]),s||ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Jc(r.mutation,s,$n.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Ar();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=In();const o=Yc(),a=function(){return Yc()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ji)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Jc(d.mutation,c,d.mutation.getFieldMask(),Re.now())):o.set(c.key,$n.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new N6(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yc();let s=new Ke((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||$n.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=kP();d.forEach(f=>{if(!i.has(f)){const m=LP(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Ar());let a=vu,l=i;return o.next(c=>O.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,me())).next(d=>({batchId:a,changes:RP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=Dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dc();return this.indexManager.getCollectionParents(e,i).next(a=>O.forEach(a,l=>{const c=function(h,f){return new im(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,st.newInvalidDocument(d)))});let a=Dc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Jc(d.mutation,c,$n.empty(),Re.now()),bd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return O.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:en(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:nR(s.bundledQuery),readTime:en(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.overlays=new Ke(X.comparator),this.kr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Ar(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ar(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ar(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return O.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dw(n,r));let i=this.kr.get(n);i===void 0&&(i=me(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.qr=new ke(_t.Qr),this.$r=new ke(_t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _t(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new X(new Me([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new X(new Me([])),r=new _t(n,e),s=new _t(n,e+1);let i=me();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return X.comparator(e.key,n.key)||ue(e.Hr,n.Hr)}static Ur(e,n){return ue(e.Hr,n.Hr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ke(_t.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kw(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?xo:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(ue);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new _t(new X(i),0);let a=new ke(ue);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),O.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){re(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _t(n,0),s=this.Yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.ni=e,this.docs=function(){return new Ke(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():st.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=In();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vw(XA(d),r)<=0||(s.has(d.key)||bd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ri(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j6(this)}getSize(e){return O.resolve(this.size)}}class j6 extends dR{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.persistence=e,this.ii=new bs(n=>Vo(n),Td),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new jw,this.targetCount=0,this._i=jo.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),O.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.hr(n),O.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.ai={},this.overlays={},this.ui=new Bn(0),this.ci=!1,this.ci=!0,this.li=new V6,this.referenceDelegate=e(this),this.hi=new F6(this),this.indexManager=new T6,this.remoteDocumentCache=function(s){return new L6(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new eR(n),this.Ti=new D6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new O6(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const s=new U6(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class U6 extends JA{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Ai=new jw,this.Ri=null}static Vi(e){return new fm(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{const s=X.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return O.or([()=>O.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Jf{constructor(e,n){this.persistence=e,this.gi=new bs(r=>Kt(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uR(this,n)}static Vi(e,n){return new Jf(e,n)}Ii(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return O.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?O.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rf(e.data.value)),n}Sr(e,n,r){return O.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return O.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.serializer=e}q(e,n,r,s){const i=new Jp("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore(Ed)}(e),function(l){l.createObjectStore(xu,{keyPath:Y5}),l.createObjectStore(or,{keyPath:QE,autoIncrement:!0}).createIndex(uo,XE,{unique:!0}),l.createObjectStore(al)}(e),FT(e),function(l){l.createObjectStore(to)}(e));let o=O.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore(cl),l.deleteObjectStore(ll),l.deleteObjectStore(Eo)}(e),FT(e)),o=o.next(()=>function(l){const c=l.store(Eo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ie.min().toTimestamp(),targetCount:0};return c.put($f,d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(or).j().next(h=>{l.deleteObjectStore(or),l.createObjectStore(or,{keyPath:QE,autoIncrement:!0}).createIndex(uo,XE,{unique:!0});const f=c.store(or),m=h.map(w=>f.put(w));return O.waitFor(m)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore(ul,{keyPath:o3})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.pi(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Eu)}(e),this.yi(i)))),r<7&&s>=7&&(o=o.next(()=>this.wi(i))),r<8&&s>=8&&(o=o.next(()=>this.Si(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.bi(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(em,{keyPath:a3})})(e),function(l){l.createObjectStore(tm,{keyPath:l3})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(nm,{keyPath:m3});c.createIndex(Qy,g3,{unique:!1}),c.createIndex(iP,y3,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(Bf,{keyPath:Z5});c.createIndex(tf,e3),c.createIndex(tP,t3)}(e)).next(()=>this.Di(e,i)).next(()=>e.deleteObjectStore(to))),r<14&&s>=14&&(o=o.next(()=>this.Ci(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore(xw,{keyPath:c3,autoIncrement:!0}).createIndex(qy,u3,{unique:!1}),l.createObjectStore(Gc,{keyPath:d3}).createIndex(rP,h3,{unique:!1}),l.createObjectStore(qc,{keyPath:f3}).createIndex(sP,p3,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(Gc).clear()}).next(()=>{n.objectStore(qc).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(Ew,{keyPath:v3})})(e)})),r<18&&s>=18&&JC()&&(o=o.next(()=>{n.objectStore(Gc).clear()}).next(()=>{n.objectStore(qc).clear()})),o}yi(e){let n=0;return e.store(to).X((r,s)=>{n+=Yf(s)}).next(()=>{const r={byteSize:n};return e.store(Eu).put(Gy,r)})}pi(e){const n=e.store(xu),r=e.store(or);return n.j().next(s=>O.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,xo],[i.userId,i.lastAcknowledgedBatchId]);return r.j(uo,o).next(a=>O.forEach(a,l=>{re(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=oo(this.serializer,l);return oR(e,i.userId,c).next(()=>{})}))}))}wi(e){const n=e.store(cl),r=e.store(to);return e.store(Eo).get($f).next(s=>{const i=[];return r.X((o,a)=>{const l=new Me(o),c=function(h){return[0,Kt(h)]}(l);i.push(n.get(c).next(d=>d?O.resolve():(h=>n.put({targetId:0,path:Kt(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>O.waitFor(i))})}Si(e,n){e.createObjectStore(Tu,{keyPath:i3});const r=n.store(Tu),s=new Lw,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Kt(l)})}};return n.store(to).X({Z:!0},(o,a)=>{const l=new Me(o);return i(l.popLast())}).next(()=>n.store(al).X({Z:!0},([o,a,l],c)=>{const d=Cr(a);return i(d.popLast())}))}bi(e){const n=e.store(ll);return n.X((r,s)=>{const i=Vc(s),o=tR(this.serializer,i);return n.put(o)})}Di(e,n){const r=n.store(to),s=[];return r.X((i,o)=>{const a=n.store(Bf),l=function(h){return h.document?new X(Me.fromString(h.document.name).popFirst(5)):h.noDocument?X.fromSegments(h.noDocument.path):h.unknownDocument?X.fromSegments(h.unknownDocument.path):ee(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>O.waitFor(s))}Ci(e,n){const r=n.store(or),s=hR(this.serializer),i=new Fw(fm.Vi,this.serializer.gt);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:me();oo(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),O.forEach(a,(l,c)=>{const d=new At(c),h=dm.yt(this.serializer,d),f=i.getIndexManager(d),m=hm.yt(d,this.serializer,f,i.referenceDelegate);return new fR(s,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Xy(n,Bn.ue),l).next()})})}}function FT(t){t.createObjectStore(cl,{keyPath:r3}).createIndex(_w,s3,{unique:!0}),t.createObjectStore(ll,{keyPath:"targetId"}).createIndex(nP,n3,{unique:!0}),t.createObjectStore(Eo)}const Ls="IndexedDbPersistence",Ag=18e5,Pg=5e3,Rg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$6="main";class Uw{constructor(e,n,r,s,i,o,a,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=i,this.window=o,this.document=a,this.Mi=c,this.xi=d,this.Oi=h,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=f=>Promise.resolve(),!Uw.C())throw new J(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new P6(this,s),this.Qi=n+$6,this.serializer=new eR(l),this.$i=new di(this.Qi,this.Oi,new B6(this.serializer)),this.li=new y6,this.hi=new I6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hR(this.serializer),this.Ti=new g6,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&Jt(Ls,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(B.FAILED_PRECONDITION,Rg);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new Bn(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Yi(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(Li(e))return z(Ls,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z(Ls,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return vc(e).get(sa).next(n=>O.resolve(this.Xi(n)))}es(e){return mh(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,Ag)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=wt(n,ul);return r.j().next(s=>{const i=this.rs(s,Ag),o=s.filter(a=>i.indexOf(a)===-1);return O.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?O.resolve(!0):vc(e).get(sa).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,Pg)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new J(B.FAILED_PRECONDITION,Rg);return!1}}return!(!this.networkEnabled||!this.inForeground)||mh(e).j().next(r=>this.rs(r,Pg).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z(Ls,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[Ed,ul],e=>{const n=new Xy(e,Bn.ue);return this.Yi(n).next(()=>this.es(n))}),this.$i.close(),this.hs()}rs(e,n){return e.filter(r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>mh(e).j().next(n=>this.rs(n,Ag).map(r=>r.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return hm.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b6(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return dm.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){z(Ls,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===18?x3:l===17?cP:l===16?_3:l===15?Tw:l===14?lP:l===13?aP:l===12?w3:l===11?oP:void ee(60245)}(this.Oi);let o;return this.$i.runTransaction(e,s,i,a=>(o=new Xy(a,this.ui?this.ui.next():Bn.ue),n==="readwrite-primary"?this.Ji(o).next(l=>!!l||this.Hi(o)).next(l=>{if(!l)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new J(B.FAILED_PRECONDITION,YA);return r(o)}).next(l=>this.Zi(o).next(()=>l)):this.Ts(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ts(e){return vc(e).get(sa).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,Pg)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(B.FAILED_PRECONDITION,Rg)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vc(e).put(sa,n)}static C(){return di.C()}Yi(e){const n=vc(e);return n.get(sa).next(r=>this.Xi(r)?(z(Ls,"Releasing primary lease."),n.delete(sa)):O.resolve())}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;YC()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return z(Ls,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jt(Ls,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vc(t){return wt(t,Ed)}function mh(t){return wt(t,ul)}function z6(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Bw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return YC()?8:ZA(vt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new W6;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(pa()<=we.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(pa()<=we.DEBUG&&z("QueryEngine","Query:",ma(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(pa()<=we.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):O.resolve())}ps(e,n){if(cT(n))return O.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nv(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,nv(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return cT(n)||s.isEqual(ie.min())?O.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?O.resolve(null):(pa()<=we.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ma(n)),this.vs(e,o,n,W5(s,vu)).next(a=>a))})}bs(e,n){let r=new ke(AP(e));return n.forEach((s,i)=>{bd(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return pa()<=we.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ma(n)),this.gs.getDocumentsMatchingQuery(e,n,kn.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="LocalStore",K6=3e8;class H6{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ke(ue),this.Ms=new bs(i=>Vo(i),Td),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function mR(t,e,n,r){return new H6(t,e,n,r)}async function gR(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function G6(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=O.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(y=>{const b=c.docVersions.get(w);re(b!==null,48541),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function yR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function q6(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(mt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=K6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(i,m))});let l=In(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Q6(i,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(ie.min())){const d=n.hi.getLastRemoteSnapshotVersion(i).next(h=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function Q6(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=In();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z($w,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function X6(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y6(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function uv(t,e,n){const r=he(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Li(o))throw o;z($w,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function UT(t,e,n){const r=he(t);let s=ie.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=he(l),f=h.Ms.get(d);return f!==void 0?O.resolve(h.Fs.get(f)):h.hi.getTargetData(c,d)}(r,o,Kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:me())).next(a=>(J6(r,L3(e),a),{documents:a,qs:i})))}function J6(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class BT{constructor(){this.activeTargetIds=z3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vR{constructor(){this.Fo=new BT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new BT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class zT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){z($T,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){z($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function dv(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="RestConnection",eU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tU{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=dv(),a=this.Go(e,n.toUriEncodedString());z(kg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),d=Vl(c);return this.jo(e,a,l,r,d).then(h=>(z(kg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw jr(kg,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=eU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class rU extends tU{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=dv();return new Promise((a,l)=>{const c=new UA;c.setWithCredentials(!0),c.listenOnce(BA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jh.NO_ERROR:const h=c.getResponseJson();z(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Jh.TIMEOUT:z(Lt,`RPC '${e}' ${o} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const f=c.getStatus();if(z(Lt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const y=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(w.status);l(new J(y,w.message))}else l(new J(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{z(Lt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);z(Lt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}P_(e,n,r){const s=dv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WA(),a=zA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");z(Lt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const w=new nU({Ho:b=>{m?z(Lt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(z(Lt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),z(Lt,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},Yo:()=>h.close()}),y=(b,_,x)=>{b.listen(_,T=>{try{x(T)}catch(A){setTimeout(()=>{throw A},0)}})};return y(h,Nc.EventType.OPEN,()=>{m||(z(Lt,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),y(h,Nc.EventType.CLOSE,()=>{m||(m=!0,z(Lt,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(h))}),y(h,Nc.EventType.ERROR,b=>{m||(m=!0,jr(Lt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),w.__(new J(B.UNAVAILABLE,"The operation could not be completed")))}),y(h,Nc.EventType.MESSAGE,b=>{var _;if(!m){const x=b.data[0];re(!!x,16349);const T=x,A=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(A){z(Lt,`RPC '${e}' stream ${s} received error:`,A);const k=A.status;let V=function(P){const R=dt[P];if(R!==void 0)return UP(R)}(k),S=A.message;V===void 0&&(V=B.INTERNAL,S="Unknown error status: "+k+" with message "+A.message),m=!0,w.__(new J(V,S)),h.close()}else z(Lt,`RPC '${e}' stream ${s} received:`,x),w.a_(x)}}),y(a,$A.STAT_EVENT,b=>{b.stat===Wy.PROXY?z(Lt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Wy.NOPROXY&&z(Lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){return typeof window<"u"?window:null}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return new i6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="PersistentStream";class _R{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Jt(n.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return z(WT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(z(WT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iU extends _R{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=l6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?en(o.readTime):ie.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Kf(l)?{documents:qP(i,l)}:{query:QP(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zP(i,o.resumeToken);const c=rv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=yl(i,o.snapshotVersion.toTimestamp());const c=rv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=u6(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.k_(n)}}class oU extends _R{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=c6(e.writeResults,e.commitTime),r=en(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=iv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qf(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{}class lU extends aU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,sv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,sv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class cU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Jt(n),this._a=!1):z("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class uU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{qo(this)&&(z(Fo,"Restarting streams for network reachability change."),await async function(l){const c=he(l);c.Ia.add(4),await Sd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await mm(c)}(this))})}),this.Aa=new cU(r,s)}}async function mm(t){if(qo(t))for(const e of t.da)await e(!0)}async function Sd(t){for(const e of t.da)await e(!1)}function xR(t,e){const n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Hw(n)?Kw(n):Ul(n).x_()&&Ww(n,e))}function zw(t,e){const n=he(t),r=Ul(n);n.Ta.delete(e),r.x_()&&ER(n,e),n.Ta.size===0&&(r.x_()?r.B_():qo(n)&&n.Aa.set("Unknown"))}function Ww(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).H_(e)}function ER(t,e){t.Ra.$e(e),Ul(t).Y_(e)}function Kw(t){t.Ra=new t6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Aa.aa()}function Hw(t){return qo(t)&&!Ul(t).M_()&&t.Ta.size>0}function qo(t){return he(t).Ia.size===0}function TR(t){t.Ra=void 0}async function dU(t){t.Aa.set("Online")}async function hU(t){t.Ta.forEach((e,n)=>{Ww(t,e)})}async function fU(t,e){TR(t),Hw(t)?(t.Aa.la(e),Kw(t)):t.Aa.set("Unknown")}async function pU(t,e,n){if(t.Aa.set("Online"),e instanceof $P&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){z(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zf(t,r)}else if(e instanceof af?t.Ra.Ye(e):e instanceof BP?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{const r=await yR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ta.get(c);d&&i.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ta.get(l);if(!d)return;i.Ta.set(l,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),ER(i,l);const h=new ss(d.target,l,c,d.sequenceNumber);Ww(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z(Fo,"Failed to raise snapshot:",r),await Zf(t,r)}}async function Zf(t,e,n){if(!Li(e))throw e;t.Ia.add(1),await Sd(t),t.Aa.set("Offline"),n||(n=()=>yR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z(Fo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await mm(t)})}function bR(t,e){return e().catch(n=>Zf(t,n,e))}async function Cd(t){const e=he(t),n=Ti(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:xo;for(;mU(e);)try{const s=await X6(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,gU(e,s)}catch(s){await Zf(e,s)}IR(e)&&SR(e)}function mU(t){return qo(t)&&t.Pa.length<10}function gU(t,e){t.Pa.push(e);const n=Ti(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function IR(t){return qo(t)&&!Ti(t).M_()&&t.Pa.length>0}function SR(t){Ti(t).start()}async function yU(t){Ti(t).na()}async function vU(t){const e=Ti(t);for(const n of t.Pa)e.X_(n.mutations)}async function wU(t,e,n){const r=t.Pa.shift(),s=Nw.from(r,e,n);await bR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cd(t)}async function _U(t,e){e&&Ti(t).Z_&&await async function(r,s){if(function(o){return Z3(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();Ti(r).N_(),await bR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Cd(r)}}(t,e),IR(t)&&SR(t)}async function KT(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),z(Fo,"RemoteStore received new credentials");const r=qo(n);n.Ia.add(3),await Sd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await mm(n)}async function xU(t,e){const n=he(t);e?(n.Ia.delete(2),await mm(n)):e||(n.Ia.add(2),await Sd(n),n.Aa.set("Unknown"))}function Ul(t){return t.Va||(t.Va=function(n,r,s){const i=he(n);return i.ia(),new iU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:dU.bind(null,t),e_:hU.bind(null,t),n_:fU.bind(null,t),J_:pU.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Hw(t)?Kw(t):t.Aa.set("Unknown")):(await t.Va.stop(),TR(t))})),t.Va}function Ti(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.ia(),new oU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:yU.bind(null,t),n_:_U.bind(null,t),ea:vU.bind(null,t),ta:wU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Cd(t)):(await t.ma.stop(),t.Pa.length>0&&(z(Fo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Gw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qw(t,e){if(Jt("AsyncQueue",`${e}: ${t}`),Li(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Dc(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.fa=new Ke(X.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class vl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vl(e,n,Fa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class TU{constructor(){this.queries=GT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=GT(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function GT(){return new bs(t=>CP(t),am)}async function bU(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new EU,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=qw(o,`Initialization of query '${ma(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&Qw(n)}async function IU(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SU(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&Qw(n)}function CU(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function Qw(t){t.Da.forEach(e=>{e.next()})}var hv,qT;(qT=hv||(hv={})).Fa="default",qT.Cache="cache";class AU{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.key=e}}class AR{constructor(e){this.key=e}}class PU{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=me(),this.mutatedKeys=me(),this.Xa=AP(e),this.eu=new Fa(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new HT,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=bd(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?w!==y&&(r.track({type:3,doc:m}),b=!0):this.iu(f,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),b=!0):f&&!m&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,w){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:b})}};return y(m)-y(w)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new vl(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new HT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new AR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new CR(r))}),n}uu(e){this.Ha=e.qs,this.Za=me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return vl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Xw="SyncEngine";class RU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kU{constructor(e){this.key=e,this.lu=!1}}class NU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new bs(a=>CP(a),am),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(X.comparator),this.Eu=new Map,this.Au=new jw,this.Ru={},this.Vu=new Map,this.mu=jo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function DU(t,e,n=!0){const r=MR(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await PR(r,e,n,!0),s}async function MU(t,e){const n=MR(t);await PR(n,e,!0,!1)}async function PR(t,e,n,r){const s=await Y6(t.localStore,Kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await VU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&xR(t.remoteStore,s),a}async function VU(t,e,n,r,s){t.gu=(h,f,m)=>async function(y,b,_,x){let T=b.view.nu(_);T.Ds&&(T=await UT(y.localStore,b.query,!1).then(({documents:S})=>b.view.nu(S,T)));const A=x&&x.targetChanges.get(b.targetId),k=x&&x.targetMismatches.get(b.targetId)!=null,V=b.view.applyChanges(T,y.isPrimaryClient,A,k);return XT(y,b.targetId,V._u),V.snapshot}(t,h,f,m);const i=await UT(t.localStore,e,!0),o=new PU(e,i.qs),a=o.nu(i.documents),l=Id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);XT(t,n,c._u);const d=new RU(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function OU(t,e,n){const r=he(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!am(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await uv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zw(r.remoteStore,s.targetId),fv(r,s.targetId)}).catch(Ho)):(fv(r,s.targetId),await uv(r.localStore,s.targetId,!0))}async function LU(t,e){const n=he(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zw(n.remoteStore,r.targetId))}async function jU(t,e,n){const r=VR(t);try{const s=await function(o,a){const l=he(o),c=Re.now(),d=a.reduce((m,w)=>m.add(w.key),me());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=In(),y=me();return l.Os.getEntries(m,d).next(b=>{w=b,w.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(b=>{h=b;const _=[];for(const x of a){const T=Y3(x,h.get(x.key).overlayedDocument);T!=null&&_.push(new ji(x.key,T,wP(T.value.mapValue),Sn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(b=>{f=b;const _=b.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:f.batchId,changes:RP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Ke(ue)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ad(r,s.changes),await Cd(r.remoteStore)}catch(s){const i=qw(s,"Failed to persist write");n.reject(i)}}async function RR(t,e){const n=he(t);try{const r=await q6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?re(o.lu,14607):s.removedDocuments.size>0&&(re(o.lu,42227),o.lu=!1))}),await Ad(n,r,e)}catch(r){await Ho(r)}}function QT(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(c=!0)}),c&&Qw(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FU(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ke(X.comparator);o=o.insert(i,st.newNoDocument(i,ie.min()));const a=me().add(i),l=new um(ie.min(),new Map,new Ke(ue),o,a);await RR(r,l),r.du=r.du.remove(i),r.Eu.delete(e),Yw(r)}else await uv(r.localStore,e,!1).then(()=>fv(r,e,n)).catch(Ho)}async function UU(t,e){const n=he(t),r=e.batch.batchId;try{const s=await G6(n.localStore,e);NR(n,r,null),kR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(n,s)}catch(s){await Ho(s)}}async function BU(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(re(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);NR(r,e,n),kR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ad(r,s)}catch(s){await Ho(s)}}function kR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function NR(t,e,n){const r=he(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function fv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||DR(t,r)})}function DR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Yw(t))}function XT(t,e,n){for(const r of n)r instanceof CR?(t.Au.addReference(r.key,e),$U(t,r)):r instanceof AR?(z(Xw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||DR(t,r.key)):ee(19791,{yu:r})}function $U(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(z(Xw,"New document in limbo: "+n),t.Iu.add(r),Yw(t))}function Yw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new X(Me.fromString(e)),r=t.mu.next();t.Eu.set(r,new kU(n)),t.du=t.du.insert(n,r),xR(t.remoteStore,new ss(Kn(om(n.path)),r,"TargetPurposeLimboResolution",Bn.ue))}}async function Ad(t,e,n){const r=he(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=Bw.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const d=he(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(c,f=>O.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>O.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Li(h))throw h;z($w,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),w=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(f,y)}}}(r.localStore,i))}async function zU(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){z(Xw,"User change. New user:",e.toKey());const r=await gR(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ad(n,r.Bs)}}function WU(t,e){const n=he(t),r=n.Eu.get(e);if(r&&r.lu)return me().add(r.key);{let s=me();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function MR(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FU.bind(null,e),e.hu.J_=SU.bind(null,e.eventManager),e.hu.pu=CU.bind(null,e.eventManager),e}function VR(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return mR(this.persistence,new pR,e.initialUser,this.serializer)}Du(e){return new Fw(fm.Vi,this.serializer)}bu(e){return new vR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class KU extends Pu{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){re(this.persistence.referenceDelegate instanceof Jf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cR(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new Fw(r=>Jf.Vi(r,n),this.serializer)}}class HU extends Pu{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await VR(this.Mu.syncEngine),await Cd(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return mR(this.persistence,new pR,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new cR(r,e.asyncQueue,n)}Fu(e,n){const r=new q5(n,this.persistence);return new G5(e.asyncQueue,r)}Du(e){const n=z6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new Uw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,sU(),cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new vR}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TU}()}createDatastore(e){const n=pm(e.databaseInfo.databaseId),r=function(i){return new rU(i)}(e.databaseInfo);return function(i,o,a,l){return new lU(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new uU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QT(this.syncEngine,n,0),function(){return zT.C()?new zT:new Z6}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new NU(s,i,o,a,l,c);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);z(Fo,"RemoteStore shutting down."),i.Ia.add(5),await Sd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="FirestoreClient";class qU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{z(bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z(bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),z(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{jr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{jr("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function YT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QU(t);z(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>KT(e.remoteStore,s)),t._onlineComponents=e}async function QU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z(bi,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;jr("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new Pu)}}else z(bi,"Using default OfflineComponentProvider"),await Ng(t,new KU(void 0));return t._offlineComponents}async function OR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z(bi,"Using user provided OnlineComponentProvider"),await YT(t,t._uninitializedComponentsProvider._online)):(z(bi,"Using default OnlineComponentProvider"),await YT(t,new ep))),t._onlineComponents}function XU(t){return OR(t).then(e=>e.syncEngine)}async function YU(t){const e=await OR(t),n=e.eventManager;return n.onListen=DU.bind(null,e.syncEngine),n.onUnlisten=OU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LU.bind(null,e.syncEngine),n}function JU(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new GU({next:f=>{d.Ou(),o.enqueueAndForget(()=>IU(i,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new J(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new J(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new AU(om(a.path),d,{includeMetadataChanges:!0,ka:!0});return bU(i,h)}(await YU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firestore.googleapis.com",ZT=!0;class eb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jR,this.ssl=ZT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S6)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D5;switch(r.type){case"firstParty":return new L5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JT.get(n);r&&(z("ComponentProvider","Removing Datastore"),JT.delete(n),r.terminate())}(this),Promise.resolve()}}function ZU(t,e,n,r={}){var s;t=ol(t,Jw);const i=Vl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(qC(`https://${l}`),QC("Firestore",!0)),o.host!==jR&&o.host!==l&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Po(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=At.MOCK_USER;else{d=WL(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new At(f)}t._authCredentials=new M5(new HA(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eB=class FR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new FR(this.firestore,e,this._query)}};class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xd(n,Et._jsonSchema))return new Et(e,r||null,new X(Me.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:pt("string",Et._jsonSchemaVersion),referencePath:pt("string")};class Ru extends eB{constructor(e,n,r){super(e,n,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new X(e))}withConverter(e){return new Ru(this.firestore,e,this._path)}}function UR(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=gw.newId()),$5("doc","path",e),t instanceof Jw){const r=Me.fromString(e,...n);return WE(r),new Et(t,null,new X(r))}{if(!(t instanceof Et||t instanceof Ru))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return WE(r),new Et(t.firestore,t instanceof Ru?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="AsyncQueue";class nb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wR(this,"async_queue_retry"),this.oc=()=>{const r=cf();r&&z(tb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ls;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Li(e))throw e;z(tb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Jt("INTERNAL UNHANDLED ERROR: ",rb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Gw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ee(47125,{hc:rb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function rb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gm extends Jw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new nb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nb(e),this._firestoreClient=void 0,await e}}}function tB(t,e){const n=typeof t=="object"?t:rA(),r=typeof t=="string"?t:zf,s=sw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=$L("firestore");i&&ZU(s,...i)}return s}function BR(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$R(t),t._firestoreClient}function $R(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new T3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new qU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function nB(t,e){jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return rB(t,ep.provider,{build:r=>new HU(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function rB(t,e,n){if((t=ol(t,gm))._firestoreClient||t._terminated)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new J(B.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},$R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(mt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xd(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:pt("string",Un._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(xd(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:pt("string",Rr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xd(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:pt("string",kr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=/^__.*__$/;class iB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}function WR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:t})}}class e_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new e_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(WR(this.Ec)&&sB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class oB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pm(e)}Dc(e,n,r,s=!1){return new e_({Ec:e,methodName:n,bc:r,path:qe.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aB(t){const e=t._freezeSettings(),n=pm(t._databaseId);return new oB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lB(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);qR("Data must be an object, but it was:",o,r);const a=HR(r,o);let l,c;if(i.merge)l=new $n(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=cB(e,h,n);if(!o.contains(f))throw new J(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);dB(d,f)||d.push(f)}l=new $n(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new iB(new ln(a),l,c)}function KR(t,e){if(GR(t=Rn(t)))return qR("Unsupported field value:",e,t),HR(t,e);if(t instanceof zR)return function(r,s){if(!WR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=KR(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:yl(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yl(s.serializer,i)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:zP(s.serializer,r._byteString)};if(r instanceof Et){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof kr)return function(o,a){return{mapValue:{fields:{[Iw]:{stringValue:Sw},[dl]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Pw(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${yw(r)}`)}(t,e)}function HR(t,e){const n={};return uP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(t,(r,s)=>{const i=KR(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function GR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Rr||t instanceof Un||t instanceof Et||t instanceof zR||t instanceof kr)}function qR(t,e,n){if(!GR(n)||!QA(n)){const r=yw(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function cB(t,e,n){if((e=Rn(e))instanceof Zw)return e._internalPath;if(typeof e=="string")return QR(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const uB=new RegExp("[~\\*/\\[\\]]");function QR(t,e,n){if(e.search(uB)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zw(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function dB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hB extends XR{data(){return super.data()}}function YR(t,e){return typeof e=="string"?QR(t,e):e instanceof Zw?e._internalPath:e._delegate._internalPath}class fB{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Go(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[dl].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$e(o.doubleValue));return new kr(i)}convertGeoPoint(e){return new Rr($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);re(ZP(r),9688,{name:e});const s=new Mo(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||Jt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bo extends XR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",bo._jsonSchema={type:pt("string",bo._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class uf extends bo{data(e={}){return super.data(e)}}class Zc{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Oc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uf(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new uf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new uf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:mB(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){t=ol(t,Et);const e=ol(t.firestore,gm);return JU(BR(e),t._key).then(n=>_B(e,t,n))}Zc._jsonSchemaVersion="firestore/querySnapshot/1.0",Zc._jsonSchema={type:pt("string",Zc._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class yB extends fB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function vB(t,e,n){t=ol(t,Et);const r=ol(t.firestore,gm),s=pB(t.converter,e);return wB(r,[lB(aB(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Sn.none())])}function wB(t,e){return function(r,s){const i=new ls;return r.asyncQueue.enqueueAndForget(async()=>jU(await XU(r),s,i)),i.promise}(BR(t),e)}function _B(t,e,n){const r=n.docs.get(e._key),s=new yB(t);return new bo(t,s,e._key,r,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){jl=s})(Ol),sl(new Ro("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gm(new V5(r.getProvider("auth-internal")),new j5(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ci(FE,UE,e),ci(FE,UE,"esm2017")})();const xB={apiKey:"AIzaSyA8VcJp46PVKiigkLqhNtCfcIviBrrRYBI",authDomain:"stackit-66180.firebaseapp.com",projectId:"stackit-66180",storageBucket:"stackit-66180.firebasestorage.app",messagingSenderId:"259081242449",appId:"1:259081242449:web:f3d7a9704a6a788f8bf570"},JR=nA(xB),Pd=P5(JR),t_=tB(JR);nB(t_).catch(t=>{t.code==="failed-precondition"?console.warn("Offline persistence can only be enabled in one tab at a time"):t.code==="unimplemented"&&console.warn("Current browser does not support offline persistence")});const EB=async(t,e)=>{await vB(UR(t_,"users",t),{...e,reputation:0,badges:[],stats:{questions:0,answers:0,upvotes:0}})},TB=async t=>{const e=UR(t_,"users",t),n=await gB(e);return n.exists()?n.data():null},ZR=v.createContext({user:null,userData:null,loading:!0}),ek=({children:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0);return v.useEffect(()=>{const a=yF(Pd,async l=>{if(n(l),l){const c=await TB(l.uid);s(c)}else s(null);o(!1)});return()=>a()},[]),p.jsx(ZR.Provider,{value:{user:e,userData:r,loading:i},children:t})},Fi=()=>v.useContext(ZR);var tk={exports:{}},Dn={},nk={exports:{}},rk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var Q=q-1>>>1,Y=j[Q];if(0<s(Y,U))j[Q]=U,j[q]=Y,q=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var Q=0,Y=j.length,se=Y>>>1;Q<se;){var Ce=2*(Q+1)-1,Je=j[Ce],ye=Ce+1,He=j[ye];if(0>s(Je,q))ye<Y&&0>s(He,Je)?(j[Q]=He,j[ye]=q,Q=ye):(j[Q]=Je,j[Ce]=q,Q=Ce);else if(ye<Y&&0>s(He,q))j[Q]=He,j[ye]=q,Q=ye;else break e}}return U}function s(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function A(j){if(y=!1,T(j),!w)if(n(l)!==null)w=!0,ne(k);else{var U=n(c);U!==null&&te(A,U.startTime-j)}}function k(j,U){w=!1,y&&(y=!1,_(I),I=-1),m=!0;var q=f;try{for(T(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var Y=Q(h.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),T(U)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var Ce=n(c);Ce!==null&&te(A,Ce.startTime-U),se=!1}return se}finally{h=null,f=q,m=!1}}var V=!1,S=null,I=-1,P=5,R=-1;function D(){return!(t.unstable_now()-R<P)}function M(){if(S!==null){var j=t.unstable_now();R=j;var U=!0;try{U=S(!0,j)}finally{U?N():(V=!1,S=null)}}else V=!1}var N;if(typeof x=="function")N=function(){x(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,le=K.port2;K.port1.onmessage=M,N=function(){le.postMessage(null)}}else N=function(){b(M,0)};function ne(j){S=j,V||(V=!0,N())}function te(j,U){I=b(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ne(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return j()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=f;f=j;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(j,U,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,j={id:d++,callback:U,priorityLevel:j,startTime:q,expirationTime:Y,sortIndex:-1},q>Q?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(y?(_(I),I=-1):y=!0,te(A,q-Q))):(j.sortIndex=Y,e(l,j),w||m||(w=!0,ne(k))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var U=f;return function(){var q=f;f=U;try{return j.apply(this,arguments)}finally{f=q}}}})(rk);nk.exports=rk;var bB=nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB=v,Nn=bB;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sk=new Set,ku={};function Qo(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(ku[t]=e,t=0;t<e.length;t++)sk.add(e[t])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=Object.prototype.hasOwnProperty,SB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sb={},ib={};function CB(t){return pv.call(ib,t)?!0:pv.call(sb,t)?!1:SB.test(t)?ib[t]=!0:(sb[t]=!0,!1)}function AB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PB(t,e,n,r){if(e===null||typeof e>"u"||AB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var n_=/[\-:]([a-z])/g;function r_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n_,r_);kt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n_,r_);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n_,r_);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function s_(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PB(e,n,s,r)&&(n=null),r||s===null?CB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Is=IB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),wa=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),i_=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),ik=Symbol.for("react.provider"),ok=Symbol.for("react.context"),o_=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),yv=Symbol.for("react.suspense_list"),a_=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),ak=Symbol.for("react.offscreen"),ob=Symbol.iterator;function wc(t){return t===null||typeof t!="object"?null:(t=ob&&t[ob]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Dg;function Lc(t){if(Dg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dg=e&&e[1]||""}return`
`+Dg+t}var Mg=!1;function Vg(t,e){if(!t||Mg)return"";Mg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lc(t):""}function RB(t){switch(t.tag){case 5:return Lc(t.type);case 16:return Lc("Lazy");case 13:return Lc("Suspense");case 19:return Lc("SuspenseList");case 0:case 2:case 15:return t=Vg(t.type,!1),t;case 11:return t=Vg(t.type.render,!1),t;case 1:return t=Vg(t.type,!0),t;default:return""}}function vv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case wa:return"Portal";case mv:return"Profiler";case i_:return"StrictMode";case gv:return"Suspense";case yv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ok:return(t.displayName||"Context")+".Consumer";case ik:return(t._context.displayName||"Context")+".Provider";case o_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a_:return e=t.displayName||null,e!==null?e:vv(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return vv(t(e))}catch{}}return null}function kB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vv(e);case 8:return e===i_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NB(t){var e=lk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=NB(t))}function ck(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function np(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wv(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ab(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uk(t,e){e=e.checked,e!=null&&s_(t,"checked",e,!1)}function _v(t,e){uk(t,e);var n=Ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&xv(t,e.type,Ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xv(t,e,n){(e!=="number"||np(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jc=Array.isArray;function Ua(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ii(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(jc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ii(n)}}function dk(t,e){var n=Ii(e.value),r=Ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ub(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,fk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DB=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){DB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function pk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function mk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MB=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bv(t,e){if(e){if(MB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Iv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sv=null;function l_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cv=null,Ba=null,$a=null;function db(t){if(t=Nd(t)){if(typeof Cv!="function")throw Error(W(280));var e=t.stateNode;e&&(e=xm(e),Cv(t.stateNode,t.type,e))}}function gk(t){Ba?$a?$a.push(t):$a=[t]:Ba=t}function yk(){if(Ba){var t=Ba,e=$a;if($a=Ba=null,db(t),e)for(t=0;t<e.length;t++)db(e[t])}}function vk(t,e){return t(e)}function wk(){}var Og=!1;function _k(t,e,n){if(Og)return t(e,n);Og=!0;try{return vk(t,e,n)}finally{Og=!1,(Ba!==null||$a!==null)&&(wk(),yk())}}function Du(t,e){var n=t.stateNode;if(n===null)return null;var r=xm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Av=!1;if(ps)try{var _c={};Object.defineProperty(_c,"passive",{get:function(){Av=!0}}),window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{Av=!1}function VB(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var tu=!1,rp=null,sp=!1,Pv=null,OB={onError:function(t){tu=!0,rp=t}};function LB(t,e,n,r,s,i,o,a,l){tu=!1,rp=null,VB.apply(OB,arguments)}function jB(t,e,n,r,s,i,o,a,l){if(LB.apply(this,arguments),tu){if(tu){var c=rp;tu=!1,rp=null}else throw Error(W(198));sp||(sp=!0,Pv=c)}}function Xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hb(t){if(Xo(t)!==t)throw Error(W(188))}function FB(t){var e=t.alternate;if(!e){if(e=Xo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hb(s),t;if(i===r)return hb(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Ek(t){return t=FB(t),t!==null?Tk(t):null}function Tk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tk(t);if(e!==null)return e;t=t.sibling}return null}var bk=Nn.unstable_scheduleCallback,fb=Nn.unstable_cancelCallback,UB=Nn.unstable_shouldYield,BB=Nn.unstable_requestPaint,ot=Nn.unstable_now,$B=Nn.unstable_getCurrentPriorityLevel,c_=Nn.unstable_ImmediatePriority,Ik=Nn.unstable_UserBlockingPriority,ip=Nn.unstable_NormalPriority,zB=Nn.unstable_LowPriority,Sk=Nn.unstable_IdlePriority,ym=null,Nr=null;function WB(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(ym,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:GB,KB=Math.log,HB=Math.LN2;function GB(t){return t>>>=0,t===0?32:31-(KB(t)/HB|0)|0}var _h=64,xh=4194304;function Fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function op(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Fc(a):(i&=o,i!==0&&(r=Fc(i)))}else o=n&~s,o!==0?r=Fc(o):i!==0&&(r=Fc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),s=1<<n,r|=t[n],e&=~s;return r}function qB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qB(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ck(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Lg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function XB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function u_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function Ak(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pk,d_,Rk,kk,Nk,kv=!1,Eh=[],hi=null,fi=null,pi=null,Mu=new Map,Vu=new Map,Xs=[],YB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pb(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(e.pointerId)}}function xc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nd(e),e!==null&&d_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JB(t,e,n,r,s){switch(e){case"focusin":return hi=xc(hi,t,e,n,r,s),!0;case"dragenter":return fi=xc(fi,t,e,n,r,s),!0;case"mouseover":return pi=xc(pi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mu.set(i,xc(Mu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vu.set(i,xc(Vu.get(i)||null,t,e,n,r,s)),!0}return!1}function Dk(t){var e=ho(t.target);if(e!==null){var n=Xo(e);if(n!==null){if(e=n.tag,e===13){if(e=xk(n),e!==null){t.blockedOn=e,Nk(t.priority,function(){Rk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function df(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sv=r,n.target.dispatchEvent(r),Sv=null}else return e=Nd(n),e!==null&&d_(e),t.blockedOn=n,!1;e.shift()}return!0}function mb(t,e,n){df(t)&&n.delete(e)}function ZB(){kv=!1,hi!==null&&df(hi)&&(hi=null),fi!==null&&df(fi)&&(fi=null),pi!==null&&df(pi)&&(pi=null),Mu.forEach(mb),Vu.forEach(mb)}function Ec(t,e){t.blockedOn===e&&(t.blockedOn=null,kv||(kv=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,ZB)))}function Ou(t){function e(s){return Ec(s,t)}if(0<Eh.length){Ec(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&Ec(hi,t),fi!==null&&Ec(fi,t),pi!==null&&Ec(pi,t),Mu.forEach(e),Vu.forEach(e),n=0;n<Xs.length;n++)r=Xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xs.length&&(n=Xs[0],n.blockedOn===null);)Dk(n),n.blockedOn===null&&Xs.shift()}var za=Is.ReactCurrentBatchConfig,ap=!0;function e9(t,e,n,r){var s=Ne,i=za.transition;za.transition=null;try{Ne=1,h_(t,e,n,r)}finally{Ne=s,za.transition=i}}function t9(t,e,n,r){var s=Ne,i=za.transition;za.transition=null;try{Ne=4,h_(t,e,n,r)}finally{Ne=s,za.transition=i}}function h_(t,e,n,r){if(ap){var s=Nv(t,e,n,r);if(s===null)Gg(t,e,r,lp,n),pb(t,r);else if(JB(s,t,e,n,r))r.stopPropagation();else if(pb(t,r),e&4&&-1<YB.indexOf(t)){for(;s!==null;){var i=Nd(s);if(i!==null&&Pk(i),i=Nv(t,e,n,r),i===null&&Gg(t,e,r,lp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gg(t,e,r,null,n)}}var lp=null;function Nv(t,e,n,r){if(lp=null,t=l_(r),t=ho(t),t!==null)if(e=Xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lp=t,null}function Mk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($B()){case c_:return 1;case Ik:return 4;case ip:case zB:return 16;case Sk:return 536870912;default:return 16}default:return 16}}var si=null,f_=null,hf=null;function Vk(){if(hf)return hf;var t,e=f_,n=e.length,r,s="value"in si?si.value:si.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hf=s.slice(t,1<r?1-r:void 0)}function ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function gb(){return!1}function Mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Th:gb,this.isPropagationStopped=gb,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p_=Mn(Bl),kd=Ye({},Bl,{view:0,detail:0}),n9=Mn(kd),jg,Fg,Tc,vm=Ye({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tc&&(Tc&&t.type==="mousemove"?(jg=t.screenX-Tc.screenX,Fg=t.screenY-Tc.screenY):Fg=jg=0,Tc=t),jg)},movementY:function(t){return"movementY"in t?t.movementY:Fg}}),yb=Mn(vm),r9=Ye({},vm,{dataTransfer:0}),s9=Mn(r9),i9=Ye({},kd,{relatedTarget:0}),Ug=Mn(i9),o9=Ye({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),a9=Mn(o9),l9=Ye({},Bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c9=Mn(l9),u9=Ye({},Bl,{data:0}),vb=Mn(u9),d9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f9[t])?!!e[t]:!1}function m_(){return p9}var m9=Ye({},kd,{key:function(t){if(t.key){var e=d9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m_,charCode:function(t){return t.type==="keypress"?ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g9=Mn(m9),y9=Ye({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wb=Mn(y9),v9=Ye({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m_}),w9=Mn(v9),_9=Ye({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),x9=Mn(_9),E9=Ye({},vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T9=Mn(E9),b9=[9,13,27,32],g_=ps&&"CompositionEvent"in window,nu=null;ps&&"documentMode"in document&&(nu=document.documentMode);var I9=ps&&"TextEvent"in window&&!nu,Ok=ps&&(!g_||nu&&8<nu&&11>=nu),_b=" ",xb=!1;function Lk(t,e){switch(t){case"keyup":return b9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function S9(t,e){switch(t){case"compositionend":return jk(e);case"keypress":return e.which!==32?null:(xb=!0,_b);case"textInput":return t=e.data,t===_b&&xb?null:t;default:return null}}function C9(t,e){if(xa)return t==="compositionend"||!g_&&Lk(t,e)?(t=Vk(),hf=f_=si=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ok&&e.locale!=="ko"?null:e.data;default:return null}}var A9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A9[t.type]:e==="textarea"}function Fk(t,e,n,r){gk(r),e=cp(e,"onChange"),0<e.length&&(n=new p_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Lu=null;function P9(t){Xk(t,0)}function wm(t){var e=ba(t);if(ck(e))return t}function R9(t,e){if(t==="change")return e}var Uk=!1;if(ps){var Bg;if(ps){var $g="oninput"in document;if(!$g){var Tb=document.createElement("div");Tb.setAttribute("oninput","return;"),$g=typeof Tb.oninput=="function"}Bg=$g}else Bg=!1;Uk=Bg&&(!document.documentMode||9<document.documentMode)}function bb(){ru&&(ru.detachEvent("onpropertychange",Bk),Lu=ru=null)}function Bk(t){if(t.propertyName==="value"&&wm(Lu)){var e=[];Fk(e,Lu,t,l_(t)),_k(P9,e)}}function k9(t,e,n){t==="focusin"?(bb(),ru=e,Lu=n,ru.attachEvent("onpropertychange",Bk)):t==="focusout"&&bb()}function N9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wm(Lu)}function D9(t,e){if(t==="click")return wm(e)}function M9(t,e){if(t==="input"||t==="change")return wm(e)}function V9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:V9;function ju(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pv.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function Ib(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sb(t,e){var n=Ib(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ib(n)}}function $k(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$k(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zk(){for(var t=window,e=np();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=np(t.document)}return e}function y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O9(t){var e=zk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$k(n.ownerDocument.documentElement,n)){if(r!==null&&y_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Sb(n,i);var o=Sb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L9=ps&&"documentMode"in document&&11>=document.documentMode,Ea=null,Dv=null,su=null,Mv=!1;function Cb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mv||Ea==null||Ea!==np(r)||(r=Ea,"selectionStart"in r&&y_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),su&&ju(su,r)||(su=r,r=cp(Dv,"onSelect"),0<r.length&&(e=new p_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ea)))}function bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ta={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},zg={},Wk={};ps&&(Wk=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function _m(t){if(zg[t])return zg[t];if(!Ta[t])return t;var e=Ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wk)return zg[t]=e[n];return t}var Kk=_m("animationend"),Hk=_m("animationiteration"),Gk=_m("animationstart"),qk=_m("transitionend"),Qk=new Map,Ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){Qk.set(t,e),Qo(e,[t])}for(var Wg=0;Wg<Ab.length;Wg++){var Kg=Ab[Wg],j9=Kg.toLowerCase(),F9=Kg[0].toUpperCase()+Kg.slice(1);Ui(j9,"on"+F9)}Ui(Kk,"onAnimationEnd");Ui(Hk,"onAnimationIteration");Ui(Gk,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(qk,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function Pb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jB(r,e,void 0,t),t.currentTarget=null}function Xk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Pb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Pb(s,a,c),i=l}}}if(sp)throw t=Pv,sp=!1,Pv=null,t}function Ue(t,e){var n=e[Fv];n===void 0&&(n=e[Fv]=new Set);var r=t+"__bubble";n.has(r)||(Yk(e,t,2,!1),n.add(r))}function Hg(t,e,n){var r=0;e&&(r|=4),Yk(n,t,r,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Fu(t){if(!t[Ih]){t[Ih]=!0,sk.forEach(function(n){n!=="selectionchange"&&(U9.has(n)||Hg(n,!1,t),Hg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,Hg("selectionchange",!1,e))}}function Yk(t,e,n,r){switch(Mk(e)){case 1:var s=e9;break;case 4:s=t9;break;default:s=h_}n=s.bind(null,e,n,t),s=void 0,!Av||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ho(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_k(function(){var c=i,d=l_(n),h=[];e:{var f=Qk.get(t);if(f!==void 0){var m=p_,w=t;switch(t){case"keypress":if(ff(n)===0)break e;case"keydown":case"keyup":m=g9;break;case"focusin":w="focus",m=Ug;break;case"focusout":w="blur",m=Ug;break;case"beforeblur":case"afterblur":m=Ug;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=s9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=w9;break;case Kk:case Hk:case Gk:m=a9;break;case qk:m=x9;break;case"scroll":m=n9;break;case"wheel":m=T9;break;case"copy":case"cut":case"paste":m=c9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wb}var y=(e&4)!==0,b=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,T;x!==null;){T=x;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,_!==null&&(A=Du(x,_),A!=null&&y.push(Uu(x,A,T)))),b)break;x=x.return}0<y.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Sv&&(w=n.relatedTarget||n.fromElement)&&(ho(w)||w[ms]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?ho(w):null,w!==null&&(b=Xo(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(y=yb,A="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=wb,A="onPointerLeave",_="onPointerEnter",x="pointer"),b=m==null?f:ba(m),T=w==null?f:ba(w),f=new y(A,x+"leave",m,n,d),f.target=b,f.relatedTarget=T,A=null,ho(d)===c&&(y=new y(_,x+"enter",w,n,d),y.target=T,y.relatedTarget=b,A=y),b=A,m&&w)t:{for(y=m,_=w,x=0,T=y;T;T=ua(T))x++;for(T=0,A=_;A;A=ua(A))T++;for(;0<x-T;)y=ua(y),x--;for(;0<T-x;)_=ua(_),T--;for(;x--;){if(y===_||_!==null&&y===_.alternate)break t;y=ua(y),_=ua(_)}y=null}else y=null;m!==null&&Rb(h,f,m,y,!1),w!==null&&b!==null&&Rb(h,b,w,y,!0)}}e:{if(f=c?ba(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=R9;else if(Eb(f))if(Uk)k=M9;else{k=N9;var V=k9}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=D9);if(k&&(k=k(t,c))){Fk(h,k,n,d);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&xv(f,"number",f.value)}switch(V=c?ba(c):window,t){case"focusin":(Eb(V)||V.contentEditable==="true")&&(Ea=V,Dv=c,su=null);break;case"focusout":su=Dv=Ea=null;break;case"mousedown":Mv=!0;break;case"contextmenu":case"mouseup":case"dragend":Mv=!1,Cb(h,n,d);break;case"selectionchange":if(L9)break;case"keydown":case"keyup":Cb(h,n,d)}var S;if(g_)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else xa?Lk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Ok&&n.locale!=="ko"&&(xa||I!=="onCompositionStart"?I==="onCompositionEnd"&&xa&&(S=Vk()):(si=d,f_="value"in si?si.value:si.textContent,xa=!0)),V=cp(c,I),0<V.length&&(I=new vb(I,t,null,n,d),h.push({event:I,listeners:V}),S?I.data=S:(S=jk(n),S!==null&&(I.data=S)))),(S=I9?S9(t,n):C9(t,n))&&(c=cp(c,"onBeforeInput"),0<c.length&&(d=new vb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}Xk(h,e)})}function Uu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Du(t,n),i!=null&&r.unshift(Uu(t,i,s)),i=Du(t,e),i!=null&&r.push(Uu(t,i,s))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Du(n,i),l!=null&&o.unshift(Uu(n,l,a))):s||(l=Du(n,i),l!=null&&o.push(Uu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B9=/\r\n?/g,$9=/\u0000|\uFFFD/g;function kb(t){return(typeof t=="string"?t:""+t).replace(B9,`
`).replace($9,"")}function Sh(t,e,n){if(e=kb(e),kb(t)!==e&&n)throw Error(W(425))}function up(){}var Vv=null,Ov=null;function Lv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jv=typeof setTimeout=="function"?setTimeout:void 0,z9=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,W9=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(t){return Nb.resolve(null).then(t).catch(K9)}:jv;function K9(t){setTimeout(function(){throw t})}function qg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ou(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ou(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Db(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $l=Math.random().toString(36).slice(2),Sr="__reactFiber$"+$l,Bu="__reactProps$"+$l,ms="__reactContainer$"+$l,Fv="__reactEvents$"+$l,H9="__reactListeners$"+$l,G9="__reactHandles$"+$l;function ho(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ms]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Db(t);t!==null;){if(n=t[Sr])return n;t=Db(t)}return e}t=n,n=t.parentNode}return null}function Nd(t){return t=t[Sr]||t[ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function xm(t){return t[Bu]||null}var Uv=[],Ia=-1;function Bi(t){return{current:t}}function Be(t){0>Ia||(t.current=Uv[Ia],Uv[Ia]=null,Ia--)}function Le(t,e){Ia++,Uv[Ia]=t.current,t.current=e}var Si={},Ht=Bi(Si),pn=Bi(!1),Uo=Si;function _l(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function dp(){Be(pn),Be(Ht)}function Mb(t,e,n){if(Ht.current!==Si)throw Error(W(168));Le(Ht,e),Le(pn,n)}function Jk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,kB(t)||"Unknown",s));return Ye({},n,r)}function hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,Uo=Ht.current,Le(Ht,t),Le(pn,pn.current),!0}function Vb(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Jk(t,e,Uo),r.__reactInternalMemoizedMergedChildContext=t,Be(pn),Be(Ht),Le(Ht,t)):Be(pn),Le(pn,n)}var es=null,Em=!1,Qg=!1;function Zk(t){es===null?es=[t]:es.push(t)}function q9(t){Em=!0,Zk(t)}function $i(){if(!Qg&&es!==null){Qg=!0;var t=0,e=Ne;try{var n=es;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,Em=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),bk(c_,$i),s}finally{Ne=e,Qg=!1}}return null}var Sa=[],Ca=0,fp=null,pp=0,jn=[],Fn=0,Bo=null,is=1,os="";function no(t,e){Sa[Ca++]=pp,Sa[Ca++]=fp,fp=t,pp=e}function eN(t,e,n){jn[Fn++]=is,jn[Fn++]=os,jn[Fn++]=Bo,Bo=t;var r=is;t=os;var s=32-dr(r)-1;r&=~(1<<s),n+=1;var i=32-dr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,is=1<<32-dr(e)+s|n<<s|r,os=i+t}else is=1<<i|n<<s|r,os=t}function v_(t){t.return!==null&&(no(t,1),eN(t,1,0))}function w_(t){for(;t===fp;)fp=Sa[--Ca],Sa[Ca]=null,pp=Sa[--Ca],Sa[Ca]=null;for(;t===Bo;)Bo=jn[--Fn],jn[Fn]=null,os=jn[--Fn],jn[Fn]=null,is=jn[--Fn],jn[Fn]=null}var An=null,Cn=null,ze=!1,lr=null;function tN(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ob(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Cn=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bo!==null?{id:is,overflow:os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Cn=null,!0):!1;default:return!1}}function Bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $v(t){if(ze){var e=Cn;if(e){var n=e;if(!Ob(t,e)){if(Bv(t))throw Error(W(418));e=mi(n.nextSibling);var r=An;e&&Ob(t,e)?tN(r,n):(t.flags=t.flags&-4097|2,ze=!1,An=t)}}else{if(Bv(t))throw Error(W(418));t.flags=t.flags&-4097|2,ze=!1,An=t}}}function Lb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Ch(t){if(t!==An)return!1;if(!ze)return Lb(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lv(t.type,t.memoizedProps)),e&&(e=Cn)){if(Bv(t))throw nN(),Error(W(418));for(;e;)tN(t,e),e=mi(e.nextSibling)}if(Lb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=An?mi(t.stateNode.nextSibling):null;return!0}function nN(){for(var t=Cn;t;)t=mi(t.nextSibling)}function xl(){Cn=An=null,ze=!1}function __(t){lr===null?lr=[t]:lr.push(t)}var Q9=Is.ReactCurrentBatchConfig;function bc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ah(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jb(t){var e=t._init;return e(t._payload)}function rN(t){function e(_,x){if(t){var T=_.deletions;T===null?(_.deletions=[x],_.flags|=16):T.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=wi(_,x),_.index=0,_.sibling=null,_}function i(_,x,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<x?(_.flags|=2,x):T):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,T,A){return x===null||x.tag!==6?(x=ny(T,_.mode,A),x.return=_,x):(x=s(x,T),x.return=_,x)}function l(_,x,T,A){var k=T.type;return k===_a?d(_,x,T.props.children,A,T.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ws&&jb(k)===x.type)?(A=s(x,T.props),A.ref=bc(_,x,T),A.return=_,A):(A=_f(T.type,T.key,T.props,null,_.mode,A),A.ref=bc(_,x,T),A.return=_,A)}function c(_,x,T,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=ry(T,_.mode,A),x.return=_,x):(x=s(x,T.children||[]),x.return=_,x)}function d(_,x,T,A,k){return x===null||x.tag!==7?(x=So(T,_.mode,A,k),x.return=_,x):(x=s(x,T),x.return=_,x)}function h(_,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ny(""+x,_.mode,T),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yh:return T=_f(x.type,x.key,x.props,null,_.mode,T),T.ref=bc(_,null,x),T.return=_,T;case wa:return x=ry(x,_.mode,T),x.return=_,x;case Ws:var A=x._init;return h(_,A(x._payload),T)}if(jc(x)||wc(x))return x=So(x,_.mode,T,null),x.return=_,x;Ah(_,x)}return null}function f(_,x,T,A){var k=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return k!==null?null:a(_,x,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yh:return T.key===k?l(_,x,T,A):null;case wa:return T.key===k?c(_,x,T,A):null;case Ws:return k=T._init,f(_,x,k(T._payload),A)}if(jc(T)||wc(T))return k!==null?null:d(_,x,T,A,null);Ah(_,T)}return null}function m(_,x,T,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(T)||null,a(x,_,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case yh:return _=_.get(A.key===null?T:A.key)||null,l(x,_,A,k);case wa:return _=_.get(A.key===null?T:A.key)||null,c(x,_,A,k);case Ws:var V=A._init;return m(_,x,T,V(A._payload),k)}if(jc(A)||wc(A))return _=_.get(T)||null,d(x,_,A,k,null);Ah(x,A)}return null}function w(_,x,T,A){for(var k=null,V=null,S=x,I=x=0,P=null;S!==null&&I<T.length;I++){S.index>I?(P=S,S=null):P=S.sibling;var R=f(_,S,T[I],A);if(R===null){S===null&&(S=P);break}t&&S&&R.alternate===null&&e(_,S),x=i(R,x,I),V===null?k=R:V.sibling=R,V=R,S=P}if(I===T.length)return n(_,S),ze&&no(_,I),k;if(S===null){for(;I<T.length;I++)S=h(_,T[I],A),S!==null&&(x=i(S,x,I),V===null?k=S:V.sibling=S,V=S);return ze&&no(_,I),k}for(S=r(_,S);I<T.length;I++)P=m(S,_,I,T[I],A),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?I:P.key),x=i(P,x,I),V===null?k=P:V.sibling=P,V=P);return t&&S.forEach(function(D){return e(_,D)}),ze&&no(_,I),k}function y(_,x,T,A){var k=wc(T);if(typeof k!="function")throw Error(W(150));if(T=k.call(T),T==null)throw Error(W(151));for(var V=k=null,S=x,I=x=0,P=null,R=T.next();S!==null&&!R.done;I++,R=T.next()){S.index>I?(P=S,S=null):P=S.sibling;var D=f(_,S,R.value,A);if(D===null){S===null&&(S=P);break}t&&S&&D.alternate===null&&e(_,S),x=i(D,x,I),V===null?k=D:V.sibling=D,V=D,S=P}if(R.done)return n(_,S),ze&&no(_,I),k;if(S===null){for(;!R.done;I++,R=T.next())R=h(_,R.value,A),R!==null&&(x=i(R,x,I),V===null?k=R:V.sibling=R,V=R);return ze&&no(_,I),k}for(S=r(_,S);!R.done;I++,R=T.next())R=m(S,_,I,R.value,A),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?I:R.key),x=i(R,x,I),V===null?k=R:V.sibling=R,V=R);return t&&S.forEach(function(M){return e(_,M)}),ze&&no(_,I),k}function b(_,x,T,A){if(typeof T=="object"&&T!==null&&T.type===_a&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case yh:e:{for(var k=T.key,V=x;V!==null;){if(V.key===k){if(k=T.type,k===_a){if(V.tag===7){n(_,V.sibling),x=s(V,T.props.children),x.return=_,_=x;break e}}else if(V.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ws&&jb(k)===V.type){n(_,V.sibling),x=s(V,T.props),x.ref=bc(_,V,T),x.return=_,_=x;break e}n(_,V);break}else e(_,V);V=V.sibling}T.type===_a?(x=So(T.props.children,_.mode,A,T.key),x.return=_,_=x):(A=_f(T.type,T.key,T.props,null,_.mode,A),A.ref=bc(_,x,T),A.return=_,_=A)}return o(_);case wa:e:{for(V=T.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(_,x.sibling),x=s(x,T.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=ry(T,_.mode,A),x.return=_,_=x}return o(_);case Ws:return V=T._init,b(_,x,V(T._payload),A)}if(jc(T))return w(_,x,T,A);if(wc(T))return y(_,x,T,A);Ah(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,T),x.return=_,_=x):(n(_,x),x=ny(T,_.mode,A),x.return=_,_=x),o(_)):n(_,x)}return b}var El=rN(!0),sN=rN(!1),mp=Bi(null),gp=null,Aa=null,x_=null;function E_(){x_=Aa=gp=null}function T_(t){var e=mp.current;Be(mp),t._currentValue=e}function zv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wa(t,e){gp=t,x_=Aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(x_!==t)if(t={context:t,memoizedValue:e,next:null},Aa===null){if(gp===null)throw Error(W(308));Aa=t,gp.dependencies={lanes:0,firstContext:t}}else Aa=Aa.next=t;return e}var fo=null;function b_(t){fo===null?fo=[t]:fo.push(t)}function iN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,b_(e)):(n.next=s.next,s.next=n),e.interleaved=n,gs(t,r)}function gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function I_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gs(t,n)}return s=r.interleaved,s===null?(e.next=e,b_(r)):(e.next=s.next,s.next=e),r.interleaved=e,gs(t,n)}function pf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u_(t,n)}}function Fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yp(t,e,n,r){var s=t.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Ye({},h,f);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zo|=o,t.lanes=o,t.memoizedState=h}}function Ub(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Dd={},Dr=Bi(Dd),$u=Bi(Dd),zu=Bi(Dd);function po(t){if(t===Dd)throw Error(W(174));return t}function S_(t,e){switch(Le(zu,e),Le($u,t),Le(Dr,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tv(e,t)}Be(Dr),Le(Dr,e)}function Tl(){Be(Dr),Be($u),Be(zu)}function aN(t){po(zu.current);var e=po(Dr.current),n=Tv(e,t.type);e!==n&&(Le($u,t),Le(Dr,n))}function C_(t){$u.current===t&&(Be(Dr),Be($u))}var Ge=Bi(0);function vp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xg=[];function A_(){for(var t=0;t<Xg.length;t++)Xg[t]._workInProgressVersionPrimary=null;Xg.length=0}var mf=Is.ReactCurrentDispatcher,Yg=Is.ReactCurrentBatchConfig,$o=0,Xe=null,gt=null,xt=null,wp=!1,iu=!1,Wu=0,X9=0;function jt(){throw Error(W(321))}function P_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function R_(t,e,n,r,s,i){if($o=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mf.current=t===null||t.memoizedState===null?e$:t$,t=n(r,s),iu){i=0;do{if(iu=!1,Wu=0,25<=i)throw Error(W(301));i+=1,xt=gt=null,e.updateQueue=null,mf.current=n$,t=n(r,s)}while(iu)}if(mf.current=_p,e=gt!==null&&gt.next!==null,$o=0,xt=gt=Xe=null,wp=!1,e)throw Error(W(300));return t}function k_(){var t=Wu!==0;return Wu=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Xe.memoizedState=xt=t:xt=xt.next=t,xt}function Yn(){if(gt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=xt===null?Xe.memoizedState:xt.next;if(e!==null)xt=e,gt=t;else{if(t===null)throw Error(W(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},xt===null?Xe.memoizedState=xt=t:xt=xt.next=t}return xt}function Ku(t,e){return typeof e=="function"?e(t):e}function Jg(t){var e=Yn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if(($o&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=d,zo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,zo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zg(t){var e=Yn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lN(){}function cN(t,e){var n=Xe,r=Yn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,N_(hN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Hu(9,dN.bind(null,n,r,s,e),void 0,null),Tt===null)throw Error(W(349));$o&30||uN(n,e,s)}return s}function uN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dN(t,e,n,r){e.value=n,e.getSnapshot=r,fN(e)&&pN(t)}function hN(t,e,n){return n(function(){fN(e)&&pN(t)})}function fN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function pN(t){var e=gs(t,1);e!==null&&hr(e,t,1,-1)}function Bb(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=Z9.bind(null,Xe,t),[e.memoizedState,t]}function Hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mN(){return Yn().memoizedState}function gf(t,e,n,r){var s=_r();Xe.flags|=t,s.memoizedState=Hu(1|e,n,void 0,r===void 0?null:r)}function Tm(t,e,n,r){var s=Yn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&P_(r,o.deps)){s.memoizedState=Hu(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=Hu(1|e,n,i,r)}function $b(t,e){return gf(8390656,8,t,e)}function N_(t,e){return Tm(2048,8,t,e)}function gN(t,e){return Tm(4,2,t,e)}function yN(t,e){return Tm(4,4,t,e)}function vN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wN(t,e,n){return n=n!=null?n.concat([t]):null,Tm(4,4,vN.bind(null,e,t),n)}function D_(){}function _N(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xN(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function EN(t,e,n){return $o&21?(fr(n,e)||(n=Ck(),Xe.lanes|=n,zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function Y9(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Yg.transition;Yg.transition={};try{t(!1),e()}finally{Ne=n,Yg.transition=r}}function TN(){return Yn().memoizedState}function J9(t,e,n){var r=vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bN(t))IN(e,n);else if(n=iN(t,e,n,r),n!==null){var s=tn();hr(n,t,r,s),SN(n,e,r)}}function Z9(t,e,n){var r=vi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bN(t))IN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=e.interleaved;l===null?(s.next=s,b_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=iN(t,e,s,r),n!==null&&(s=tn(),hr(n,t,r,s),SN(n,e,r))}}function bN(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function IN(t,e){iu=wp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u_(t,n)}}var _p={readContext:Xn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},e$={readContext:Xn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:$b,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gf(4194308,4,vN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gf(4194308,4,t,e)},useInsertionEffect:function(t,e){return gf(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J9.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:Bb,useDebugValue:D_,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=Bb(!1),e=t[0];return t=Y9.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=_r();if(ze){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Tt===null)throw Error(W(349));$o&30||uN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$b(hN.bind(null,r,i,t),[t]),r.flags|=2048,Hu(9,dN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_r(),e=Tt.identifierPrefix;if(ze){var n=os,r=is;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t$={readContext:Xn,useCallback:_N,useContext:Xn,useEffect:N_,useImperativeHandle:wN,useInsertionEffect:gN,useLayoutEffect:yN,useMemo:xN,useReducer:Jg,useRef:mN,useState:function(){return Jg(Ku)},useDebugValue:D_,useDeferredValue:function(t){var e=Yn();return EN(e,gt.memoizedState,t)},useTransition:function(){var t=Jg(Ku)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:lN,useSyncExternalStore:cN,useId:TN,unstable_isNewReconciler:!1},n$={readContext:Xn,useCallback:_N,useContext:Xn,useEffect:N_,useImperativeHandle:wN,useInsertionEffect:gN,useLayoutEffect:yN,useMemo:xN,useReducer:Zg,useRef:mN,useState:function(){return Zg(Ku)},useDebugValue:D_,useDeferredValue:function(t){var e=Yn();return gt===null?e.memoizedState=t:EN(e,gt.memoizedState,t)},useTransition:function(){var t=Zg(Ku)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:lN,useSyncExternalStore:cN,useId:TN,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bm={isMounted:function(t){return(t=t._reactInternals)?Xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=vi(t),i=cs(r,s);i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(hr(e,t,s,r),pf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=vi(t),i=cs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(hr(e,t,s,r),pf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=vi(t),s=cs(n,r);s.tag=2,e!=null&&(s.callback=e),e=gi(t,s,r),e!==null&&(hr(e,t,r,n),pf(e,t,r))}};function zb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(s,i):!0}function CN(t,e,n){var r=!1,s=Si,i=e.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(s=mn(e)?Uo:Ht.current,r=e.contextTypes,i=(r=r!=null)?_l(t,s):Si),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Wb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bm.enqueueReplaceState(e,e.state,null)}function Kv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},I_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xn(i):(i=mn(e)?Uo:Ht.current,s.context=_l(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bm.enqueueReplaceState(s,s.state,null),yp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bl(t,e){try{var n="",r=e;do n+=RB(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ey(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r$=typeof WeakMap=="function"?WeakMap:Map;function AN(t,e,n){n=cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ep||(Ep=!0,n0=r),Hv(t,e)},n}function PN(t,e,n){n=cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hv(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r$;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=y$.bind(null,t,e,n),e.then(t,t))}function Hb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cs(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var s$=Is.ReactCurrentOwner,dn=!1;function Xt(t,e,n,r){e.child=t===null?sN(e,null,n,r):El(e,t.child,n,r)}function qb(t,e,n,r,s){n=n.render;var i=e.ref;return Wa(e,s),r=R_(t,e,n,r,i,s),n=k_(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(ze&&n&&v_(e),e.flags|=1,Xt(t,e,r,s),e.child)}function Qb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!B_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RN(t,e,i,r,s)):(t=_f(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(o,r)&&t.ref===e.ref)return ys(t,e,s)}return e.flags|=1,t=wi(i,r),t.ref=e.ref,t.return=e,e.child=t}function RN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ju(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,ys(t,e,s)}return Gv(t,e,n,r,s)}function kN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ra,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Ra,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(Ra,xn),xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(Ra,xn),xn|=r;return Xt(t,e,s,n),e.child}function NN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gv(t,e,n,r,s){var i=mn(n)?Uo:Ht.current;return i=_l(e,i),Wa(e,s),n=R_(t,e,n,r,i,s),r=k_(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(ze&&r&&v_(e),e.flags|=1,Xt(t,e,n,s),e.child)}function Xb(t,e,n,r,s){if(mn(n)){var i=!0;hp(e)}else i=!1;if(Wa(e,s),e.stateNode===null)yf(t,e),CN(e,n,r),Kv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=mn(n)?Uo:Ht.current,c=_l(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wb(e,o,r,c),Ks=!1;var f=e.memoizedState;o.state=f,yp(e,r,o,s),l=e.memoizedState,a!==r||f!==l||pn.current||Ks?(typeof d=="function"&&(Wv(e,n,d,r),l=e.memoizedState),(a=Ks||zb(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=mn(n)?Uo:Ht.current,l=_l(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Wb(e,o,r,l),Ks=!1,f=e.memoizedState,o.state=f,yp(e,r,o,s);var w=e.memoizedState;a!==h||f!==w||pn.current||Ks?(typeof m=="function"&&(Wv(e,n,m,r),w=e.memoizedState),(c=Ks||zb(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,i,s)}function qv(t,e,n,r,s,i){NN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Vb(e,n,!1),ys(t,e,i);r=e.stateNode,s$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=El(e,t.child,null,i),e.child=El(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&Vb(e,n,!0),e.child}function DN(t){var e=t.stateNode;e.pendingContext?Mb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mb(t,e.context,!1),S_(t,e.containerInfo)}function Yb(t,e,n,r,s){return xl(),__(s),e.flags|=256,Xt(t,e,n,r),e.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function Xv(t){return{baseLanes:t,cachePool:null,transitions:null}}function MN(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ge,s&1),t===null)return $v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cm(o,r,0,null),t=So(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xv(n),e.memoizedState=Qv,t):M_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return i$(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=wi(a,i):(i=So(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Xv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qv,r}return i=t.child,t=i.sibling,r=wi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M_(t,e){return e=Cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&__(r),El(e,t.child,null,n),t=M_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function i$(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ey(Error(W(422))),Ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Cm({mode:"visible",children:r.children},s,0,null),i=So(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&El(e,t.child,null,o),e.child.memoizedState=Xv(o),e.memoizedState=Qv,i);if(!(e.mode&1))return Ph(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=ey(i,r,void 0),Ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=Tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gs(t,s),hr(r,t,s,-1))}return U_(),r=ey(Error(W(421))),Ph(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=v$.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cn=mi(s.nextSibling),An=e,ze=!0,lr=null,t!==null&&(jn[Fn++]=is,jn[Fn++]=os,jn[Fn++]=Bo,is=t.id,os=t.overflow,Bo=e),e=M_(e,r.children),e.flags|=4096,e)}function Jb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zv(t.return,e,n)}function ty(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function VN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jb(t,n,e);else if(t.tag===19)Jb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ty(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ty(e,!0,n,null,i);break;case"together":ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o$(t,e,n){switch(e.tag){case 3:DN(e),xl();break;case 5:aN(e);break;case 1:mn(e.type)&&hp(e);break;case 4:S_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(mp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?MN(t,e,n):(Le(Ge,Ge.current&1),t=ys(t,e,n),t!==null?t.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,kN(t,e,n)}return ys(t,e,n)}var ON,Yv,LN,jN;ON=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yv=function(){};LN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,po(Dr.current);var i=null;switch(n){case"input":s=wv(t,s),r=wv(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Ev(t,s),r=Ev(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=up)}bv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ku.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ku.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ic(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a$(t,e,n){var r=e.pendingProps;switch(w_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return mn(e.type)&&dp(),Ft(e),null;case 3:return r=e.stateNode,Tl(),Be(pn),Be(Ht),A_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(i0(lr),lr=null))),Yv(t,e),Ft(e),null;case 5:C_(e);var s=po(zu.current);if(n=e.type,t!==null&&e.stateNode!=null)LN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ft(e),null}if(t=po(Dr.current),Ch(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Sr]=e,r[Bu]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Uc.length;s++)Ue(Uc[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":ab(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":cb(r,i),Ue("invalid",r)}bv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),s=["children",""+a]):ku.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":vh(r),lb(r,i,!0);break;case"textarea":vh(r),ub(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=up)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sr]=e,t[Bu]=r,ON(t,e,!1,!1),e.stateNode=t;e:{switch(o=Iv(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Uc.length;s++)Ue(Uc[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":ab(t,r),s=wv(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":cb(t,r),s=Ev(t,r),Ue("invalid",t);break;default:s=r}bv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?mk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nu(t,l):typeof l=="number"&&Nu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ku.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&s_(t,i,l,o))}switch(n){case"input":vh(t),lb(t,r,!1);break;case"textarea":vh(t),ub(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ii(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ua(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=up)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)jN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=po(zu.current),po(Dr.current),Ch(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(i=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Be(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&Cn!==null&&e.mode&1&&!(e.flags&128))nN(),xl(),e.flags|=98560,i=!1;else if(i=Ch(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Sr]=e}else xl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else lr!==null&&(i0(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?yt===0&&(yt=3):U_())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Tl(),Yv(t,e),t===null&&Fu(e.stateNode.containerInfo),Ft(e),null;case 10:return T_(e.type._context),Ft(e),null;case 17:return mn(e.type)&&dp(),Ft(e),null;case 19:if(Be(Ge),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ic(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vp(t),o!==null){for(e.flags|=128,Ic(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>Il&&(e.flags|=128,r=!0,Ic(i,!1),e.lanes=4194304)}else{if(!r)if(t=vp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ic(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return Ft(e),null}else 2*ot()-i.renderingStartTime>Il&&n!==1073741824&&(e.flags|=128,r=!0,Ic(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Ge.current,Le(Ge,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return F_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function l$(t,e){switch(w_(e),e.tag){case 1:return mn(e.type)&&dp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(),Be(pn),Be(Ht),A_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C_(e),null;case 13:if(Be(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));xl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ge),null;case 4:return Tl(),null;case 10:return T_(e.type._context),null;case 22:case 23:return F_(),null;case 24:return null;default:return null}}var Rh=!1,zt=!1,c$=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Jv(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Zb=!1;function u$(t,e){if(Vv=ap,t=zk(),y_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ov={focusedElem:t,selectionRange:n},ap=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:rr(e.type,y),b);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){rt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=Zb,Zb=!1,w}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jv(e,n,i)}s=s.next}while(s!==r)}}function Im(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FN(t){var e=t.alternate;e!==null&&(t.alternate=null,FN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Bu],delete e[Fv],delete e[H9],delete e[G9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UN(t){return t.tag===5||t.tag===3||t.tag===4}function eI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=up));else if(r!==4&&(t=t.child,t!==null))for(e0(t,e,n),t=t.sibling;t!==null;)e0(t,e,n),t=t.sibling}function t0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}var St=null,ar=!1;function js(t,e,n){for(n=n.child;n!==null;)BN(t,e,n),n=n.sibling}function BN(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(ym,n)}catch{}switch(n.tag){case 5:zt||Pa(n,e);case 6:var r=St,s=ar;St=null,js(t,e,n),St=r,ar=s,St!==null&&(ar?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(ar?(t=St,n=n.stateNode,t.nodeType===8?qg(t.parentNode,n):t.nodeType===1&&qg(t,n),Ou(t)):qg(St,n.stateNode));break;case 4:r=St,s=ar,St=n.stateNode.containerInfo,ar=!0,js(t,e,n),St=r,ar=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jv(n,e,o),s=s.next}while(s!==r)}js(t,e,n);break;case 1:if(!zt&&(Pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}js(t,e,n);break;case 21:js(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,js(t,e,n),zt=r):js(t,e,n);break;default:js(t,e,n)}}function tI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c$),e.forEach(function(r){var s=w$.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,ar=!1;break e;case 3:St=a.stateNode.containerInfo,ar=!0;break e;case 4:St=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(St===null)throw Error(W(160));BN(i,o,s),St=null,ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$N(e,t),e=e.sibling}function $N(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),wr(t),r&4){try{ou(3,t,t.return),Im(3,t)}catch(y){rt(t,t.return,y)}try{ou(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:tr(e,t),wr(t),r&512&&n!==null&&Pa(n,n.return);break;case 5:if(tr(e,t),wr(t),r&512&&n!==null&&Pa(n,n.return),t.flags&32){var s=t.stateNode;try{Nu(s,"")}catch(y){rt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&uk(s,i),Iv(a,o);var c=Iv(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?mk(s,h):d==="dangerouslySetInnerHTML"?fk(s,h):d==="children"?Nu(s,h):s_(s,d,h,c)}switch(a){case"input":_v(s,i);break;case"textarea":dk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ua(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ua(s,!!i.multiple,i.defaultValue,!0):Ua(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bu]=i}catch(y){rt(t,t.return,y)}}break;case 6:if(tr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){rt(t,t.return,y)}}break;case 3:if(tr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ou(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:tr(e,t),wr(t);break;case 13:tr(e,t),wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(L_=ot())),r&4&&tI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(c=zt)||d,tr(e,t),zt=c):tr(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:ou(4,f,f.return);break;case 1:Pa(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){rt(r,n,y)}}break;case 5:Pa(f,f.return);break;case 22:if(f.memoizedState!==null){rI(h);continue}}m!==null?(m.return=f,Z=m):rI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pk("display",o))}catch(y){rt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){rt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),wr(t),r&4&&tI(t);break;case 21:break;default:tr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UN(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nu(s,""),r.flags&=-33);var i=eI(t);t0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eI(t);e0(t,a,o);break;default:throw Error(W(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d$(t,e,n){Z=t,zN(t)}function zN(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Rh;var c=zt;if(Rh=o,(zt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?sI(s):l!==null?(l.return=o,Z=l):sI(s);for(;i!==null;)Z=i,zN(i),i=i.sibling;Z=s,Rh=a,zt=c}nI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):nI(t)}}function nI(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Im(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ub(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ub(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ou(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}zt||e.flags&512&&Zv(e)}catch(f){rt(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function rI(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function sI(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Im(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{Zv(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{Zv(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var h$=Math.ceil,xp=Is.ReactCurrentDispatcher,V_=Is.ReactCurrentOwner,Hn=Is.ReactCurrentBatchConfig,Te=0,Tt=null,ft=null,Rt=0,xn=0,Ra=Bi(0),yt=0,Gu=null,zo=0,Sm=0,O_=0,au=null,an=null,L_=0,Il=1/0,Zr=null,Ep=!1,n0=null,yi=null,kh=!1,ii=null,Tp=0,lu=0,r0=null,vf=-1,wf=0;function tn(){return Te&6?ot():vf!==-1?vf:vf=ot()}function vi(t){return t.mode&1?Te&2&&Rt!==0?Rt&-Rt:Q9.transition!==null?(wf===0&&(wf=Ck()),wf):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Mk(t.type)),t):1}function hr(t,e,n,r){if(50<lu)throw lu=0,r0=null,Error(W(185));Rd(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(Sm|=n),yt===4&&Ys(t,Rt)),gn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Il=ot()+500,Em&&$i()))}function gn(t,e){var n=t.callbackNode;QB(t,e);var r=op(t,t===Tt?Rt:0);if(r===0)n!==null&&fb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fb(n),e===1)t.tag===0?q9(iI.bind(null,t)):Zk(iI.bind(null,t)),W9(function(){!(Te&6)&&$i()}),n=null;else{switch(Ak(r)){case 1:n=c_;break;case 4:n=Ik;break;case 16:n=ip;break;case 536870912:n=Sk;break;default:n=ip}n=YN(n,WN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WN(t,e){if(vf=-1,wf=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(Ka()&&t.callbackNode!==n)return null;var r=op(t,t===Tt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bp(t,r);else{e=r;var s=Te;Te|=2;var i=HN();(Tt!==t||Rt!==e)&&(Zr=null,Il=ot()+500,Io(t,e));do try{m$();break}catch(a){KN(t,a)}while(!0);E_(),xp.current=i,Te=s,ft!==null?e=0:(Tt=null,Rt=0,e=yt)}if(e!==0){if(e===2&&(s=Rv(t),s!==0&&(r=s,e=s0(t,s))),e===1)throw n=Gu,Io(t,0),Ys(t,r),gn(t,ot()),n;if(e===6)Ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!f$(s)&&(e=bp(t,r),e===2&&(i=Rv(t),i!==0&&(r=i,e=s0(t,i))),e===1))throw n=Gu,Io(t,0),Ys(t,r),gn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ro(t,an,Zr);break;case 3:if(Ys(t,r),(r&130023424)===r&&(e=L_+500-ot(),10<e)){if(op(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jv(ro.bind(null,t,an,Zr),e);break}ro(t,an,Zr);break;case 4:if(Ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h$(r/1960))-r,10<r){t.timeoutHandle=jv(ro.bind(null,t,an,Zr),r);break}ro(t,an,Zr);break;case 5:ro(t,an,Zr);break;default:throw Error(W(329))}}}return gn(t,ot()),t.callbackNode===n?WN.bind(null,t):null}function s0(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(Io(t,e).flags|=256),t=bp(t,e),t!==2&&(e=an,an=n,e!==null&&i0(e)),t}function i0(t){an===null?an=t:an.push.apply(an,t)}function f$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~O_,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function iI(t){if(Te&6)throw Error(W(327));Ka();var e=op(t,0);if(!(e&1))return gn(t,ot()),null;var n=bp(t,e);if(t.tag!==0&&n===2){var r=Rv(t);r!==0&&(e=r,n=s0(t,r))}if(n===1)throw n=Gu,Io(t,0),Ys(t,e),gn(t,ot()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,an,Zr),gn(t,ot()),null}function j_(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Il=ot()+500,Em&&$i())}}function Wo(t){ii!==null&&ii.tag===0&&!(Te&6)&&Ka();var e=Te;Te|=1;var n=Hn.transition,r=Ne;try{if(Hn.transition=null,Ne=1,t)return t()}finally{Ne=r,Hn.transition=n,Te=e,!(Te&6)&&$i()}}function F_(){xn=Ra.current,Be(Ra)}function Io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,z9(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(w_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dp();break;case 3:Tl(),Be(pn),Be(Ht),A_();break;case 5:C_(r);break;case 4:Tl();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:T_(r.type._context);break;case 22:case 23:F_()}n=n.return}if(Tt=t,ft=t=wi(t.current,null),Rt=xn=e,yt=0,Gu=null,O_=Sm=zo=0,an=au=null,fo!==null){for(e=0;e<fo.length;e++)if(n=fo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fo=null}return t}function KN(t,e){do{var n=ft;try{if(E_(),mf.current=_p,wp){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wp=!1}if($o=0,xt=gt=Xe=null,iu=!1,Wu=0,V_.current=null,n===null||n.return===null){yt=1,Gu=e,ft=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Hb(o);if(m!==null){m.flags&=-257,Gb(m,o,a,i,e),m.mode&1&&Kb(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){Kb(i,c,e),U_();break e}l=Error(W(426))}}else if(ze&&a.mode&1){var b=Hb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Gb(b,o,a,i,e),__(bl(l,a));break e}}i=l=bl(l,a),yt!==4&&(yt=2),au===null?au=[i]:au.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=AN(i,l,e);Fb(i,_);break e;case 1:a=l;var x=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(yi===null||!yi.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=PN(i,a,e);Fb(i,A);break e}}i=i.return}while(i!==null)}qN(n)}catch(k){e=k,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function HN(){var t=xp.current;return xp.current=_p,t===null?_p:t}function U_(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||!(zo&268435455)&&!(Sm&268435455)||Ys(Tt,Rt)}function bp(t,e){var n=Te;Te|=2;var r=HN();(Tt!==t||Rt!==e)&&(Zr=null,Io(t,e));do try{p$();break}catch(s){KN(t,s)}while(!0);if(E_(),Te=n,xp.current=r,ft!==null)throw Error(W(261));return Tt=null,Rt=0,yt}function p$(){for(;ft!==null;)GN(ft)}function m$(){for(;ft!==null&&!UB();)GN(ft)}function GN(t){var e=XN(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?qN(t):ft=e,V_.current=null}function qN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=l$(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ft=null;return}}else if(n=a$(n,e,xn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);yt===0&&(yt=5)}function ro(t,e,n){var r=Ne,s=Hn.transition;try{Hn.transition=null,Ne=1,g$(t,e,n,r)}finally{Hn.transition=s,Ne=r}return null}function g$(t,e,n,r){do Ka();while(ii!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XB(t,i),t===Tt&&(ft=Tt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kh||(kh=!0,YN(ip,function(){return Ka(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hn.transition,Hn.transition=null;var o=Ne;Ne=1;var a=Te;Te|=4,V_.current=null,u$(t,n),$N(n,t),O9(Ov),ap=!!Vv,Ov=Vv=null,t.current=n,d$(n),BB(),Te=a,Ne=o,Hn.transition=i}else t.current=n;if(kh&&(kh=!1,ii=t,Tp=s),i=t.pendingLanes,i===0&&(yi=null),WB(n.stateNode),gn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ep)throw Ep=!1,t=n0,n0=null,t;return Tp&1&&t.tag!==0&&Ka(),i=t.pendingLanes,i&1?t===r0?lu++:(lu=0,r0=t):lu=0,$i(),null}function Ka(){if(ii!==null){var t=Ak(Tp),e=Hn.transition,n=Ne;try{if(Hn.transition=null,Ne=16>t?16:t,ii===null)var r=!1;else{if(t=ii,ii=null,Tp=0,Te&6)throw Error(W(331));var s=Te;for(Te|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:ou(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(FN(d),d===c){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ou(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Z=_;break e}Z=i.return}}var x=t.current;for(Z=x;Z!==null;){o=Z;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Z=T;else e:for(o=x;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Im(9,a)}}catch(k){rt(a,a.return,k)}if(a===o){Z=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Z=A;break e}Z=a.return}}if(Te=s,$i(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(ym,t)}catch{}r=!0}return r}finally{Ne=n,Hn.transition=e}}return!1}function oI(t,e,n){e=bl(n,e),e=AN(t,e,1),t=gi(t,e,1),e=tn(),t!==null&&(Rd(t,1,e),gn(t,e))}function rt(t,e,n){if(t.tag===3)oI(t,t,n);else for(;e!==null;){if(e.tag===3){oI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=bl(n,t),t=PN(e,t,1),e=gi(e,t,1),t=tn(),e!==null&&(Rd(e,1,t),gn(e,t));break}}e=e.return}}function y$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Rt&n)===n&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>ot()-L_?Io(t,0):O_|=n),gn(t,e)}function QN(t,e){e===0&&(t.mode&1?(e=xh,xh<<=1,!(xh&130023424)&&(xh=4194304)):e=1);var n=tn();t=gs(t,e),t!==null&&(Rd(t,e,n),gn(t,n))}function v$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QN(t,n)}function w$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),QN(t,n)}var XN;XN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,o$(t,e,n);dn=!!(t.flags&131072)}else dn=!1,ze&&e.flags&1048576&&eN(e,pp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yf(t,e),t=e.pendingProps;var s=_l(e,Ht.current);Wa(e,n),s=R_(null,e,r,t,s,n);var i=k_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,hp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,I_(e),s.updater=bm,e.stateNode=s,s._reactInternals=e,Kv(e,r,t,n),e=qv(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&v_(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=x$(r),t=rr(r,t),s){case 0:e=Gv(null,e,r,t,n);break e;case 1:e=Xb(null,e,r,t,n);break e;case 11:e=qb(null,e,r,t,n);break e;case 14:e=Qb(null,e,r,rr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),Gv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),Xb(t,e,r,s,n);case 3:e:{if(DN(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oN(t,e),yp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bl(Error(W(423)),e),e=Yb(t,e,r,n,s);break e}else if(r!==s){s=bl(Error(W(424)),e),e=Yb(t,e,r,n,s);break e}else for(Cn=mi(e.stateNode.containerInfo.firstChild),An=e,ze=!0,lr=null,n=sN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xl(),r===s){e=ys(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return aN(e),t===null&&$v(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lv(r,s)?o=null:i!==null&&Lv(r,i)&&(e.flags|=32),NN(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&$v(e),null;case 13:return MN(t,e,n);case 4:return S_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=El(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),qb(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(mp,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!pn.current){e=ys(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=cs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wa(e,n),s=Xn(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=rr(r,e.pendingProps),s=rr(r.type,s),Qb(t,e,r,s,n);case 15:return RN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),yf(t,e),e.tag=1,mn(r)?(t=!0,hp(e)):t=!1,Wa(e,n),CN(e,r,s),Kv(e,r,s,n),qv(null,e,r,!0,t,n);case 19:return VN(t,e,n);case 22:return kN(t,e,n)}throw Error(W(156,e.tag))};function YN(t,e){return bk(t,e)}function _$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new _$(t,e,n,r)}function B_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x$(t){if(typeof t=="function")return B_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o_)return 11;if(t===a_)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _f(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")B_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return So(n.children,s,i,e);case i_:o=8,s|=8;break;case mv:return t=zn(12,n,e,s|2),t.elementType=mv,t.lanes=i,t;case gv:return t=zn(13,n,e,s),t.elementType=gv,t.lanes=i,t;case yv:return t=zn(19,n,e,s),t.elementType=yv,t.lanes=i,t;case ak:return Cm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ik:o=10;break e;case ok:o=9;break e;case o_:o=11;break e;case a_:o=14;break e;case Ws:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function So(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function Cm(t,e,n,r){return t=zn(22,t,r,e),t.elementType=ak,t.lanes=n,t.stateNode={isHidden:!1},t}function ny(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function ry(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function E$(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $_(t,e,n,r,s,i,o,a,l){return t=new E$(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},I_(i),t}function T$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JN(t){if(!t)return Si;t=t._reactInternals;e:{if(Xo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(mn(n))return Jk(t,n,e)}return e}function ZN(t,e,n,r,s,i,o,a,l){return t=$_(n,r,!0,t,s,i,o,a,l),t.context=JN(null),n=t.current,r=tn(),s=vi(n),i=cs(r,s),i.callback=e??null,gi(n,i,s),t.current.lanes=s,Rd(t,s,r),gn(t,r),t}function Am(t,e,n,r){var s=e.current,i=tn(),o=vi(s);return n=JN(n),e.context===null?e.context=n:e.pendingContext=n,e=cs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(s,e,o),t!==null&&(hr(t,s,o,i),pf(t,s,o)),o}function Ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function z_(t,e){aI(t,e),(t=t.alternate)&&aI(t,e)}function b$(){return null}var eD=typeof reportError=="function"?reportError:function(t){console.error(t)};function W_(t){this._internalRoot=t}Pm.prototype.render=W_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Am(t,e,null,null)};Pm.prototype.unmount=W_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){Am(null,t,null,null)}),e[ms]=null}};function Pm(t){this._internalRoot=t}Pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=kk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xs.length&&e!==0&&e<Xs[n].priority;n++);Xs.splice(n,0,t),n===0&&Dk(t)}};function K_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lI(){}function I$(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ip(o);i.call(c)}}var o=ZN(e,r,t,0,null,!1,!1,"",lI);return t._reactRootContainer=o,t[ms]=o.current,Fu(t.nodeType===8?t.parentNode:t),Wo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ip(l);a.call(c)}}var l=$_(t,0,!1,null,null,!1,!1,"",lI);return t._reactRootContainer=l,t[ms]=l.current,Fu(t.nodeType===8?t.parentNode:t),Wo(function(){Am(e,l,n,r)}),l}function km(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ip(o);a.call(l)}}Am(e,o,t,s)}else o=I$(n,e,t,s,r);return Ip(o)}Pk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fc(e.pendingLanes);n!==0&&(u_(e,n|1),gn(e,ot()),!(Te&6)&&(Il=ot()+500,$i()))}break;case 13:Wo(function(){var r=gs(t,1);if(r!==null){var s=tn();hr(r,t,1,s)}}),z_(t,1)}};d_=function(t){if(t.tag===13){var e=gs(t,134217728);if(e!==null){var n=tn();hr(e,t,134217728,n)}z_(t,134217728)}};Rk=function(t){if(t.tag===13){var e=vi(t),n=gs(t,e);if(n!==null){var r=tn();hr(n,t,e,r)}z_(t,e)}};kk=function(){return Ne};Nk=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Cv=function(t,e,n){switch(e){case"input":if(_v(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xm(r);if(!s)throw Error(W(90));ck(r),_v(r,s)}}}break;case"textarea":dk(t,n);break;case"select":e=n.value,e!=null&&Ua(t,!!n.multiple,e,!1)}};vk=j_;wk=Wo;var S$={usingClientEntryPoint:!1,Events:[Nd,ba,xm,gk,yk,j_]},Sc={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C$={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ek(t),t===null?null:t.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||b$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ym=Nh.inject(C$),Nr=Nh}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S$;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K_(e))throw Error(W(200));return T$(t,e,null,n)};Dn.createRoot=function(t,e){if(!K_(t))throw Error(W(299));var n=!1,r="",s=eD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$_(t,1,!1,null,null,n,!1,r,s),t[ms]=e.current,Fu(t.nodeType===8?t.parentNode:t),new W_(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Ek(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Wo(t)};Dn.hydrate=function(t,e,n){if(!Rm(e))throw Error(W(200));return km(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!K_(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=eD;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZN(e,null,t,1,n??null,s,!1,i,o),t[ms]=e.current,Fu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pm(e)};Dn.render=function(t,e,n){if(!Rm(e))throw Error(W(200));return km(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Rm(t))throw Error(W(40));return t._reactRootContainer?(Wo(function(){km(null,null,t,!1,function(){t._reactRootContainer=null,t[ms]=null})}),!0):!1};Dn.unstable_batchedUpdates=j_;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rm(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return km(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function tD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tD)}catch(t){console.error(t)}}tD(),tk.exports=Dn;var Md=tk.exports;const nD=AC(Md);var H_,cI=Md;H_=cI.createRoot,cI.hydrateRoot;const A$=1,P$=1e6;let sy=0;function R$(){return sy=(sy+1)%Number.MAX_SAFE_INTEGER,sy.toString()}const iy=new Map,uI=t=>{if(iy.has(t))return;const e=setTimeout(()=>{iy.delete(t),cu({type:"REMOVE_TOAST",toastId:t})},P$);iy.set(t,e)},k$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,A$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?uI(n):t.toasts.forEach(r=>{uI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},xf=[];let Ef={toasts:[]};function cu(t){Ef=k$(Ef,t),xf.forEach(e=>{e(Ef)})}function N$({...t}){const e=R$(),n=s=>cu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>cu({type:"DISMISS_TOAST",toastId:e});return cu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function D$(){const[t,e]=v.useState(Ef);return v.useEffect(()=>(xf.push(e),()=>{const n=xf.indexOf(e);n>-1&&xf.splice(n,1)}),[t]),{...t,toast:N$,dismiss:n=>cu({type:"DISMISS_TOAST",toastId:n})}}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function M$(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Nm(...t){return e=>t.forEach(n=>M$(n,e))}function bt(...t){return v.useCallback(Nm(...t),t)}function V$(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,O$(s,...e)]}function O$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sl=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(L$);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return p.jsx(o0,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return p.jsx(o0,{...r,ref:e,children:n})});Sl.displayName="Slot";var o0=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=F$(n);return v.cloneElement(n,{...j$(r,n.props),ref:e?Nm(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});o0.displayName="SlotClone";var rD=({children:t})=>p.jsx(p.Fragment,{children:t});function L$(t){return v.isValidElement(t)&&t.type===rD}function j$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function F$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function G_(t){const e=t+"CollectionProvider",[n,r]=V$(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:y}=m,b=G.useRef(null),_=G.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:_,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=G.forwardRef((m,w)=>{const{scope:y,children:b}=m,_=i(a,y),x=bt(w,_.collectionRef);return p.jsx(Sl,{ref:x,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=G.forwardRef((m,w)=>{const{scope:y,children:b,..._}=m,x=G.useRef(null),T=bt(w,x),A=i(c,y);return G.useEffect(()=>(A.itemMap.set(x,{ref:x,..._}),()=>void A.itemMap.delete(x))),p.jsx(Sl,{[d]:"",ref:T,children:b})});h.displayName=c;function f(m){const w=i(t+"CollectionConsumer",m);return G.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((A,k)=>_.indexOf(A.ref.current)-_.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function Vd(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:f,children:m,...w}=h,y=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})};c.displayName=i+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,U$(s,...e)]}function U$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var B$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=B$.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Sl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function q_(t,e){t&&Md.flushSync(()=>t.dispatchEvent(e))}function Gt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $$(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var z$="DismissableLayer",a0="dismissableLayer.update",W$="dismissableLayer.pointerDownOutside",K$="dismissableLayer.focusOutside",dI,sD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dm=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(sD),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=bt(e,S=>h(S)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),x=d?y.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=_,k=G$(S=>{const I=S.target,P=[...c.branches].some(R=>R.contains(I));!A||P||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},f),V=q$(S=>{const I=S.target;[...c.branches].some(R=>R.contains(I))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},f);return $$(S=>{x===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),hI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=dI)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),hI())},[d,c]),v.useEffect(()=>{const S=()=>m({});return document.addEventListener(a0,S),()=>document.removeEventListener(a0,S)},[]),p.jsx(Se.div,{...l,ref:w,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,k.onPointerDownCapture)})});Dm.displayName=z$;var H$="DismissableLayerBranch",iD=v.forwardRef((t,e)=>{const n=v.useContext(sD),r=v.useRef(null),s=bt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Se.div,{...t,ref:s})});iD.displayName=H$;function G$(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){oD(W$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function q$(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&oD(K$,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hI(){const t=new CustomEvent(a0);document.dispatchEvent(t)}function oD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?q_(s,i):s.dispatchEvent(i)}var Q$=Dm,X$=iD,Ur=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Y$="Portal",Q_=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Ur(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?nD.createPortal(p.jsx(Se.div,{...r,ref:e}),o):null});Q_.displayName=Y$;function J$(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Yo=t=>{const{present:e,children:n}=t,r=Z$(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=bt(r.ref,ez(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Yo.displayName="Presence";function Z$(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=J$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Dh(r.current);i.current=a==="mounted"?c:"none"},[a]),Ur(()=>{const c=r.current,d=s.current;if(d!==t){const f=i.current,m=Dh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ur(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Dh(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=m=>{m.target===e&&(i.current=Dh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dh(t){return(t==null?void 0:t.animationName)||"none"}function ez(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mm({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=tz({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Gt(n),l=v.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function tz({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Gt(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var nz="VisuallyHidden",Vm=v.forwardRef((t,e)=>p.jsx(Se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Vm.displayName=nz;var rz=Vm,X_="ToastProvider",[Y_,sz,iz]=G_("Toast"),[aD,ree]=Vd("Toast",[iz]),[oz,Om]=aD(X_),lD=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${X_}\`. Expected non-empty \`string\`.`),p.jsx(Y_.Provider,{scope:e,children:p.jsx(oz,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};lD.displayName=X_;var cD="ToastViewport",az=["F8"],l0="toast.viewportPause",c0="toast.viewportResume",uD=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=az,label:s="Notifications ({hotkey})",...i}=t,o=Om(cD,n),a=sz(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=bt(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;v.useEffect(()=>{const b=_=>{var T;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),v.useEffect(()=>{const b=l.current,_=h.current;if(w&&b&&_){const x=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(l0);_.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(c0);_.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!b.contains(V.relatedTarget)&&T()},k=()=>{b.contains(document.activeElement)||T()};return b.addEventListener("focusin",x),b.addEventListener("focusout",A),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",T),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",T)}}},[w,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:b})=>{const x=a().map(T=>{const A=T.ref.current,k=[A,..._z(A)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const b=h.current;if(b){const _=x=>{var k,V,S;const T=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!T){const I=document.activeElement,P=x.shiftKey;if(x.target===b&&P){(k=c.current)==null||k.focus();return}const M=y({tabbingDirection:P?"backwards":"forwards"}),N=M.findIndex(K=>K===I);oy(M.slice(N+1))?x.preventDefault():P?(V=c.current)==null||V.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,y]),p.jsxs(X$,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(u0,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});oy(b)}}),p.jsx(Y_.Slot,{scope:n,children:p.jsx(Se.ol,{tabIndex:-1,...i,ref:f})}),w&&p.jsx(u0,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});oy(b)}})]})});uD.displayName=cD;var dD="ToastFocusProxy",u0=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Om(dD,n);return p.jsx(Vm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});u0.displayName=dD;var Lm="Toast",lz="toast.swipeStart",cz="toast.swipeMove",uz="toast.swipeCancel",dz="toast.swipeEnd",hD=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Mm({prop:r,defaultProp:s,onChange:i});return p.jsx(Yo,{present:n||a,children:p.jsx(pz,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Gt(t.onPause),onResume:Gt(t.onResume),onSwipeStart:oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});hD.displayName=Lm;var[hz,fz]=aD(Lm,{onClose(){}}),pz=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=t,y=Om(Lm,n),[b,_]=v.useState(null),x=bt(e,K=>_(K)),T=v.useRef(null),A=v.useRef(null),k=s||y.duration,V=v.useRef(0),S=v.useRef(k),I=v.useRef(0),{onToastAdd:P,onToastRemove:R}=y,D=Gt(()=>{var le;(b==null?void 0:b.contains(document.activeElement))&&((le=y.viewport)==null||le.focus()),o()}),M=v.useCallback(K=>{!K||K===1/0||(window.clearTimeout(I.current),V.current=new Date().getTime(),I.current=window.setTimeout(D,K))},[D]);v.useEffect(()=>{const K=y.viewport;if(K){const le=()=>{M(S.current),c==null||c()},ne=()=>{const te=new Date().getTime()-V.current;S.current=S.current-te,window.clearTimeout(I.current),l==null||l()};return K.addEventListener(l0,ne),K.addEventListener(c0,le),()=>{K.removeEventListener(l0,ne),K.removeEventListener(c0,le)}}},[y.viewport,k,l,c,M]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(k)},[i,k,y.isClosePausedRef,M]),v.useEffect(()=>(P(),()=>R()),[P,R]);const N=v.useMemo(()=>b?wD(b):null,[b]);return y.viewport?p.jsxs(p.Fragment,{children:[N&&p.jsx(mz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),p.jsx(hz,{scope:n,onClose:D,children:Md.createPortal(p.jsx(Y_.ItemSlot,{scope:n,children:p.jsx(Q$,{asChild:!0,onEscapeKeyDown:oe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,K=>{K.key==="Escape"&&(a==null||a(K.nativeEvent),K.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:oe(t.onPointerDown,K=>{K.button===0&&(T.current={x:K.clientX,y:K.clientY})}),onPointerMove:oe(t.onPointerMove,K=>{if(!T.current)return;const le=K.clientX-T.current.x,ne=K.clientY-T.current.y,te=!!A.current,j=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,q=j?U(0,le):0,Q=j?0:U(0,ne),Y=K.pointerType==="touch"?10:2,se={x:q,y:Q},Ce={originalEvent:K,delta:se};te?(A.current=se,Mh(cz,h,Ce,{discrete:!1})):fI(se,y.swipeDirection,Y)?(A.current=se,Mh(lz,d,Ce,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(le)>Y||Math.abs(ne)>Y)&&(T.current=null)}),onPointerUp:oe(t.onPointerUp,K=>{const le=A.current,ne=K.target;if(ne.hasPointerCapture(K.pointerId)&&ne.releasePointerCapture(K.pointerId),A.current=null,T.current=null,le){const te=K.currentTarget,j={originalEvent:K,delta:le};fI(le,y.swipeDirection,y.swipeThreshold)?Mh(dz,m,j,{discrete:!0}):Mh(uz,f,j,{discrete:!0}),te.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),mz=t=>{const{__scopeToast:e,children:n,...r}=t,s=Om(Lm,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return vz(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Q_,{asChild:!0,children:p.jsx(Vm,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},gz="ToastTitle",fD=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Se.div,{...r,ref:e})});fD.displayName=gz;var yz="ToastDescription",pD=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Se.div,{...r,ref:e})});pD.displayName=yz;var mD="ToastAction",gD=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(vD,{altText:n,asChild:!0,children:p.jsx(J_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mD}\`. Expected non-empty \`string\`.`),null)});gD.displayName=mD;var yD="ToastClose",J_=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=fz(yD,n);return p.jsx(vD,{asChild:!0,children:p.jsx(Se.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});J_.displayName=yD;var vD=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function wD(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wz(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...wD(r))}}),e}function Mh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?q_(s,i):s.dispatchEvent(i)}var fI=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function vz(t=()=>{}){const e=Gt(t);Ur(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wz(t){return t.nodeType===t.ELEMENT_NODE}function _z(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xz=lD,_D=uD,xD=hD,ED=fD,TD=pD,bD=gD,ID=J_;function SD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SD(t))&&(r&&(r+=" "),r+=e);return r}const pI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mI=CD,Od=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return mI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=pI(d)||pI(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...c,h,f]:c},[]);return mI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...Tz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AD("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(bz,{ref:i,iconNode:e,className:AD(`lucide-${Ez(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=ge("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ax="-",Kz=t=>{const e=Gz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ax);return a[0]===""&&a.length!==1&&a.shift(),ND(a,e)||Hz(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},ND=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ND(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ax);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},vI=/^\[(.+)\]$/,Hz=t=>{if(vI.test(t)){const e=vI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Gz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Qz(Object.entries(t.classGroups),n).forEach(([i,o])=>{f0(o,r,i,e)}),r},f0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(qz(s)){f0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{f0(o,wI(e,i),n,r)})})},wI=(t,e)=>{let n=t;return e.split(ax).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qz=t=>t.isThemeGetter,Qz=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Xz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},DD="!",Yz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let b=0;b<a.length;b++){let _=a[b];if(c===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(_==="/"){h=b;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(DD),w=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},Jz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Zz=t=>({cache:Xz(t.cacheSize),parseClassName:Yz(t),...Kz(t)}),e8=/\s+/,t8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(e8);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,y=r(w?f.substring(0,m):f);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=Jz(d).join(":"),_=h?b+DD:b,x=_+y;if(i.includes(x))continue;i.push(x);const T=s(y,w);for(let A=0;A<T.length;++A){const k=T[A];i.push(_+k)}a=c+(a.length>0?" "+a:a)}return a};function n8(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MD(e))&&(r&&(r+=" "),r+=n);return r}const MD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MD(t[r]))&&(n&&(n+=" "),n+=e);return n};function r8(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=Zz(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=t8(l,n);return s(l,d),d}return function(){return i(n8.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VD=/^\[(?:([a-z-]+):)?(.+)\]$/i,s8=/^\d+\/\d+$/,i8=new Set(["px","full","screen"]),o8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=t=>Ha(t)||i8.has(t)||s8.test(t),Fs=t=>zl(t,"length",v8),Ha=t=>!!t&&!Number.isNaN(Number(t)),ly=t=>zl(t,"number",Ha),Cc=t=>!!t&&Number.isInteger(Number(t)),d8=t=>t.endsWith("%")&&Ha(t.slice(0,-1)),fe=t=>VD.test(t),Us=t=>o8.test(t),h8=new Set(["length","size","percentage"]),f8=t=>zl(t,h8,OD),p8=t=>zl(t,"position",OD),m8=new Set(["image","url"]),g8=t=>zl(t,m8,_8),y8=t=>zl(t,"",w8),Ac=()=>!0,zl=(t,e,n)=>{const r=VD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},v8=t=>a8.test(t)&&!l8.test(t),OD=()=>!1,w8=t=>c8.test(t),_8=t=>u8.test(t),x8=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),m=Fe("gradientColorStops"),w=Fe("gradientColorStopPositions"),y=Fe("inset"),b=Fe("margin"),_=Fe("opacity"),x=Fe("padding"),T=Fe("saturate"),A=Fe("scale"),k=Fe("sepia"),V=Fe("skew"),S=Fe("space"),I=Fe("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",fe,e],M=()=>[fe,e],N=()=>["",Xr,Fs],K=()=>["auto",Ha,fe],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Ha,fe];return{cacheSize:500,separator:":",theme:{colors:[Ac],spacing:[Xr,Fs],blur:["none","",Us,fe],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Us,fe],borderSpacing:M(),borderWidth:N(),contrast:Q(),grayscale:U(),hueRotate:Q(),invert:U(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[d8,Fs],inset:D(),margin:D(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:U(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cc,fe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Cc,fe]}],"grid-cols":[{"grid-cols":[Ac]}],"col-start-end":[{col:["auto",{span:["full",Cc,fe]},fe]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Ac]}],"row-start-end":[{row:["auto",{span:[Cc,fe]},fe]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ly]}],"font-family":[{font:[Ac]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ha,ly]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Fs]}],"underline-offset":[{"underline-offset":["auto",Xr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),p8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Xr,fe]}],"outline-w":[{outline:[Xr,Fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Xr,Fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Us,y8]}],"shadow-color":[{shadow:[Ac]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Us,fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Cc,fe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xr,Fs,ly]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E8=r8(x8);function Ee(...t){return E8(CD(t))}const T8=xz,LD=v.forwardRef(({className:t,...e},n)=>p.jsx(_D,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));LD.displayName=_D.displayName;const b8=Od("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jD=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(xD,{ref:r,className:Ee(b8({variant:e}),t),...n}));jD.displayName=xD.displayName;const I8=v.forwardRef(({className:t,...e},n)=>p.jsx(bD,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));I8.displayName=bD.displayName;const FD=v.forwardRef(({className:t,...e},n)=>p.jsx(ID,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(ox,{className:"h-4 w-4"})}));FD.displayName=ID.displayName;const UD=v.forwardRef(({className:t,...e},n)=>p.jsx(ED,{ref:n,className:Ee("text-sm font-semibold",t),...e}));UD.displayName=ED.displayName;const BD=v.forwardRef(({className:t,...e},n)=>p.jsx(TD,{ref:n,className:Ee("text-sm opacity-90",t),...e}));BD.displayName=TD.displayName;function S8(){const{toasts:t}=D$();return p.jsxs(T8,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(jD,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(UD,{children:n}),r&&p.jsx(BD,{children:r})]}),s,p.jsx(FD,{})]},e)}),p.jsx(LD,{})]})}var _I=["light","dark"],C8="(prefers-color-scheme: dark)",A8=v.createContext(void 0),P8={setTheme:t=>{},themes:[]},R8=()=>{var t;return(t=v.useContext(A8))!=null?t:P8};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?_I.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,y=!1,b=!0)=>{let _=o?o[w]:w,x=y?w+"|| ''":`'${_}'`,T="";return s&&b&&!y&&_I.includes(w)&&(T+=`d.style.colorScheme = '${w}';`),n==="class"?y||_?T+=`c.add(${x})`:T+="null":_&&(T+=`d[s](n,${x})`),T},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${C8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var k8=t=>{switch(t){case"success":return M8;case"info":return O8;case"warning":return V8;case"error":return L8;default:return null}},N8=Array(12).fill(0),D8=({visible:t})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},G.createElement("div",{className:"sonner-spinner"},N8.map((e,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),M8=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V8=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),O8=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L8=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j8=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},p0=1,F8=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:p0++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(B8(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||p0++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},_n=new F8,U8=(t,e)=>{let n=(e==null?void 0:e.id)||p0++;return _n.addToast({title:t,...e,id:n}),n},B8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$8=U8,z8=()=>_n.toasts;Object.assign($8,{success:_n.success,info:_n.info,warning:_n.warning,error:_n.error,custom:_n.custom,message:_n.message,promise:_n.promise,dismiss:_n.dismiss,loading:_n.loading},{getHistory:z8});function W8(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}W8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vh(t){return t.label!==void 0}var K8=3,H8="32px",G8=4e3,q8=356,Q8=14,X8=20,Y8=200;function J8(...t){return t.filter(Boolean).join(" ")}var Z8=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:h,toast:f,unstyled:m,interacting:w,setHeights:y,visibleToasts:b,heights:_,index:x,toasts:T,expanded:A,removeToast:k,defaultRichColors:V,closeButton:S,style:I,cancelButtonStyle:P,actionButtonStyle:R,className:D="",descriptionClassName:M="",duration:N,position:K,gap:le,loadingIcon:ne,expandByDefault:te,classNames:j,icons:U,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:Q,cn:Y}=t,[se,Ce]=G.useState(!1),[Je,ye]=G.useState(!1),[He,yn]=G.useState(!1),[lt,Nt]=G.useState(!1),[Wr,gr]=G.useState(0),[Jn,Kr]=G.useState(0),Cs=G.useRef(null),Zn=G.useRef(null),Yl=x===0,Jl=x+1<=b,ct=f.type,yr=f.dismissible!==!1,Wd=f.className||"",rg=f.descriptionClassName||"",As=G.useMemo(()=>_.findIndex(de=>de.toastId===f.id)||0,[_,f.id]),Zl=G.useMemo(()=>{var de;return(de=f.closeButton)!=null?de:S},[f.closeButton,S]),ec=G.useMemo(()=>f.duration||N||G8,[f.duration,N]),ut=G.useRef(0),Ze=G.useRef(0),Hi=G.useRef(0),Hr=G.useRef(null),[tc,sg]=K.split("-"),Ps=G.useMemo(()=>_.reduce((de,De,Ae)=>Ae>=As?de:de+De.height,0),[_,As]),nc=j8(),Kd=f.invert||h,Gi=ct==="loading";Ze.current=G.useMemo(()=>As*le+Ps,[As,Ps]),G.useEffect(()=>{Ce(!0)},[]),G.useLayoutEffect(()=>{if(!se)return;let de=Zn.current,De=de.style.height;de.style.height="auto";let Ae=de.getBoundingClientRect().height;de.style.height=De,Kr(Ae),y(Dt=>Dt.find(on=>on.toastId===f.id)?Dt.map(on=>on.toastId===f.id?{...on,height:Ae}:on):[{toastId:f.id,height:Ae,position:f.position},...Dt])},[se,f.title,f.description,y,f.id]);let vr=G.useCallback(()=>{ye(!0),gr(Ze.current),y(de=>de.filter(De=>De.toastId!==f.id)),setTimeout(()=>{k(f)},Y8)},[f,k,y,Ze]);G.useEffect(()=>{if(f.promise&&ct==="loading"||f.duration===1/0||f.type==="loading")return;let de,De=ec;return A||w||Q&&nc?(()=>{if(Hi.current<ut.current){let Ae=new Date().getTime()-ut.current;De=De-Ae}Hi.current=new Date().getTime()})():De!==1/0&&(ut.current=new Date().getTime(),de=setTimeout(()=>{var Ae;(Ae=f.onAutoClose)==null||Ae.call(f,f),vr()},De)),()=>clearTimeout(de)},[A,w,te,f,ec,vr,f.promise,ct,Q,nc]),G.useEffect(()=>{let de=Zn.current;if(de){let De=de.getBoundingClientRect().height;return Kr(De),y(Ae=>[{toastId:f.id,height:De,position:f.position},...Ae]),()=>y(Ae=>Ae.filter(Dt=>Dt.toastId!==f.id))}},[y,f.id]),G.useEffect(()=>{f.delete&&vr()},[vr,f.delete]);function ig(){return U!=null&&U.loading?G.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},U.loading):ne?G.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},ne):G.createElement(D8,{visible:ct==="loading"})}return G.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Zn,className:Y(D,Wd,j==null?void 0:j.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[ct],(n=f==null?void 0:f.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:V,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":se,"data-promise":!!f.promise,"data-removed":Je,"data-visible":Jl,"data-y-position":tc,"data-x-position":sg,"data-index":x,"data-front":Yl,"data-swiping":He,"data-dismissible":yr,"data-type":ct,"data-invert":Kd,"data-swipe-out":lt,"data-expanded":!!(A||te&&se),style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${Je?Wr:Ze.current}px`,"--initial-height":te?"auto":`${Jn}px`,...I,...f.style},onPointerDown:de=>{Gi||!yr||(Cs.current=new Date,gr(Ze.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(yn(!0),Hr.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,De,Ae,Dt;if(lt||!yr)return;Hr.current=null;let on=Number(((de=Zn.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rs=new Date().getTime()-((De=Cs.current)==null?void 0:De.getTime()),Gr=Math.abs(on)/Rs;if(Math.abs(on)>=X8||Gr>.11){gr(Ze.current),(Ae=f.onDismiss)==null||Ae.call(f,f),vr(),Nt(!0);return}(Dt=Zn.current)==null||Dt.style.setProperty("--swipe-amount","0px"),yn(!1)},onPointerMove:de=>{var De;if(!Hr.current||!yr)return;let Ae=de.clientY-Hr.current.y,Dt=de.clientX-Hr.current.x,on=(tc==="top"?Math.min:Math.max)(0,Ae),Rs=de.pointerType==="touch"?10:2;Math.abs(on)>Rs?(De=Zn.current)==null||De.style.setProperty("--swipe-amount",`${Ae}px`):Math.abs(Dt)>Rs&&(Hr.current=null)}},Zl&&!f.jsx?G.createElement("button",{"aria-label":q,"data-disabled":Gi,"data-close-button":!0,onClick:Gi||!yr?()=>{}:()=>{var de;vr(),(de=f.onDismiss)==null||de.call(f,f)},className:Y(j==null?void 0:j.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||G.isValidElement(f.title)?f.jsx||f.title:G.createElement(G.Fragment,null,ct||f.icon||f.promise?G.createElement("div",{"data-icon":"",className:Y(j==null?void 0:j.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ig():null,f.type!=="loading"?f.icon||(U==null?void 0:U[ct])||k8(ct):null):null,G.createElement("div",{"data-content":"",className:Y(j==null?void 0:j.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:Y(j==null?void 0:j.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?G.createElement("div",{"data-description":"",className:Y(M,rg,j==null?void 0:j.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),G.isValidElement(f.cancel)?f.cancel:f.cancel&&Vh(f.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:de=>{var De,Ae;Vh(f.cancel)&&yr&&((Ae=(De=f.cancel).onClick)==null||Ae.call(De,de),vr())},className:Y(j==null?void 0:j.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,G.isValidElement(f.action)?f.action:f.action&&Vh(f.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:de=>{var De,Ae;Vh(f.action)&&(de.defaultPrevented||((Ae=(De=f.action).onClick)==null||Ae.call(De,de),vr()))},className:Y(j==null?void 0:j.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function xI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var e7=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=K8,toastOptions:m,dir:w=xI(),gap:y=Q8,loadingIcon:b,icons:_,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:T,cn:A=J8}=t,[k,V]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([n].concat(k.filter(Q=>Q.position).map(Q=>Q.position)))),[k,n]),[I,P]=G.useState([]),[R,D]=G.useState(!1),[M,N]=G.useState(!1),[K,le]=G.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=G.useRef(null),te=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=G.useRef(null),U=G.useRef(!1),q=G.useCallback(Q=>{var Y;(Y=k.find(se=>se.id===Q.id))!=null&&Y.delete||_n.dismiss(Q.id),V(se=>se.filter(({id:Ce})=>Ce!==Q.id))},[k]);return G.useEffect(()=>_n.subscribe(Q=>{if(Q.dismiss){V(Y=>Y.map(se=>se.id===Q.id?{...se,delete:!0}:se));return}setTimeout(()=>{nD.flushSync(()=>{V(Y=>{let se=Y.findIndex(Ce=>Ce.id===Q.id);return se!==-1?[...Y.slice(0,se),{...Y[se],...Q},...Y.slice(se+1)]:[Q,...Y]})})})}),[]),G.useEffect(()=>{if(l!=="system"){le(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{le(Q?"dark":"light")})},[l]),G.useEffect(()=>{k.length<=1&&D(!1)},[k]),G.useEffect(()=>{let Q=Y=>{var se,Ce;r.every(Je=>Y[Je]||Y.code===Je)&&(D(!0),(se=ne.current)==null||se.focus()),Y.code==="Escape"&&(document.activeElement===ne.current||(Ce=ne.current)!=null&&Ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),G.useEffect(()=>{if(ne.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[ne.current]),k.length?G.createElement("section",{"aria-label":`${x} ${te}`,tabIndex:-1},S.map((Q,Y)=>{var se;let[Ce,Je]=Q.split("-");return G.createElement("ol",{key:Q,dir:w==="auto"?xI():w,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Ce,"data-x-position":Je,style:{"--front-toast-height":`${((se=I[0])==null?void 0:se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||H8,"--width":`${q8}px`,"--gap":`${y}px`,...h},onBlur:ye=>{U.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ye.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},k.filter(ye=>!ye.position&&Y===0||ye.position===Q).map((ye,He)=>{var yn,lt;return G.createElement(Z8,{key:ye.id,icons:_,index:He,toast:ye,defaultRichColors:c,duration:(yn=m==null?void 0:m.duration)!=null?yn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(lt=m==null?void 0:m.closeButton)!=null?lt:i,interacting:M,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:k.filter(Nt=>Nt.position==ye.position),heights:I.filter(Nt=>Nt.position==ye.position),setHeights:P,expandByDefault:s,gap:y,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:T,cn:A})}))})):null};const t7=({...t})=>{const{theme:e="system"}=R8();return p.jsx(e7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var n7=FC.useId||(()=>{}),r7=0;function Ap(t){const[e,n]=v.useState(n7());return Ur(()=>{n(r=>r??String(r7++))},[t]),e?`radix-${e}`:""}const s7=["top","right","bottom","left"],Ci=Math.min,Tn=Math.max,Pp=Math.round,Oh=Math.floor,Ai=t=>({x:t,y:t}),i7={left:"right",right:"left",bottom:"top",top:"bottom"},o7={start:"end",end:"start"};function m0(t,e,n){return Tn(t,Ci(e,n))}function vs(t,e){return typeof t=="function"?t(e):t}function ws(t){return t.split("-")[0]}function Wl(t){return t.split("-")[1]}function lx(t){return t==="x"?"y":"x"}function cx(t){return t==="y"?"height":"width"}function Pi(t){return["top","bottom"].includes(ws(t))?"y":"x"}function ux(t){return lx(Pi(t))}function a7(t,e,n){n===void 0&&(n=!1);const r=Wl(t),s=ux(t),i=cx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Rp(o)),[o,Rp(o)]}function l7(t){const e=Rp(t);return[g0(t),e,g0(e)]}function g0(t){return t.replace(/start|end/g,e=>o7[e])}function c7(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function u7(t,e,n,r){const s=Wl(t);let i=c7(ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(g0)))),i}function Rp(t){return t.replace(/left|right|bottom|top/g,e=>i7[e])}function d7(t){return{top:0,right:0,bottom:0,left:0,...t}}function $D(t){return typeof t!="number"?d7(t):{top:t,right:t,bottom:t,left:t}}function kp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function EI(t,e,n){let{reference:r,floating:s}=t;const i=Pi(e),o=ux(e),a=cx(o),l=ws(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Wl(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const h7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=EI(c,r,l),f=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:b,fn:_}=a[y],{x,y:T,data:A,reset:k}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=T??h,m={...m,[b]:{...m[b],...A}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=EI(c,f,l)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=vs(e,t),w=$D(m),b=a[f?h==="floating"?"reference":"floating":h],_=kp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},k=kp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:T,strategy:l}):x);return{top:(_.top-k.top+w.top)/A.y,bottom:(k.bottom-_.bottom+w.bottom)/A.y,left:(_.left-k.left+w.left)/A.x,right:(k.right-_.right+w.right)/A.x}}const f7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=vs(t,e)||{};if(c==null)return{};const h=$D(d),f={x:n,y:r},m=ux(s),w=cx(m),y=await o.getDimensions(c),b=m==="y",_=b?"top":"left",x=b?"bottom":"right",T=b?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[m]-f[m]-i.floating[w],k=f[m]-i.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=V?V[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(V)))&&(S=a.floating[T]||i.floating[w]);const I=A/2-k/2,P=S/2-y[w]/2-1,R=Ci(h[_],P),D=Ci(h[x],P),M=R,N=S-y[w]-D,K=S/2-y[w]/2+I,le=m0(M,K,N),ne=!l.arrow&&Wl(s)!=null&&K!==le&&i.reference[w]/2-(K<M?R:D)-y[w]/2<0,te=ne?K<M?K-M:K-N:0;return{[m]:f[m]+te,data:{[m]:le,centerOffset:K-le-te,...ne&&{alignmentOffset:te}},reset:ne}}}),p7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=vs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ws(s),x=Pi(a),T=ws(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(T||!y?[Rp(a)]:l7(a)),V=w!=="none";!f&&V&&k.push(...u7(a,y,w,A));const S=[a,...k],I=await qu(e,b),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(I[_]),h){const K=a7(s,o,A);P.push(I[K[0]],I[K[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(K=>K<=0)){var D,M;const K=(((D=i.flip)==null?void 0:D.index)||0)+1,le=S[K];if(le)return{data:{index:K,overflows:R},reset:{placement:le}};let ne=(M=R.filter(te=>te.overflows[0]<=0).sort((te,j)=>te.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(m){case"bestFit":{var N;const te=(N=R.filter(j=>{if(V){const U=Pi(j.placement);return U===x||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:N[0];te&&(ne=te);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function TI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bI(t){return s7.some(e=>t[e]>=0)}const m7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vs(t,e);switch(r){case"referenceHidden":{const i=await qu(e,{...s,elementContext:"reference"}),o=TI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bI(o)}}}case"escaped":{const i=await qu(e,{...s,altBoundary:!0}),o=TI(i,n.floating);return{data:{escapedOffsets:o,escaped:bI(o)}}}default:return{}}}}};async function g7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ws(n),a=Wl(n),l=Pi(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=vs(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const y7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await g7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},v7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:x}=b;return{x:_,y:x}}},...l}=vs(t,e),c={x:n,y:r},d=await qu(e,l),h=Pi(ws(s)),f=lx(h);let m=c[f],w=c[h];if(i){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=m+d[b],T=m-d[_];m=m0(x,m,T)}if(o){const b=h==="y"?"top":"left",_=h==="y"?"bottom":"right",x=w+d[b],T=w-d[_];w=m0(x,w,T)}const y=a.fn({...e,[f]:m,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[h]:o}}}}}},w7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=vs(t,e),d={x:n,y:r},h=Pi(s),f=lx(h);let m=d[f],w=d[h];const y=vs(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=f==="y"?"height":"width",A=i.reference[f]-i.floating[T]+b.mainAxis,k=i.reference[f]+i.reference[T]-b.mainAxis;m<A?m=A:m>k&&(m=k)}if(c){var _,x;const T=f==="y"?"width":"height",A=["top","left"].includes(ws(s)),k=i.reference[h]-i.floating[T]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:b.crossAxis),V=i.reference[h]+i.reference[T]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?b.crossAxis:0);w<k?w=k:w>V&&(w=V)}return{[f]:m,[h]:w}}}},_7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=vs(t,e),d=await qu(e,c),h=ws(s),f=Wl(s),m=Pi(s)==="y",{width:w,height:y}=i.floating;let b,_;h==="top"||h==="bottom"?(b=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,b=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,T=w-d.left-d.right,A=Ci(y-d[b],x),k=Ci(w-d[_],T),V=!e.middlewareData.shift;let S=A,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=x),V&&!f){const R=Tn(d.left,0),D=Tn(d.right,0),M=Tn(d.top,0),N=Tn(d.bottom,0);m?I=w-2*(R!==0||D!==0?R+D:Tn(d.left,d.right)):S=y-2*(M!==0||N!==0?M+N:Tn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:S});const P=await o.getDimensions(a.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function jm(){return typeof window<"u"}function Kl(t){return zD(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $r(t){var e;return(e=(zD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zD(t){return jm()?t instanceof Node||t instanceof Pn(t).Node:!1}function pr(t){return jm()?t instanceof Element||t instanceof Pn(t).Element:!1}function Br(t){return jm()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function II(t){return!jm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}function Ld(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function x7(t){return["table","td","th"].includes(Kl(t))}function Fm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dx(t){const e=hx(),n=pr(t)?mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function E7(t){let e=Ri(t);for(;Br(e)&&!Cl(e);){if(dx(e))return e;if(Fm(e))return null;e=Ri(e)}return null}function hx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cl(t){return["html","body","#document"].includes(Kl(t))}function mr(t){return Pn(t).getComputedStyle(t)}function Um(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ri(t){if(Kl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||II(t)&&t.host||$r(t);return II(e)?e.host:e}function WD(t){const e=Ri(t);return Cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Br(e)&&Ld(e)?e:WD(e)}function Qu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=WD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Pn(s);if(i){const a=y0(o);return e.concat(o,o.visualViewport||[],Ld(s)?s:[],a&&n?Qu(a):[])}return e.concat(s,Qu(s,[],n))}function y0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KD(t){const e=mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Pp(n)!==i||Pp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function fx(t){return pr(t)?t:t.contextElement}function Ga(t){const e=fx(t);if(!Br(e))return Ai(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=KD(e);let o=(i?Pp(n.width):n.width)/r,a=(i?Pp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const T7=Ai(0);function HD(t){const e=Pn(t);return!hx()||!e.visualViewport?T7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function b7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function Ko(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=fx(t);let o=Ai(1);e&&(r?pr(r)&&(o=Ga(r)):o=Ga(t));const a=b7(i,n,r)?HD(i):Ai(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Pn(i),m=r&&pr(r)?Pn(r):r;let w=f,y=y0(w);for(;y&&r&&m!==w;){const b=Ga(y),_=y.getBoundingClientRect(),x=mr(y),T=_.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,A=_.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=T,c+=A,w=Pn(y),y=y0(w)}}return kp({width:d,height:h,x:l,y:c})}function I7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=$r(r),a=e?Fm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ai(1);const d=Ai(0),h=Br(r);if((h||!h&&!i)&&((Kl(r)!=="body"||Ld(o))&&(l=Um(r)),Br(r))){const f=Ko(r);c=Ga(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function S7(t){return Array.from(t.getClientRects())}function v0(t,e){const n=Um(t).scrollLeft;return e?e.left+n:Ko($r(t)).left+n}function C7(t){const e=$r(t),n=Um(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+v0(t);const a=-n.scrollTop;return mr(r).direction==="rtl"&&(o+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function A7(t,e){const n=Pn(t),r=$r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=hx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function P7(t,e){const n=Ko(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Br(t)?Ga(t):Ai(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function SI(t,e,n){let r;if(e==="viewport")r=A7(t,n);else if(e==="document")r=C7($r(t));else if(pr(e))r=P7(e,n);else{const s=HD(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return kp(r)}function GD(t,e){const n=Ri(t);return n===e||!pr(n)||Cl(n)?!1:mr(n).position==="fixed"||GD(n,e)}function R7(t,e){const n=e.get(t);if(n)return n;let r=Qu(t,[],!1).filter(a=>pr(a)&&Kl(a)!=="body"),s=null;const i=mr(t).position==="fixed";let o=i?Ri(t):t;for(;pr(o)&&!Cl(o);){const a=mr(o),l=dx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ld(o)&&!l&&GD(t,o))?r=r.filter(d=>d!==o):s=a,o=Ri(o)}return e.set(t,r),r}function k7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Fm(e)?[]:R7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=SI(e,d,s);return c.top=Tn(h.top,c.top),c.right=Ci(h.right,c.right),c.bottom=Ci(h.bottom,c.bottom),c.left=Tn(h.left,c.left),c},SI(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function N7(t){const{width:e,height:n}=KD(t);return{width:e,height:n}}function D7(t,e,n){const r=Br(e),s=$r(e),i=n==="fixed",o=Ko(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ai(0);if(r||!r&&!i)if((Kl(e)!=="body"||Ld(s))&&(a=Um(e)),r){const m=Ko(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=v0(s));let c=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-v0(s,m)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function cy(t){return mr(t).position==="static"}function CI(t,e){if(!Br(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $r(t)===n&&(n=n.ownerDocument.body),n}function qD(t,e){const n=Pn(t);if(Fm(t))return n;if(!Br(t)){let s=Ri(t);for(;s&&!Cl(s);){if(pr(s)&&!cy(s))return s;s=Ri(s)}return n}let r=CI(t,e);for(;r&&x7(r)&&cy(r);)r=CI(r,e);return r&&Cl(r)&&cy(r)&&!dx(r)?n:r||E7(t)||n}const M7=async function(t){const e=this.getOffsetParent||qD,n=this.getDimensions,r=await n(t.floating);return{reference:D7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function V7(t){return mr(t).direction==="rtl"}const O7={convertOffsetParentRelativeRectToViewportRelativeRect:I7,getDocumentElement:$r,getClippingRect:k7,getOffsetParent:qD,getElementRects:M7,getClientRects:S7,getDimensions:N7,getScale:Ga,isElement:pr,isRTL:V7};function L7(t,e){let n=null,r;const s=$r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Oh(d),w=Oh(s.clientWidth-(c+h)),y=Oh(s.clientHeight-(d+f)),b=Oh(c),x={rootMargin:-m+"px "+-w+"px "+-y+"px "+-b+"px",threshold:Tn(0,Ci(1,l))||1};let T=!0;function A(k){const V=k[0].intersectionRatio;if(V!==l){if(!T)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(A,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return o(!0),i}function j7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=fx(t),d=s||i?[...c?Qu(c):[],...Qu(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?L7(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[x]=_;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,y=l?Ko(t):null;l&&b();function b(){const _=Ko(t);y&&(_.x!==y.x||_.y!==y.y||_.width!==y.width||_.height!==y.height)&&n(),y=_,w=requestAnimationFrame(b)}return n(),()=>{var _;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const F7=y7,U7=v7,B7=p7,$7=_7,z7=m7,AI=f7,W7=w7,K7=(t,e,n)=>{const r=new Map,s={platform:O7,...n},i={...s.platform,_c:r};return h7(t,e,{...s,platform:i})};var Tf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Np(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Np(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Np(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function QD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PI(t,e){const n=QD(t);return Math.round(e*n)/n}function uy(t){const e=v.useRef(t);return Tf(()=>{e.current=t}),e}function H7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Np(f,r)||m(r);const[w,y]=v.useState(null),[b,_]=v.useState(null),x=v.useCallback(j=>{j!==V.current&&(V.current=j,y(j))},[]),T=v.useCallback(j=>{j!==S.current&&(S.current=j,_(j))},[]),A=i||w,k=o||b,V=v.useRef(null),S=v.useRef(null),I=v.useRef(d),P=l!=null,R=uy(l),D=uy(s),M=uy(c),N=v.useCallback(()=>{if(!V.current||!S.current)return;const j={placement:e,strategy:n,middleware:f};D.current&&(j.platform=D.current),K7(V.current,S.current,j).then(U=>{const q={...U,isPositioned:M.current!==!1};K.current&&!Np(I.current,q)&&(I.current=q,Md.flushSync(()=>{h(q)}))})},[f,e,n,D,M]);Tf(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const K=v.useRef(!1);Tf(()=>(K.current=!0,()=>{K.current=!1}),[]),Tf(()=>{if(A&&(V.current=A),k&&(S.current=k),A&&k){if(R.current)return R.current(A,k,N);N()}},[A,k,N,R,P]);const le=v.useMemo(()=>({reference:V,floating:S,setReference:x,setFloating:T}),[x,T]),ne=v.useMemo(()=>({reference:A,floating:k}),[A,k]),te=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!ne.floating)return j;const U=PI(ne.floating,d.x),q=PI(ne.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+q+"px)",...QD(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,a,ne.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:N,refs:le,elements:ne,floatingStyles:te}),[d,N,le,ne,te])}const G7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AI({element:r.current,padding:s}).fn(n):{}:r?AI({element:r,padding:s}).fn(n):{}}}},q7=(t,e)=>({...F7(t),options:[t,e]}),Q7=(t,e)=>({...U7(t),options:[t,e]}),X7=(t,e)=>({...W7(t),options:[t,e]}),Y7=(t,e)=>({...B7(t),options:[t,e]}),J7=(t,e)=>({...$7(t),options:[t,e]}),Z7=(t,e)=>({...z7(t),options:[t,e]}),eW=(t,e)=>({...G7(t),options:[t,e]});var tW="Arrow",XD=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});XD.displayName=tW;var nW=XD;function rW(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sW(s,...e)]}function sW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function iW(t){const[e,n]=v.useState(void 0);return Ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var px="Popper",[YD,Bm]=rW(px),[oW,JD]=YD(px),ZD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return p.jsx(oW,{scope:e,anchor:r,onAnchorChange:s,children:n})};ZD.displayName=px;var e2="PopperAnchor",t2=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=JD(e2,n),o=v.useRef(null),a=bt(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Se.div,{...s,ref:a})});t2.displayName=e2;var mx="PopperContent",[aW,lW]=YD(mx),n2=v.forwardRef((t,e)=>{var He,yn,lt,Nt,Wr,gr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=t,b=JD(mx,n),[_,x]=v.useState(null),T=bt(e,Jn=>x(Jn)),[A,k]=v.useState(null),V=iW(A),S=(V==null?void 0:V.width)??0,I=(V==null?void 0:V.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:R,boundary:D.filter(uW),altBoundary:M},{refs:K,floatingStyles:le,placement:ne,isPositioned:te,middlewareData:j}=H7({strategy:"fixed",placement:P,whileElementsMounted:(...Jn)=>j7(...Jn,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[q7({mainAxis:s+I,alignmentAxis:o}),l&&Q7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?X7():void 0,...N}),l&&Y7({...N}),J7({...N,apply:({elements:Jn,rects:Kr,availableWidth:Cs,availableHeight:Zn})=>{const{width:Yl,height:Jl}=Kr.reference,ct=Jn.floating.style;ct.setProperty("--radix-popper-available-width",`${Cs}px`),ct.setProperty("--radix-popper-available-height",`${Zn}px`),ct.setProperty("--radix-popper-anchor-width",`${Yl}px`),ct.setProperty("--radix-popper-anchor-height",`${Jl}px`)}}),A&&eW({element:A,padding:a}),dW({arrowWidth:S,arrowHeight:I}),f&&Z7({strategy:"referenceHidden",...N})]}),[U,q]=i2(ne),Q=Gt(w);Ur(()=>{te&&(Q==null||Q())},[te,Q]);const Y=(He=j.arrow)==null?void 0:He.x,se=(yn=j.arrow)==null?void 0:yn.y,Ce=((lt=j.arrow)==null?void 0:lt.centerOffset)!==0,[Je,ye]=v.useState();return Ur(()=>{_&&ye(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:te?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Nt=j.transformOrigin)==null?void 0:Nt.x,(Wr=j.transformOrigin)==null?void 0:Wr.y].join(" "),...((gr=j.hide)==null?void 0:gr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(aW,{scope:n,placedSide:U,onArrowChange:k,arrowX:Y,arrowY:se,shouldHideArrow:Ce,children:p.jsx(Se.div,{"data-side":U,"data-align":q,...y,ref:T,style:{...y.style,animation:te?void 0:"none"}})})})});n2.displayName=mx;var r2="PopperArrow",cW={top:"bottom",right:"left",bottom:"top",left:"right"},s2=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=lW(r2,r),o=cW[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(nW,{...s,ref:n,style:{...s.style,display:"block"}})})});s2.displayName=r2;function uW(t){return t!==null}var dW=t=>({name:"transformOrigin",options:t,fn(e){var b,_,x;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=i2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${f}px`,y=`${-l}px`):c==="top"?(w=o?h:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:w,y}}}});function i2(t){const[e,n="center"]=t.split("-");return[e,n]}var o2=ZD,a2=t2,l2=n2,c2=s2,[$m,see]=Vd("Tooltip",[Bm]),zm=Bm(),u2="TooltipProvider",hW=700,w0="tooltip.open",[fW,gx]=$m(u2),d2=t=>{const{__scopeTooltip:e,delayDuration:n=hW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(fW,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};d2.displayName=u2;var Wm="Tooltip",[pW,Km]=$m(Wm),h2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=gx(Wm,t.__scopeTooltip),c=zm(e),[d,h]=v.useState(null),f=Ap(),m=v.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,b=v.useRef(!1),[_=!1,x]=Mm({prop:r,defaultProp:s,onChange:S=>{S?(l.onOpen(),document.dispatchEvent(new CustomEvent(w0))):l.onClose(),i==null||i(S)}}),T=v.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),A=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,x(!0)},[x]),k=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),V=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,x(!0),m.current=0},y)},[y,x]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),p.jsx(o2,{...c,children:p.jsx(pW,{scope:e,contentId:f,open:_,stateAttribute:T,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayed?V():A()},[l.isOpenDelayed,V,A]),onTriggerLeave:v.useCallback(()=>{w?k():(window.clearTimeout(m.current),m.current=0)},[k,w]),onOpen:A,onClose:k,disableHoverableContent:w,children:n})})};h2.displayName=Wm;var _0="TooltipTrigger",f2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Km(_0,n),i=gx(_0,n),o=zm(n),a=v.useRef(null),l=bt(e,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(a2,{asChild:!0,...o,children:p.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});f2.displayName=_0;var mW="TooltipPortal",[iee,gW]=$m(mW,{forceMount:void 0}),Al="TooltipContent",p2=v.forwardRef((t,e)=>{const n=gW(Al,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Km(Al,t.__scopeTooltip);return p.jsx(Yo,{present:r||o.open,children:o.disableHoverableContent?p.jsx(m2,{side:s,...i,ref:e}):p.jsx(yW,{side:s,...i,ref:e})})}),yW=v.forwardRef((t,e)=>{const n=Km(Al,t.__scopeTooltip),r=gx(Al,t.__scopeTooltip),s=v.useRef(null),i=bt(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((w,y)=>{const b=w.currentTarget,_={x:w.clientX,y:w.clientY},x=xW(_,b.getBoundingClientRect()),T=EW(_,x),A=TW(y.getBoundingClientRect()),k=IW([...T,...A]);a(k),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const w=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,f]),v.useEffect(()=>{if(o){const w=y=>{const b=y.target,_={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),T=!bW(_,o);x?f():T&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),p.jsx(m2,{...t,ref:i})}),[vW,wW]=$m(Wm,{isInside:!1}),m2=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Km(Al,n),c=zm(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(w0,d),()=>document.removeEventListener(w0,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),p.jsx(Dm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs(l2,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(rD,{children:r}),p.jsx(vW,{scope:n,isInside:!0,children:p.jsx(rz,{id:l.contentId,role:"tooltip",children:s||r})})]})})});p2.displayName=Al;var g2="TooltipArrow",_W=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=zm(n);return wW(g2,n).isInside?null:p.jsx(c2,{...s,...r,ref:e})});_W.displayName=g2;function xW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function TW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function bW(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function IW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),SW(e)}function SW(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var CW=d2,AW=h2,PW=f2,y2=p2;const Dp=CW,x0=AW,E0=PW,Mp=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(y2,{ref:r,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Mp.displayName=y2.displayName;var Hm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gm=typeof window>"u"||"Deno"in globalThis;function sr(){}function RW(t,e){return typeof t=="function"?t(e):t}function kW(t){return typeof t=="number"&&t>=0&&t!==1/0}function NW(t,e){return Math.max(t+(e||0)-Date.now(),0)}function RI(t,e){return typeof t=="function"?t(e):t}function DW(t,e){return typeof t=="function"?t(e):t}function kI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==yx(o,e.options))return!1}else if(!Yu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function NI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xu(e.options.mutationKey)!==Xu(i))return!1}else if(!Yu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function yx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xu)(t)}function Xu(t){return JSON.stringify(t,(e,n)=>T0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yu(t[n],e[n])):!1}function v2(t,e){if(t===e)return t;const n=DI(t)&&DI(e);if(n||T0(t)&&T0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=v2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function DI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function T0(t){if(!MI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!MI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function MI(t){return Object.prototype.toString.call(t)==="[object Object]"}function MW(t){return new Promise(e=>{setTimeout(e,t)})}function VW(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?v2(t,e):e}function OW(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LW(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vx=Symbol();function w2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yo,Js,Qa,_C,jW=(_C=class extends Hm{constructor(){super();Ie(this,yo);Ie(this,Js);Ie(this,Qa);pe(this,Qa,e=>{if(!Gm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Js)||this.setEventListener($(this,Qa))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Js))==null||e.call(this),pe(this,Js,void 0))}setEventListener(e){var n;pe(this,Qa,e),(n=$(this,Js))==null||n.call(this),pe(this,Js,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,yo)!==e&&(pe(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,yo)=="boolean"?$(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,Js=new WeakMap,Qa=new WeakMap,_C),_2=new jW,Xa,Zs,Ya,xC,FW=(xC=class extends Hm{constructor(){super();Ie(this,Xa,!0);Ie(this,Zs);Ie(this,Ya);pe(this,Ya,e=>{if(!Gm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Zs)||this.setEventListener($(this,Ya))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Zs))==null||e.call(this),pe(this,Zs,void 0))}setEventListener(e){var n;pe(this,Ya,e),(n=$(this,Zs))==null||n.call(this),pe(this,Zs,e(this.setOnline.bind(this)))}setOnline(e){$(this,Xa)!==e&&(pe(this,Xa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Xa)}},Xa=new WeakMap,Zs=new WeakMap,Ya=new WeakMap,xC),Vp=new FW;function UW(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function BW(t){return Math.min(1e3*2**t,3e4)}function x2(t){return(t??"online")==="online"?Vp.isOnline():!0}var E2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dy(t){return t instanceof E2}function T2(t){let e=!1,n=0,r=!1,s;const i=UW(),o=y=>{var b;r||(f(new E2(y)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>_2.isFocused()&&(t.networkMode==="always"||Vp.isOnline())&&t.canRun(),d=()=>x2(t.networkMode)&&t.canRun(),h=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var b;s=_=>{(r||c())&&y(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),w=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(h).catch(_=>{var V;if(r)return;const x=t.retry??(Gm?0:3),T=t.retryDelay??BW,A=typeof T=="function"?T(n,_):T,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,_);if(e||!k){f(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),MW(A).then(()=>c()?void 0:m()).then(()=>{e?f(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():m().then(w),i)}}function $W(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Yt=$W(),vo,EC,b2=(EC=class{constructor(){Ie(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kW(this.gcTime)&&pe(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gm?1/0:5*60*1e3))}clearGcTimeout(){$(this,vo)&&(clearTimeout($(this,vo)),pe(this,vo,void 0))}},vo=new WeakMap,EC),Ja,Za,Ln,Ut,dd,wo,ir,Yr,TC,zW=(TC=class extends b2{constructor(e){super();Ie(this,ir);Ie(this,Ja);Ie(this,Za);Ie(this,Ln);Ie(this,Ut);Ie(this,dd);Ie(this,wo);pe(this,wo,!1),pe(this,dd,e.defaultOptions),this.setOptions(e.options),this.observers=[],pe(this,Ln,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pe(this,Ja,KW(this.options)),this.state=e.state??$(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Ut))==null?void 0:e.promise}setOptions(e){this.options={...$(this,dd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ln).remove(this)}setData(e,n){const r=VW(this.state.data,e,this.options);return Ot(this,ir,Yr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ot(this,ir,Yr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=$(this,Ut))==null?void 0:r.promise;return(s=$(this,Ut))==null||s.cancel(e),n?n.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ja))}isActive(){return this.observers.some(e=>DW(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!NW(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=$(this,Ut))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,Ln).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||($(this,Ut)&&($(this,wo)?$(this,Ut).cancel({revert:!0}):$(this,Ut).cancelRetry()),this.scheduleGc()),$(this,Ln).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,ir,Yr).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Ut))return $(this,Ut).continueRetry(),$(this,Ut).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pe(this,wo,!0),r.signal)})},i=()=>{const h=w2(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),pe(this,wo,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),pe(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ot(this,ir,Yr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,m,w,y;dy(h)&&h.silent||Ot(this,ir,Yr).call(this,{type:"error",error:h}),dy(h)||((m=(f=$(this,Ln).config).onError)==null||m.call(f,h,this),(y=(w=$(this,Ln).config).onSettled)==null||y.call(w,this.state.data,h,this)),this.scheduleGc()};return pe(this,Ut,T2({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,w,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){a(b);return}(m=(f=$(this,Ln).config).onSuccess)==null||m.call(f,h,this),(y=(w=$(this,Ln).config).onSettled)==null||y.call(w,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{Ot(this,ir,Yr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ot(this,ir,Yr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,ir,Yr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),$(this,Ut).start()}},Ja=new WeakMap,Za=new WeakMap,Ln=new WeakMap,Ut=new WeakMap,dd=new WeakMap,wo=new WeakMap,ir=new WeakSet,Yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...WW(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return dy(s)&&s.revert&&$(this,Za)?{...$(this,Za),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Ln).notify({query:this,type:"updated",action:e})})},TC);function WW(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function KW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,bC,HW=(bC=class extends Hm{constructor(e={}){super();Ie(this,Er);this.config=e,pe(this,Er,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??yx(s,n);let o=this.get(i);return o||(o=new zW({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Er).has(e.queryHash)||($(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Er).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Er).get(e)}getAll(){return[...$(this,Er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>kI(e,r)):n}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,bC),Tr,Qt,_o,br,Bs,IC,GW=(IC=class extends b2{constructor(e){super();Ie(this,br);Ie(this,Tr);Ie(this,Qt);Ie(this,_o);this.mutationId=e.mutationId,pe(this,Qt,e.mutationCache),pe(this,Tr,[]),this.state=e.state||qW(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,Tr).includes(e)||($(this,Tr).push(e),this.clearGcTimeout(),$(this,Qt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pe(this,Tr,$(this,Tr).filter(n=>n!==e)),this.scheduleGc(),$(this,Qt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Qt).remove(this))}continue(){var e;return((e=$(this,_o))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,h,f,m,w,y,b,_,x,T,A,k,V,S;pe(this,_o,T2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{Ot(this,br,Bs).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{Ot(this,br,Bs).call(this,{type:"pause"})},onContinue:()=>{Ot(this,br,Bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Qt).canRun(this)}));const n=this.state.status==="pending",r=!$(this,_o).canStart();try{if(!n){Ot(this,br,Bs).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=$(this,Qt).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&Ot(this,br,Bs).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const I=await $(this,_o).start();return await((c=(l=$(this,Qt).config).onSuccess)==null?void 0:c.call(l,I,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,I,e,this.state.context)),await((m=(f=$(this,Qt).config).onSettled)==null?void 0:m.call(f,I,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,I,null,e,this.state.context)),Ot(this,br,Bs).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(b=$(this,Qt).config).onError)==null?void 0:_.call(b,I,e,this.state.context,this)),await((T=(x=this.options).onError)==null?void 0:T.call(x,I,e,this.state.context)),await((k=(A=$(this,Qt).config).onSettled)==null?void 0:k.call(A,void 0,I,this.state.variables,this.state.context,this)),await((S=(V=this.options).onSettled)==null?void 0:S.call(V,void 0,I,e,this.state.context)),I}finally{Ot(this,br,Bs).call(this,{type:"error",error:I})}}finally{$(this,Qt).runNext(this)}}},Tr=new WeakMap,Qt=new WeakMap,_o=new WeakMap,br=new WeakSet,Bs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yt.batch(()=>{$(this,Tr).forEach(r=>{r.onMutationUpdate(e)}),$(this,Qt).notify({mutation:this,type:"updated",action:e})})},IC);function qW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wn,hd,SC,QW=(SC=class extends Hm{constructor(e={}){super();Ie(this,wn);Ie(this,hd);this.config=e,pe(this,wn,new Map),pe(this,hd,Date.now())}build(e,n,r){const s=new GW({mutationCache:this,mutationId:++ah(this,hd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Lh(e),r=$(this,wn).get(n)??[];r.push(e),$(this,wn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Lh(e);if($(this,wn).has(n)){const s=(r=$(this,wn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,wn).delete(n):$(this,wn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,wn).get(Lh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,wn).get(Lh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,wn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>NI(n,r))}findAll(e={}){return this.getAll().filter(n=>NI(e,n))}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},wn=new WeakMap,hd=new WeakMap,SC);function Lh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function VI(t){return{onFetch:(e,n)=>{var d,h,f,m,w;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=w2(e.options,e.fetchOptions),x=async(T,A,k)=>{if(y)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const V={queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};b(V);const S=await _(V),{maxPages:I}=e.options,P=k?LW:OW;return{pages:P(T.pages,S,I),pageParams:P(T.pageParams,A,I)}};if(s&&i.length){const T=s==="backward",A=T?XW:OI,k={pages:i,pageParams:o},V=A(r,k);a=await x(k,V,T)}else{const T=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:OI(r,a);if(l>0&&A==null)break;a=await x(a,A),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function OI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function XW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tt,ei,ti,el,tl,ni,nl,rl,CC,YW=(CC=class{constructor(t={}){Ie(this,tt);Ie(this,ei);Ie(this,ti);Ie(this,el);Ie(this,tl);Ie(this,ni);Ie(this,nl);Ie(this,rl);pe(this,tt,t.queryCache||new HW),pe(this,ei,t.mutationCache||new QW),pe(this,ti,t.defaultOptions||{}),pe(this,el,new Map),pe(this,tl,new Map),pe(this,ni,0)}mount(){ah(this,ni)._++,$(this,ni)===1&&(pe(this,nl,_2.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onFocus())})),pe(this,rl,Vp.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onOnline())})))}unmount(){var t,e;ah(this,ni)._--,$(this,ni)===0&&((t=$(this,nl))==null||t.call(this),pe(this,nl,void 0),(e=$(this,rl))==null||e.call(this),pe(this,rl,void 0))}isFetching(t){return $(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ei).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(RI(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=RW(e,i);if(o!==void 0)return $(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yt.batch(()=>$(this,tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,tt);Yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,tt),r={type:"active",...t};return Yt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yt.batch(()=>$(this,tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t={},e={}){return Yt.batch(()=>{if($(this,tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yt.batch(()=>$(this,tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,tt).build(this,e);return n.isStaleByTime(RI(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=VI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=VI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vp.isOnline()?$(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,tt)}getMutationCache(){return $(this,ei)}getDefaultOptions(){return $(this,ti)}setDefaultOptions(t){pe(this,ti,t)}setQueryDefaults(t,e){$(this,el).set(Xu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,el).values()];let n={};return e.forEach(r=>{Yu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,tl).set(Xu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,tl).values()];let n={};return e.forEach(r=>{Yu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ti).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ti).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,tt).clear(),$(this,ei).clear()}},tt=new WeakMap,ei=new WeakMap,ti=new WeakMap,el=new WeakMap,tl=new WeakMap,ni=new WeakMap,nl=new WeakMap,rl=new WeakMap,CC),JW=v.createContext(void 0),ZW=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(JW.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const LI="popstate";function eK(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return b0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Op(s)}return nK(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function I2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tK(){return Math.random().toString(36).substr(2,8)}function jI(t,e){return{usr:t.state,key:t.key,idx:e}}function b0(t,e,n,r){return n===void 0&&(n=null),Ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hl(e):e,{state:n,key:e&&e.key||r||tK()})}function Op(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nK(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=oi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ju({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=oi.Pop;let b=d(),_=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:_})}function f(b,_){a=oi.Push;let x=b0(y.location,b,_);c=d()+1;let T=jI(x,c),A=y.createHref(x);try{o.pushState(T,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}i&&l&&l({action:a,location:y.location,delta:1})}function m(b,_){a=oi.Replace;let x=b0(y.location,b,_);c=d();let T=jI(x,c),A=y.createHref(x);o.replaceState(T,"",A),i&&l&&l({action:a,location:y.location,delta:0})}function w(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Op(b);return x=x.replace(/ $/,"%20"),at(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let y={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(LI,h),l=b,()=>{s.removeEventListener(LI,h),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let _=w(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(b){return o.go(b)}};return y}var FI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FI||(FI={}));function rK(t,e,n){return n===void 0&&(n="/"),sK(t,e,n,!1)}function sK(t,e,n,r){let s=typeof e=="string"?Hl(e):e,i=wx(s.pathname||"/",n);if(i==null)return null;let o=S2(t);iK(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=gK(i);a=pK(o[l],c,r)}return a}function S2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=_i([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),S2(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:hK(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of C2(i.path))s(i,o,l)}),e}function C2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=C2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oK=/^:[\w-]+$/,aK=3,lK=2,cK=1,uK=10,dK=-2,UI=t=>t==="*";function hK(t,e){let n=t.split("/"),r=n.length;return n.some(UI)&&(r+=dK),e&&(r+=lK),n.filter(s=>!UI(s)).reduce((s,i)=>s+(oK.test(i)?aK:i===""?cK:uK),r)}function fK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function pK(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=BI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=BI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:_i([i,h.pathname]),pathnameBase:_K(_i([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=_i([i,h.pathnameBase]))}return o}function BI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mK(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function mK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),I2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return I2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Hl(t):t;return{pathname:n?n.startsWith("/")?n:vK(n,e):e,search:xK(r),hash:EK(s)}}function vK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _x(t,e){let n=wK(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Hl(t):(s=Ju({},t),at(!s.pathname||!s.pathname.includes("?"),hy("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),hy("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),hy("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=yK(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const _i=t=>t.join("/").replace(/\/\/+/g,"/"),_K=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const A2=["post","put","patch","delete"];new Set(A2);const bK=["get",...A2];new Set(bK);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}const Ex=v.createContext(null),IK=v.createContext(null),zi=v.createContext(null),qm=v.createContext(null),zr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),P2=v.createContext(null);function SK(t,e){let{relative:n}=e===void 0?{}:e;Gl()||at(!1);let{basename:r,navigator:s}=v.useContext(zi),{hash:i,pathname:o,search:a}=k2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:_i([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Gl(){return v.useContext(qm)!=null}function Ss(){return Gl()||at(!1),v.useContext(qm).location}function R2(t){v.useContext(zi).static||v.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=v.useContext(zr);return t?$K():CK()}function CK(){Gl()||at(!1);let t=v.useContext(Ex),{basename:e,future:n,navigator:r}=v.useContext(zi),{matches:s}=v.useContext(zr),{pathname:i}=Ss(),o=JSON.stringify(_x(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return R2(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=xx(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:_i([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const AK=v.createContext(null);function PK(t){let e=v.useContext(zr).outlet;return e&&v.createElement(AK.Provider,{value:t},e)}function RK(){let{matches:t}=v.useContext(zr),e=t[t.length-1];return e?e.params:{}}function k2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(zi),{matches:s}=v.useContext(zr),{pathname:i}=Ss(),o=JSON.stringify(_x(s,r.v7_relativeSplatPath));return v.useMemo(()=>xx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function kK(t,e){return NK(t,e)}function NK(t,e,n,r){Gl()||at(!1);let{navigator:s}=v.useContext(zi),{matches:i}=v.useContext(zr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ss(),d;if(e){var h;let b=typeof e=="string"?Hl(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||at(!1),d=b}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=rK(t,{pathname:m}),y=LK(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:_i([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:_i([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?v.createElement(qm.Provider,{value:{location:Zu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oi.Pop}},y):y}function DK(){let t=BK(),e=TK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const MK=v.createElement(DK,null);class VK extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(zr.Provider,{value:this.props.routeContext},v.createElement(P2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OK(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Ex);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(zr.Provider,{value:e},r)}function LK(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,y=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||MK,l&&(c<0&&f===0?(w=!0,b=null):c===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let T;return m?T=y:w?T=b:h.route.Component?T=v.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,v.createElement(OK,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(VK,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var N2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(N2||{}),Lp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lp||{});function jK(t){let e=v.useContext(Ex);return e||at(!1),e}function FK(t){let e=v.useContext(IK);return e||at(!1),e}function UK(t){let e=v.useContext(zr);return e||at(!1),e}function D2(t){let e=UK(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function BK(){var t;let e=v.useContext(P2),n=FK(Lp.UseRouteError),r=D2(Lp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $K(){let{router:t}=jK(N2.UseNavigateStable),e=D2(Lp.UseNavigateStable),n=v.useRef(!1);return R2(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zu({fromRouteId:e},i)))},[t,e])}function zK(t){let{to:e,replace:n,state:r,relative:s}=t;Gl()||at(!1);let{future:i,static:o}=v.useContext(zi),{matches:a}=v.useContext(zr),{pathname:l}=Ss(),c=Wi(),d=xx(e,_x(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function WK(t){return PK(t.context)}function Jr(t){at(!1)}function KK(t){let{basename:e="/",children:n=null,location:r,navigationType:s=oi.Pop,navigator:i,static:o=!1,future:a}=t;Gl()&&at(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Zu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Hl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,y=v.useMemo(()=>{let b=wx(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:w},navigationType:s}},[l,d,h,f,m,w,s]);return y==null?null:v.createElement(zi.Provider,{value:c},v.createElement(qm.Provider,{children:n,value:y}))}function HK(t){let{children:e,location:n}=t;return kK(I0(e),n)}new Promise(()=>{});function I0(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,I0(r.props.children,i));return}r.type!==Jr&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function GK(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function qK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QK(t,e){return t.button===0&&(!e||e==="_self")&&!qK(t)}const XK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YK="6";try{window.__reactRouterVersion=YK}catch{}const JK="startTransition",$I=FC[JK];function ZK(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=eK({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&$I?$I(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(KK,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=GK(e,XK),{basename:m}=v.useContext(zi),w,y=!1;if(typeof c=="string"&&tH.test(c)&&(w=c,eH))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),k=wx(A.pathname,m);A.origin===T.origin&&k!=null?c=k+A.search+A.hash:y=!0}catch{}let b=SK(c,{relative:s}),_=nH(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(T){r&&r(T),T.defaultPrevented||_(T)}return v.createElement("a",S0({},f,{href:w||b,onClick:y||i?r:x,ref:n,target:l}))});var zI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zI||(zI={}));var WI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WI||(WI={}));function nH(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Wi(),c=Ss(),d=k2(t,{relative:o});return v.useCallback(h=>{if(QK(h,n)){h.preventDefault();let f=r!==void 0?r:Op(c)===Op(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const Tx=v.createContext({});function bx(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ix=typeof window<"u",M2=Ix?v.useLayoutEffect:v.useEffect,Qm=v.createContext(null);function Sx(t,e){t.indexOf(e)===-1&&t.push(e)}function Cx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s=(t,e,n)=>n>e?e:n<t?t:n;let jp=()=>{};const xs={},V2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function O2(t){return typeof t=="object"&&t!==null}const L2=t=>/^0[^.\s]+$/u.test(t);function Ax(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gn=t=>t,rH=(t,e)=>n=>e(t(n)),jd=(...t)=>t.reduce(rH),ed=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Px{constructor(){this.subscriptions=[]}add(e){return Sx(this.subscriptions,e),()=>Cx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=t=>t*1e3,Vr=t=>t/1e3;function j2(t,e){return e?t*(1e3/e):0}const F2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sH=1e-7,iH=12;function oH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=F2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>sH&&++a<iH);return o}function Fd(t,e,n,r){if(t===e&&n===r)return Gn;const s=i=>oH(i,0,1,t,n);return i=>i===0||i===1?i:F2(s(i),e,r)}const U2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,B2=t=>e=>1-t(1-e),$2=Fd(.33,1.53,.69,.99),Rx=B2($2),z2=U2(Rx),W2=t=>(t*=2)<1?.5*Rx(t):.5*(2-Math.pow(2,-10*(t-1))),kx=t=>1-Math.sin(Math.acos(t)),K2=B2(kx),H2=U2(kx),aH=Fd(.42,0,1,1),lH=Fd(0,0,.58,1),G2=Fd(.42,0,.58,1),cH=t=>Array.isArray(t)&&typeof t[0]!="number",q2=t=>Array.isArray(t)&&typeof t[0]=="number",KI={linear:Gn,easeIn:aH,easeInOut:G2,easeOut:lH,circIn:kx,circInOut:H2,circOut:K2,backIn:Rx,backInOut:z2,backOut:$2,anticipate:W2},uH=t=>typeof t=="string",HI=t=>{if(q2(t)){jp(t.length===4);const[e,n,r,s]=t;return Fd(e,n,r,s)}else if(uH(t))return jp(KI[t]!==void 0),KI[t];return t},jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],GI={value:null,addProjectionMetrics:null};function dH(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const y=m&&s?n:r;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&GI.value&&GI.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const hH=40;function Q2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=jh.reduce((T,A)=>(T[A]=dH(i,e?A:void 0),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,y=()=>{const T=xs.useManualTiming?s.timestamp:performance.now();n=!1,xs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,hH),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:jh.reduce((T,A)=>{const k=o[A];return T[A]=(V,S=!1,I=!1)=>(n||b(),k.schedule(V,S,I)),T},{}),cancel:T=>{for(let A=0;A<jh.length;A++)o[jh[A]].cancel(T)},state:s,steps:o}}const{schedule:We,cancel:ki,state:Ct,steps:fy}=Q2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let bf;function fH(){bf=void 0}const hn={now:()=>(bf===void 0&&hn.set(Ct.isProcessing||xs.useManualTiming?Ct.timestamp:performance.now()),bf),set:t=>{bf=t,queueMicrotask(fH)}},X2=t=>e=>typeof e=="string"&&e.startsWith(t),Nx=X2("--"),pH=X2("var(--"),Dx=t=>pH(t)?mH.test(t.split("/*")[0].trim()):!1,mH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},td={...ql,transform:t=>_s(0,1,t)},Fh={...ql,default:1},uu=t=>Math.round(t*1e5)/1e5,Mx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gH(t){return t==null}const yH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vx=(t,e)=>n=>!!(typeof n=="string"&&yH.test(n)&&n.startsWith(t)||e&&!gH(n)&&Object.prototype.hasOwnProperty.call(n,e)),Y2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Mx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vH=t=>_s(0,255,t),py={...ql,transform:t=>Math.round(vH(t))},mo={test:Vx("rgb","red"),parse:Y2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+py.transform(t)+", "+py.transform(e)+", "+py.transform(n)+", "+uu(td.transform(r))+")"};function wH(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const C0={test:Vx("#"),parse:wH,transform:mo.transform},Ud=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Ud("deg"),Or=Ud("%"),ce=Ud("px"),_H=Ud("vh"),xH=Ud("vw"),qI={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},ka={test:Vx("hsl","hue"),parse:Y2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Or.transform(uu(e))+", "+Or.transform(uu(n))+", "+uu(td.transform(r))+")"},ht={test:t=>mo.test(t)||C0.test(t)||ka.test(t),parse:t=>mo.test(t)?mo.parse(t):ka.test(t)?ka.parse(t):C0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):ka.transform(t),getAnimatableNone:t=>{const e=ht.parse(t);return e.alpha=0,ht.transform(e)}},EH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TH(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Mx))==null?void 0:e.length)||0)+(((n=t.match(EH))==null?void 0:n.length)||0)>0}const J2="number",Z2="color",bH="var",IH="var(",QI="${}",SH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(SH,l=>(ht.test(l)?(r.color.push(i),s.push(Z2),n.push(ht.parse(l))):l.startsWith(IH)?(r.var.push(i),s.push(bH),n.push(l)):(r.number.push(i),s.push(J2),n.push(parseFloat(l))),++i,QI)).split(QI);return{values:n,split:a,indexes:r,types:s}}function eM(t){return nd(t).values}function tM(t){const{split:e,types:n}=nd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===J2?i+=uu(s[o]):a===Z2?i+=ht.transform(s[o]):i+=s[o]}return i}}const CH=t=>typeof t=="number"?0:ht.test(t)?ht.getAnimatableNone(t):t;function AH(t){const e=eM(t);return tM(t)(e.map(CH))}const Ni={test:TH,parse:eM,createTransformer:tM,getAnimatableNone:AH};function my(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PH({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=my(l,a,t+1/3),i=my(l,a,t),o=my(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Fp(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,gy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},RH=[C0,mo,ka],kH=t=>RH.find(e=>e.test(t));function XI(t){const e=kH(t);if(!e)return!1;let n=e.parse(t);return e===ka&&(n=PH(n)),n}const YI=(t,e)=>{const n=XI(t),r=XI(e);if(!n||!r)return Fp(t,e);const s={...n};return i=>(s.red=gy(n.red,r.red,i),s.green=gy(n.green,r.green,i),s.blue=gy(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),mo.transform(s))},A0=new Set(["none","hidden"]);function NH(t,e){return A0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DH(t,e){return n=>Qe(t,e,n)}function Ox(t){return typeof t=="number"?DH:typeof t=="string"?Dx(t)?Fp:ht.test(t)?YI:OH:Array.isArray(t)?nM:typeof t=="object"?ht.test(t)?YI:MH:Fp}function nM(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Ox(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function MH(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Ox(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function VH(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const OH=(t,e)=>{const n=Ni.createTransformer(e),r=nd(t),s=nd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?A0.has(t)&&!s.values.length||A0.has(e)&&!r.values.length?NH(t,e):jd(nM(VH(r,s),s.values),n):Fp(t,e)};function rM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Ox(t)(t,e)}const LH=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>ki(e),now:()=>Ct.isProcessing?Ct.timestamp:hn.now()}},sM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Up=2e4;function Lx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Up;)e+=n,r=t.next(e);return e>=Up?1/0:e}function jH(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Lx(r),Up);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Vr(s)}}const FH=5;function iM(t,e,n){const r=Math.max(e-FH,0);return j2(n-t(r),e-r)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yy=.001;function UH({duration:t=nt.duration,bounce:e=nt.bounce,velocity:n=nt.velocity,mass:r=nt.mass}){let s,i,o=1-e;o=_s(nt.minDamping,nt.maxDamping,o),t=_s(nt.minDuration,nt.maxDuration,Vr(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,m=P0(c,o),w=Math.exp(-h);return yy-f/m*w},i=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),y=P0(Math.pow(c,2),o);return(-s(c)+yy>0?-1:1)*((f-m)*w)/y}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-yy+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=$H(s,i,a);if(t=Mr(t),isNaN(l))return{stiffness:nt.stiffness,damping:nt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const BH=12;function $H(t,e,n){let r=n;for(let s=1;s<BH;s++)r=r-t(r)/e(r);return r}function P0(t,e){return t*Math.sqrt(1-e*e)}const zH=["duration","bounce"],WH=["stiffness","damping","mass"];function JI(t,e){return e.some(n=>t[n]!==void 0)}function KH(t){let e={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...t};if(!JI(t,WH)&&JI(t,zH))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*_s(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:nt.mass,stiffness:s,damping:i}}else{const n=UH(t);e={...e,...n,mass:nt.mass},e.isResolvedFromDuration=!0}return e}function Bp(t=nt.visualDuration,e=nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=KH({...n,velocity:-Vr(n.velocity||0)}),w=f||0,y=c/(2*Math.sqrt(l*d)),b=o-i,_=Vr(Math.sqrt(l/d)),x=Math.abs(b)<5;r||(r=x?nt.restSpeed.granular:nt.restSpeed.default),s||(s=x?nt.restDelta.granular:nt.restDelta.default);let T;if(y<1){const k=P0(_,y);T=V=>{const S=Math.exp(-y*_*V);return o-S*((w+y*_*b)/k*Math.sin(k*V)+b*Math.cos(k*V))}}else if(y===1)T=k=>o-Math.exp(-_*k)*(b+(w+_*b)*k);else{const k=_*Math.sqrt(y*y-1);T=V=>{const S=Math.exp(-y*_*V),I=Math.min(k*V,300);return o-S*((w+y*_*b)*Math.sinh(I)+k*b*Math.cosh(I))/k}}const A={calculatedDuration:m&&h||null,next:k=>{const V=T(k);if(m)a.done=k>=h;else{let S=k===0?w:0;y<1&&(S=k===0?Mr(w):iM(T,k,V));const I=Math.abs(S)<=r,P=Math.abs(o-V)<=s;a.done=I&&P}return a.value=a.done?o:V,a},toString:()=>{const k=Math.min(Lx(A),Up),V=sM(S=>A.next(k*S).value,k,30);return k+"ms "+V},toTransition:()=>{}};return A}Bp.applyToOptions=t=>{const e=jH(t,100,Bp);return t.ease=e.ease,t.duration=Mr(e.duration),t.type="keyframes",t};function R0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,w=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*e;const b=h+y,_=o===void 0?b:o(b);_!==b&&(y=_-h);const x=I=>-y*Math.exp(-I/r),T=I=>_+x(I),A=I=>{const P=x(I),R=T(I);f.done=Math.abs(P)<=c,f.value=f.done?_:R};let k,V;const S=I=>{m(f.value)&&(k=I,V=Bp({keyframes:[f.value,w(f.value)],velocity:iM(T,I,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:I=>{let P=!1;return!V&&k===void 0&&(P=!0,A(I),S(I)),k!==void 0&&I>=k?V.next(I-k):(!P&&A(I),f)}}}function HH(t,e,n){const r=[],s=n||xs.mix||rM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Gn:e;a=jd(l,a)}r.push(a)}return r}function GH(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(jp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=HH(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=ed(t[h],t[h+1],d);return a[h](f)};return n?d=>c(_s(t[0],t[i-1],d)):c}function qH(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ed(0,e,r);t.push(Qe(n,1,s))}}function QH(t){const e=[0];return qH(e,t.length-1),e}function XH(t,e){return t.map(n=>n*e)}function YH(t,e){return t.map(()=>e||G2).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=cH(r)?r.map(HI):HI(r),i={done:!1,value:e[0]},o=XH(n&&n.length===e.length?n:QH(e),t),a=GH(o,e,{ease:Array.isArray(s)?s:YH(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const JH=t=>t!==null;function jx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(JH),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const ZH={decay:R0,inertia:R0,tween:du,keyframes:du,spring:Bp};function oM(t){typeof t.type=="string"&&(t.type=ZH[t.type])}class Fx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const eG=t=>t/100;class Ux extends Fx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oM(e);const{type:n=du,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||du;l!==du&&typeof a[0]!="number"&&(this.mixKeyframes=jd(eG,rM(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Lx(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,A=r;if(h){const I=Math.min(this.currentTime,s)/a;let P=Math.floor(I),R=I%1;!R&&I>=1&&(R=1),R===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(A=o)),T=_s(0,1,R)*a}const k=x?{done:!1,value:d[0]}:A.next(T);i&&(k.value=i(k.value));let{done:V}=k;!x&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return S&&w!==R0&&(k.value=jx(d,this.options,b,this.speed)),y&&y(k.value),S&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return Vr(this.calculatedDuration)}get time(){return Vr(this.currentTime)}set time(e){var n;e=Mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=LH,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function tG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,k0=t=>{const e=go(Math.atan2(t[1],t[0]));return N0(e)},nG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:k0,rotateZ:k0,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},N0=t=>(t=t%360,t<0&&(t+=360),t),ZI=k0,eS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eS,scaleY:tS,scale:t=>(eS(t)+tS(t))/2,rotateX:t=>N0(go(Math.atan2(t[6],t[5]))),rotateY:t=>N0(go(Math.atan2(-t[2],t[0]))),rotateZ:ZI,rotate:ZI,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function D0(t){return t.includes("scale")?1:0}function M0(t,e){if(!t||t==="none")return D0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=rG,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nG,s=a}if(!s)return D0(e);const i=r[e],o=s[1].split(",").map(iG);return typeof i=="function"?i(o):o[i]}const sG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return M0(n,e)};function iG(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Ql),nS=t=>t===ql||t===ce,oG=new Set(["x","y","z"]),aG=Ql.filter(t=>!oG.has(t));function lG(t){const e=[];return aG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>M0(e,"x"),y:(t,{transform:e})=>M0(e,"y")};Co.translateX=Co.x;Co.translateY=Co.y;const Ao=new Set;let V0=!1,O0=!1,L0=!1;function aM(){if(O0){const t=Array.from(Ao).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=lG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}O0=!1,V0=!1,Ao.forEach(t=>t.complete(L0)),Ao.clear()}function lM(){Ao.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(O0=!0)})}function cG(){L0=!0,lM(),aM(),L0=!1}class Bx{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ao.add(this),V0||(V0=!0,We.read(lM),We.resolveKeyframes(aM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}tG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ao.delete(this)}cancel(){this.state==="scheduled"&&(Ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uG=t=>t.startsWith("--");function dG(t,e,n){uG(e)?t.style.setProperty(e,n):t.style[e]=n}const hG=Ax(()=>window.ScrollTimeline!==void 0),fG={};function pG(t,e){const n=Ax(t);return()=>fG[e]??n()}const cM=pG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bc([0,.65,.55,1]),circOut:Bc([.55,0,1,.45]),backIn:Bc([.31,.01,.66,-.59]),backOut:Bc([.33,1.53,.69,.99])};function uM(t,e){if(t)return typeof t=="function"?cM()?sM(t,e):"ease-out":q2(t)?Bc(t):Array.isArray(t)?t.map(n=>uM(n,e)||rS.easeOut):rS[t]}function mG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=uM(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(d,f)}function dM(t){return typeof t=="function"&&"applyToOptions"in t}function gG({type:t,...e}){return dM(t)&&cM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yG extends Fx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,jp(typeof e.type!="string");const c=gG(e);this.animation=mG(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=jx(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):dG(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vr(Number(e))}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&hG()?(this.animation.timeline=e,Gn):n(this)}}const hM={anticipate:W2,backInOut:z2,circInOut:H2};function vG(t){return t in hM}function wG(t){typeof t.ease=="string"&&vG(t.ease)&&(t.ease=hM[t.ease])}const sS=10;class _G extends yG{constructor(e){wG(e),oM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ux({...o,autoplay:!1}),l=Mr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-sS).value,a.sample(l).value,sS),a.stop()}}const iS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ni.test(t)||t==="0")&&!t.startsWith("url("));function xG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function EG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=iS(s,e),a=iS(i,e);return!o||!a?!1:xG(t)||(n==="spring"||dM(n))&&r}function $x(t){return O2(t)&&"offsetHeight"in t}const TG=new Set(["opacity","clipPath","filter","transform"]),bG=Ax(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IG(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!$x((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return bG()&&n&&TG.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const SG=40;class CG extends Fx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var w;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=hn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Bx;this.keyframeResolver=new m(a,(y,b,_)=>this.onKeyframesResolved(y,b,f,!_),l,c,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=hn.now(),EG(e,i,o,a)||((xs.instantAnimations||!l)&&(d==null||d(jx(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>SG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&IG(f)?new _G({...f,element:f.motionValue.owner.current}):new Ux(f);m.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),cG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const AG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PG(t){const e=AG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function fM(t,e,n=1){const[r,s]=PG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return V2(o)?parseFloat(o):o}return Dx(s)?fM(s,e,n+1):s}function zx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pM=new Set(["width","height","top","left","right","bottom",...Ql]),RG={test:t=>t==="auto",parse:t=>t},mM=t=>e=>e.test(t),gM=[ql,ce,Or,$s,xH,_H,RG],oS=t=>gM.find(mM(t));function kG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||L2(t):!0}const NG=new Set(["brightness","contrast","saturate","opacity"]);function DG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Mx)||[];if(!r)return t;const s=n.replace(r,"");let i=NG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const MG=/\b([a-z-]*)\(.*?\)/gu,j0={...Ni,getAnimatableNone:t=>{const e=t.match(MG);return e?e.map(DG).join(" "):t}},aS={...ql,transform:Math.round},VG={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:$s,skewX:$s,skewY:$s,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:td,originX:qI,originY:qI,originZ:ce},Wx={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...VG,zIndex:aS,fillOpacity:td,strokeOpacity:td,numOctaves:aS},OG={...Wx,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:j0,WebkitFilter:j0},yM=t=>OG[t];function vM(t,e){let n=yM(t);return n!==j0&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LG=new Set(["auto","none","0"]);function jG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!LG.has(i)&&nd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=vM(n,s)}class FG extends Bx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Dx(c))){const d=fM(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pM.has(r)||e.length!==2)return;const[s,i]=e,o=oS(s),a=oS(i);if(o!==a)if(nS(o)&&nS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Co[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||kG(e[s]))&&r.push(s);r.length&&jG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Co[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function UG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const wM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,lS=30,BG=t=>!isNaN(parseFloat(t));class $G{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=hn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Px);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lS);return j2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pl(t,e){return new $G(t,e)}const{schedule:Kx,cancel:oee}=Q2(queueMicrotask,!1),nr={x:!1,y:!1};function _M(){return nr.x||nr.y}function zG(t){return t==="x"||t==="y"?nr[t]?null:(nr[t]=!0,()=>{nr[t]=!1}):nr.x||nr.y?null:(nr.x=nr.y=!0,()=>{nr.x=nr.y=!1})}function xM(t,e){const n=UG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function cS(t){return!(t.pointerType==="touch"||_M())}function WG(t,e,n={}){const[r,s,i]=xM(t,n),o=a=>{if(!cS(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{cS(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const EM=(t,e)=>e?t===e?!0:EM(t,e.parentElement):!1,Hx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HG(t){return KG.has(t.tagName)||t.tabIndex!==-1}const If=new WeakSet;function uS(t){return e=>{e.key==="Enter"&&t(e)}}function vy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=uS(()=>{if(If.has(n))return;vy(n,"down");const s=uS(()=>{vy(n,"up")}),i=()=>vy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function dS(t){return Hx(t)&&!_M()}function qG(t,e,n={}){const[r,s,i]=xM(t,n),o=a=>{const l=a.currentTarget;if(!dS(a))return;If.add(l);const c=e(l,a),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),If.has(l)&&If.delete(l),dS(m)&&typeof c=="function"&&c(m,{success:w})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||EM(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),$x(a)&&(a.addEventListener("focus",c=>GG(c,s)),!HG(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function TM(t){return O2(t)&&"ownerSVGElement"in t}function QG(t){return TM(t)&&t.tagName==="svg"}const Wt=t=>!!(t&&t.getVelocity),XG=[...gM,ht,Ni],YG=t=>XG.find(mM(t)),Gx=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class JG extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=$x(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZG({children:t,isPresent:e,anchorX:n,root:r}){const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(Gx);return v.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=o.current;if(e||!i.current||!l||!c)return;const m=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");a&&(w.nonce=a);const y=r??document.head;return y.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.removeChild(w),y.contains(w)&&y.removeChild(w)}},[e]),p.jsx(JG,{isPresent:e,childRef:i,sizeRef:o,children:v.cloneElement(t,{ref:i})})}const eq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=bx(tq),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const w of c.values())if(!w)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(f={...f}),v.useMemo(()=>{c.forEach((m,w)=>c.set(w,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(ZG,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(Qm.Provider,{value:f,children:t})};function tq(){return new Map}function bM(t=!0){const e=v.useContext(Qm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{if(t)return s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Uh=t=>t.key||"";function hS(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const nq=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=bM(o),h=v.useMemo(()=>hS(t),[t]),f=o&&!c?[]:h.map(Uh),m=v.useRef(!0),w=v.useRef(h),y=bx(()=>new Map),[b,_]=v.useState(h),[x,T]=v.useState(h);M2(()=>{m.current=!1,w.current=h;for(let V=0;V<x.length;V++){const S=Uh(x[V]);f.includes(S)?y.delete(S):y.get(S)!==!0&&y.set(S,!1)}},[x,f.length,f.join("-")]);const A=[];if(h!==b){let V=[...h];for(let S=0;S<x.length;S++){const I=x[S],P=Uh(I);f.includes(P)||(V.splice(S,0,I),A.push(I))}return i==="wait"&&A.length&&(V=A),T(hS(V)),_(h),null}const{forceRender:k}=v.useContext(Tx);return p.jsx(p.Fragment,{children:x.map(V=>{const S=Uh(V),I=o&&!c?!1:h===x||f.includes(S),P=()=>{if(y.has(S))y.set(S,!0);else return;let R=!0;y.forEach(D=>{D||(R=!1)}),R&&(k==null||k(),T(w.current),o&&(d==null||d()),r&&r())};return p.jsx(eq,{isPresent:I,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:P,anchorX:a,children:V},S)})})},IM=v.createContext({strict:!1}),fS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const t in fS)Rl[t]={isEnabled:e=>fS[t].some(n=>!!e[n])};function rq(t){for(const e in t)Rl[e]={...Rl[e],...t[e]}}const sq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $p(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sq.has(t)}let SM=t=>!$p(t);function iq(t){typeof t=="function"&&(SM=e=>e.startsWith("on")?!$p(e):t(e))}try{iq(require("@emotion/is-prop-valid").default)}catch{}function oq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SM(s)||n===!0&&$p(s)||!e&&!$p(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function aq(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Xm=v.createContext({});function Ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rd(t){return typeof t=="string"||Array.isArray(t)}const qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qx=["initial",...qx];function Jm(t){return Ym(t.animate)||Qx.some(e=>rd(t[e]))}function CM(t){return!!(Jm(t)||t.variants)}function lq(t,e){if(Jm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rd(n)?n:void 0,animate:rd(r)?r:void 0}}return t.inherit!==!1?e:{}}function cq(t){const{initial:e,animate:n}=lq(t,v.useContext(Xm));return v.useMemo(()=>({initial:e,animate:n}),[pS(e),pS(n)])}function pS(t){return Array.isArray(t)?t.join(" "):t}const uq=Symbol.for("motionComponentSymbol");function Na(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dq(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Na(n)&&(n.current=r))},[e])}const Xx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hq="framerAppearId",AM="data-"+Xx(hq),PM=v.createContext({});function fq(t,e,n,r,s){var y,b;const{visualElement:i}=v.useContext(Xm),o=v.useContext(IM),a=v.useContext(Qm),l=v.useContext(Gx).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=v.useContext(PM);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&pq(c.current,n,s,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[AM],w=v.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return M2(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Kx.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),w.current=!1))}),d}function pq(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Na(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function RM(t){if(t)return t.options.allowProjection!==!1?t.projection:RM(t.parent)}function mq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&rq(t);function i(a,l){let c;const d={...v.useContext(Gx),...a,layoutId:gq(a)},{isStatic:h}=d,f=cq(a),m=r(a,h);if(!h&&Ix){yq();const w=vq(d);c=w.MeasureLayout,f.visualElement=fq(s,m,d,e,w.ProjectionNode)}return p.jsxs(Xm.Provider,{value:f,children:[c&&f.visualElement?p.jsx(c,{visualElement:f.visualElement,...d}):null,n(s,a,dq(m,f.visualElement,l),m,h,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=v.forwardRef(i);return o[uq]=s,o}function gq({layoutId:t}){const e=v.useContext(Tx).id;return e&&t!==void 0?e+"-"+t:t}function yq(t,e){v.useContext(IM).strict}function vq(t){const{drag:e,layout:n}=Rl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const sd={};function wq(t){for(const e in t)sd[e]=t[e],Nx(e)&&(sd[e].isCSSVariable=!0)}function kM(t,{layout:e,layoutId:n}){return Xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sd[t]||t==="opacity")}const _q={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xq=Ql.length;function Eq(t,e,n){let r="",s=!0;for(let i=0;i<xq;i++){const o=Ql[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=wM(a,Wx[o]);if(!l){s=!1;const d=_q[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Yx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Xl.has(l)){o=!0;continue}else if(Nx(l)){s[l]=c;continue}else{const d=wM(c,Wx[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Eq(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const Jx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NM(t,e,n){for(const r in e)!Wt(e[r])&&!kM(r,n)&&(t[r]=e[r])}function Tq({transformTemplate:t},e){return v.useMemo(()=>{const n=Jx();return Yx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bq(t,e){const n=t.style||{},r={};return NM(r,n,t),Object.assign(r,Tq(t,e)),r}function Iq(t,e){const n={},r=bq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Sq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cq={offset:"strokeDashoffset",array:"strokeDasharray"};function Aq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Sq:Cq;t[i.offset]=ce.transform(-r);const o=ce.transform(e),a=ce.transform(n);t[i.array]=`${o} ${a}`}function DM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Yx(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Aq(h,s,i,o,!1)}const MM=()=>({...Jx(),attrs:{}}),VM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pq(t,e,n,r){const s=v.useMemo(()=>{const i=MM();return DM(i,e,VM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};NM(i,t.style,t),s.style={...i,...s.style}}return s}const Rq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zx(t){return typeof t!="string"||t.includes("-")?!1:!!(Rq.indexOf(t)>-1||/[A-Z]/u.test(t))}function kq(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Zx(n)?Pq:Iq)(r,i,o,n),c=oq(r,typeof n=="string",t),d=n!==v.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=v.useMemo(()=>Wt(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function mS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function e1(t,e,n,r){if(typeof e=="function"){const[s,i]=mS(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=mS(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Sf(t){return Wt(t)?t.get():t}function Nq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Dq(n,r,s,t),renderState:e()}}const OM=t=>(e,n)=>{const r=v.useContext(Xm),s=v.useContext(Qm),i=()=>Nq(t,e,r,s);return n?i():bx(i)};function Dq(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Sf(i[f]);let{initial:o,animate:a}=t;const l=Jm(t),c=CM(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Ym(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=e1(t,f[m]);if(w){const{transitionEnd:y,transition:b,..._}=w;for(const x in _){let T=_[x];if(Array.isArray(T)){const A=d?T.length-1:0;T=T[A]}T!==null&&(s[x]=T)}for(const x in y)s[x]=y[x]}}}return s}function t1(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Wt(r[o])||e.style&&Wt(e.style[o])||kM(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Mq={useVisualState:OM({scrapeMotionValuesFromProps:t1,createRenderState:Jx})};function LM(t,e,n){const r=t1(t,e,n);for(const s in t)if(Wt(t[s])||Wt(e[s])){const i=Ql.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Vq={useVisualState:OM({scrapeMotionValuesFromProps:LM,createRenderState:MM})};function Oq(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Zx(r)?Vq:Mq,preloadedFeatures:t,useRender:kq(s),createVisualElement:e,Component:r};return mq(o)}}function id(t,e,n){const r=t.getProps();return e1(r,e,n!==void 0?n:r.custom,t)}const F0=t=>Array.isArray(t);function Lq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pl(n))}function jq(t){return F0(t)?t[t.length-1]||0:t}function Fq(t,e){const n=id(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=jq(i[o]);Lq(t,o,a)}}function Uq(t){return!!(Wt(t)&&t.add)}function U0(t,e){const n=t.getValue("willChange");if(Uq(n))return n.add(e);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function jM(t){return t.props[AM]}const Bq=t=>t!==null;function $q(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Bq),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const zq={type:"spring",stiffness:500,damping:25,restSpeed:10},Wq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kq={type:"keyframes",duration:.8},Hq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gq=(t,{keyframes:e})=>e.length>2?Kq:Xl.has(t)?t.startsWith("scale")?Wq(e[1]):zq:Hq;function qq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const n1=(t,e,n,r={},s,i)=>o=>{const a=zx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};qq(a)||Object.assign(d,Gq(t,d)),d.duration&&(d.duration=Mr(d.duration)),d.repeatDelay&&(d.repeatDelay=Mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(xs.instantAnimations||xs.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=$q(d.keyframes,a);if(f!==void 0){We.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Ux(d):new CG(d)};function Qq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||c&&Qq(c,d))continue;const m={delay:n,...zx(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=jM(t);if(_){const x=window.MotionHandoffAnimation(_,d,We);x!==null&&(m.startTime=x,y=!0)}}U0(t,d),h.start(n1(d,h,f,t.shouldReduceMotion&&pM.has(d)?{type:!1}:m,t,y));const b=h.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{We.update(()=>{o&&Fq(t,o)})}),l}function B0(t,e,n={}){var l;const r=id(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(FM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Xq(t,e,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Xq(t,e,n=0,r=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*s,d=typeof r=="function",h=d?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(t.variantChildren).sort(Yq).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(B0(f,e,{...o,delay:n+(d?0:r)+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function Yq(t,e){return t.sortNodePosition(e)}function Jq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>B0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=B0(t,e,n);else{const s=typeof e=="function"?id(t,e,n.custom):e;r=Promise.all(FM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Zq=Qx.length;function BM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zq;n++){const r=Qx[n],s=t.props[r];(rd(s)||s===!1)&&(e[r]=s)}return e}const eQ=[...qx].reverse(),tQ=qx.length;function nQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jq(t,n,r)))}function rQ(t){let e=nQ(t),n=gS(),r=!0;const s=l=>(c,d)=>{var f;const h=id(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,...y}=h;c={...c,...y,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=BM(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let b=0;b<tQ;b++){const _=eQ[b],x=n[_],T=c[_]!==void 0?c[_]:d[_],A=rd(T),k=_===l?x.isActive:null;k===!1&&(w=b);let V=T===d[_]&&T!==c[_]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),x.protectedKeys={...m},!x.isActive&&k===null||!T&&!x.prevProp||Ym(T)||typeof T=="boolean")continue;const S=sQ(x.prevProp,T);let I=S||_===l&&x.isActive&&!V&&A||b>w&&A,P=!1;const R=Array.isArray(T)?T:[T];let D=R.reduce(s(_),{});k===!1&&(D={});const{prevResolvedValues:M={}}=x,N={...M,...D},K=te=>{I=!0,f.has(te)&&(P=!0,f.delete(te)),x.needsAnimating[te]=!0;const j=t.getValue(te);j&&(j.liveStyle=!1)};for(const te in N){const j=D[te],U=M[te];if(m.hasOwnProperty(te))continue;let q=!1;F0(j)&&F0(U)?q=!UM(j,U):q=j!==U,q?j!=null?K(te):f.add(te):j!==void 0&&f.has(te)?K(te):x.protectedKeys[te]=!0}x.prevProp=T,x.prevResolvedValues=D,x.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(V&&S)||P)&&h.push(...R.map(te=>({animation:te,options:{type:_}})))}if(f.size){const b={};if(typeof c.initial!="boolean"){const _=id(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(b.transition=_.transition)}f.forEach(_=>{const x=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),b[_]=x??null}),h.push({animation:b})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gS(),r=!0}}}function sQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UM(e,t):!1}function Ji(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gS(){return{animate:Ji(!0),whileInView:Ji(),whileHover:Ji(),whileTap:Ji(),whileDrag:Ji(),whileFocus:Ji(),exit:Ji()}}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iQ extends Ki{constructor(e){super(e),e.animationState||(e.animationState=rQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oQ=0;class aQ extends Ki{constructor(){super(...arguments),this.id=oQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lQ={animation:{Feature:iQ},exit:{Feature:aQ}};function od(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Bd(t){return{point:{x:t.pageX,y:t.pageY}}}const cQ=t=>e=>Hx(e)&&t(e,Bd(e));function hu(t,e,n,r){return od(t,e,cQ(n),r)}function $M({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const zM=1e-4,hQ=1-zM,fQ=1+zM,WM=.01,pQ=0-WM,mQ=0+WM;function Zt(t){return t.max-t.min}function gQ(t,e,n){return Math.abs(t-e)<=n}function yS(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hQ&&t.scale<=fQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=pQ&&t.translate<=mQ||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,r){yS(t.x,e.x,n.x,r?r.originX:void 0),yS(t.y,e.y,n.y,r?r.originY:void 0)}function vS(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function yQ(t,e,n){vS(t.x,e.x,n.x),vS(t.y,e.y,n.y)}function wS(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function pu(t,e,n){wS(t.x,e.x,n.x),wS(t.y,e.y,n.y)}const _S=()=>({translate:0,scale:1,origin:0,originPoint:0}),Da=()=>({x:_S(),y:_S()}),xS=()=>({min:0,max:0}),it=()=>({x:xS(),y:xS()});function On(t){return[t("x"),t("y")]}function wy(t){return t===void 0||t===1}function $0({scale:t,scaleX:e,scaleY:n}){return!wy(t)||!wy(e)||!wy(n)}function so(t){return $0(t)||KM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KM(t){return ES(t.x)||ES(t.y)}function ES(t){return t&&t!=="0%"}function zp(t,e,n){const r=t-n,s=e*r;return n+s}function TS(t,e,n,r,s){return s!==void 0&&(t=zp(t,s,r)),zp(t,n,r)+e}function z0(t,e=0,n=1,r,s){t.min=TS(t.min,e,n,r,s),t.max=TS(t.max,e,n,r,s)}function HM(t,{x:e,y:n}){z0(t.x,e.translate,e.scale,e.originPoint),z0(t.y,n.translate,n.scale,n.originPoint)}const bS=.999999999999,IS=1.0000000000001;function vQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Va(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,HM(t,o)),r&&so(i.latestValues)&&Va(t,i.latestValues))}e.x<IS&&e.x>bS&&(e.x=1),e.y<IS&&e.y>bS&&(e.y=1)}function Ma(t,e){t.min=t.min+e,t.max=t.max+e}function SS(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);z0(t,e,n,i,r)}function Va(t,e){SS(t.x,e.x,e.scaleX,e.scale,e.originX),SS(t.y,e.y,e.scaleY,e.scale,e.originY)}function GM(t,e){return $M(dQ(t.getBoundingClientRect(),e))}function wQ(t,e,n){const r=GM(t,n),{scroll:s}=e;return s&&(Ma(r.x,s.offset.x),Ma(r.y,s.offset.y)),r}const qM=({current:t})=>t?t.ownerDocument.defaultView:null,CS=(t,e)=>Math.abs(t-e);function _Q(t,e){const n=CS(t.x,e.x),r=CS(t.y,e.y);return Math.sqrt(n**2+r**2)}class QM{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=_Q(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:y}=f,{timestamp:b}=Ct;this.history.push({...y,timestamp:b});const{onStart:_,onMove:x}=this.handlers;m||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=_y(m,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=xy(f.type==="pointercancel"?this.lastMoveEventInfo:_y(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,_),y&&y(f,_)},!Hx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Bd(e),l=_y(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ct;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,xy(l,this.history)),this.removeListeners=jd(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function _y(t,e){return e?{point:e(t.point)}:t}function AS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xy({point:t},e){return{point:t,delta:AS(t,XM(e)),offset:AS(t,xQ(e)),velocity:EQ(e,.1)}}function xQ(t){return t[0]}function XM(t){return t[t.length-1]}function EQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=XM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Mr(e)));)n--;if(!r)return{x:0,y:0};const i=Vr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function PS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bQ(t,{top:e,left:n,bottom:r,right:s}){return{x:PS(t.x,n,s),y:PS(t.y,e,r)}}function RS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IQ(t,e){return{x:RS(t.x,e.x),y:RS(t.y,e.y)}}function SQ(t,e){let n=.5;const r=Zt(t),s=Zt(e);return s>r?n=ed(e.min,e.max-r,t.min):r>s&&(n=ed(t.min,t.max-s,e.min)),_s(0,1,n)}function CQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const W0=.35;function AQ(t=W0){return t===!1?t=0:t===!0&&(t=W0),{x:kS(t,"left","right"),y:kS(t,"top","bottom")}}function kS(t,e,n){return{min:NS(t,e),max:NS(t,n)}}function NS(t,e){return typeof t=="number"?t:t[e]||0}const PQ=new WeakMap;class RQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bd(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:y}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zG(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(_=>{let x=this.getAxisMotionValue(_).get()||0;if(Or.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[_];A&&(x=Zt(A)*(parseFloat(x)/100))}}this.originPoint[_]=x}),y&&We.postRender(()=>y(h,f)),U0(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=f;if(w&&this.currentDirection===null){this.currentDirection=kQ(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),b&&b(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>On(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new QM(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:qM(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&We.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Bh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=TQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Na(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=bQ(r.layoutBox,e):this.constraints=!1,this.elastic=AQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Na(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=wQ(r,s.root,this.visualElement.getTransformPagePoint());let o=IQ(s.layout.layoutBox,i);if(n){const a=n(uQ(o));this.hasMutatedConstraints=!!a,a&&(o=$M(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=On(d=>{if(!Bh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return U0(this.visualElement,e),r.start(n1(e,r,0,n,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){On(n=>{const{drag:r}=this.getProps();if(!Bh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Na(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=SQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(o=>{if(!Bh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;PQ.set(this.visualElement,this);const e=this.visualElement.current,n=hu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Na(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const o=od(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(On(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=W0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NQ extends Ki{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new RQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const DS=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class DQ extends Ki{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new QM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:DS(e),onStart:DS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=MS(t,e.target.x),r=MS(t,e.target.y);return`${n}% ${r}%`}},MQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ni.parse(t);if(s.length>5)return r;const i=Ni.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let VS=!1;class VQ extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;wq(OQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),VS&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,VS=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YM(t){const[e,n]=bM(),r=v.useContext(Tx);return p.jsx(VQ,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(PM),isPresent:e,safeToRemove:n})}const OQ={borderRadius:{...Pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pc,borderTopRightRadius:Pc,borderBottomLeftRadius:Pc,borderBottomRightRadius:Pc,boxShadow:MQ};function LQ(t,e,n){const r=Wt(t)?t:Pl(t);return r.start(n1("",r,e,n)),r.animation}const jQ=(t,e)=>t.depth-e.depth;class FQ{constructor(){this.children=[],this.isDirty=!1}add(e){Sx(this.children,e),this.isDirty=!0}remove(e){Cx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jQ),this.isDirty=!1,this.children.forEach(e)}}function UQ(t,e){const n=hn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ki(r),t(i-e))};return We.setup(r,!0),()=>ki(r)}const JM=["TopLeft","TopRight","BottomLeft","BottomRight"],BQ=JM.length,OS=t=>typeof t=="string"?parseFloat(t):t,LS=t=>typeof t=="number"||ce.test(t);function $Q(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity??1,zQ(r)),t.opacityExit=Qe(e.opacity??1,0,WQ(r))):i&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<BQ;o++){const a=`border${JM[o]}Radius`;let l=jS(e,a),c=jS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||LS(l)===LS(c)?(t[a]=Math.max(Qe(OS(l),OS(c),r),0),(Or.test(c)||Or.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function jS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zQ=ZM(0,.5,K2),WQ=ZM(.5,.95,Gn);function ZM(t,e,n){return r=>r<t?0:r>e?1:n(ed(t,e,r))}function FS(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){FS(t.x,e.x),FS(t.y,e.y)}function US(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BS(t,e,n,r,s){return t-=e,t=zp(t,1/n,r),s!==void 0&&(t=zp(t,1/s,r)),t}function KQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(Or.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=BS(t.min,e,n,a,s),t.max=BS(t.max,e,n,a,s)}function $S(t,e,[n,r,s],i,o){KQ(t,e[n],e[r],e[s],e.scale,i,o)}const HQ=["x","scaleX","originX"],GQ=["y","scaleY","originY"];function zS(t,e,n,r){$S(t.x,e,HQ,n?n.x:void 0,r?r.x:void 0),$S(t.y,e,GQ,n?n.y:void 0,r?r.y:void 0)}function WS(t){return t.translate===0&&t.scale===1}function eV(t){return WS(t.x)&&WS(t.y)}function KS(t,e){return t.min===e.min&&t.max===e.max}function qQ(t,e){return KS(t.x,e.x)&&KS(t.y,e.y)}function HS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tV(t,e){return HS(t.x,e.x)&&HS(t.y,e.y)}function GS(t){return Zt(t.x)/Zt(t.y)}function qS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QQ{constructor(){this.members=[]}add(e){Sx(this.members,e),e.scheduleRender()}remove(e){if(Cx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XQ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ey=["","X","Y","Z"],YQ=1e3;let JQ=0;function Ty(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nV(r)}function rV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=JQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tX),this.nodes.forEach(iX),this.nodes.forEach(oX),this.nodes.forEach(nX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new FQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Px),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=TM(o)&&!QG(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;We.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=UQ(f,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(YS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||dX,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),_=!this.targetLayout||!tV(this.targetLayout,m),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...zx(w,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,x)}else h||YS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sX),this.nodes.forEach(ZQ),this.nodes.forEach(eX)):this.nodes.forEach(XS),this.clearAllSnapshots();const a=hn.now();Ct.delta=_s(0,1e3/60,a-Ct.timestamp),Ct.timestamp=a,Ct.isProcessing=!0,fy.update.process(Ct),fy.preRender.process(Ct),fy.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rX),this.sharedNodes.forEach(lX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!eV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||so(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),hX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return it();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(fX))){const{scroll:d}=this.root;d&&(Ma(a.x,d.offset.x),Ma(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=it();if(Vn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Vn(a,o),Ma(a.x,h.offset.x),Ma(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=it();Vn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Va(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),so(d.latestValues)&&Va(l,d.latestValues)}return so(this.latestValues)&&Va(l,this.latestValues),l}removeTransform(o){const a=it();Vn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!so(c.latestValues))continue;$0(c.latestValues)&&c.updateSnapshot();const d=it(),h=c.measurePageBox();Vn(d,h),zS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return so(this.latestValues)&&zS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),pu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),HM(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),pu(this.relativeTargetOrigin,this.target,m.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$0(this.parent.latestValues)||KM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;vQ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=it());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(US(this.prevProjectionDelta.x,this.projectionDelta.x),US(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!qS(this.projectionDelta.x,this.prevProjectionDelta.x)||!qS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Da(),this.projectionDelta=Da(),this.projectionDeltaWithTransform=Da()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=it(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=m!==w,b=this.getStack(),_=!b||b.members.length<=1,x=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(uX));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const k=A/1e3;JS(h.x,o.x,k),JS(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cX(this.relativeTarget,this.relativeTargetOrigin,f,k),T&&qQ(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=it()),Vn(T,this.relativeTarget)),y&&(this.animationValues=d,$Q(d,c,this.latestValues,k,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Cf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pl(0)),this.currentAnimation=LQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||it();const h=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Vn(a,l),Va(a,d),fu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Ty("z",o,c,this.animationValues);for(let d=0;d<Ey.length;d++)Ty(`rotate${Ey[d]}`,o,c,this.animationValues),Ty(`skew${Ey[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Sf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Sf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=XQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in sd){if(d[w]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:_}=sd[w],x=h==="none"?d[w]:y(d[w],c);if(b){const T=b.length;for(let A=0;A<T;A++)o[b[A]]=x}else _?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=c===this?Sf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(QS),this.root.sharedNodes.clear()}}}function ZQ(t){t.updateLayout()}function eX(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?On(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Zt(f);f.min=r[h].min,f.max=f.min+m}):sV(i,e.layoutBox,r)&&On(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Zt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Da();fu(a,r,e.layoutBox);const l=Da();o?fu(l,t.applyTransform(s,!0),e.measuredBox):fu(l,r,e.layoutBox);const c=!eV(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=it();pu(w,e.layoutBox,f.layoutBox);const y=it();pu(y,r,m.layoutBox),tV(w,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rX(t){t.clearSnapshot()}function QS(t){t.clearMeasurements()}function XS(t){t.isLayoutDirty=!1}function sX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function YS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iX(t){t.resolveTargetDelta()}function oX(t){t.calcProjection()}function aX(t){t.resetSkewAndRotation()}function lX(t){t.removeLeadSnapshot()}function JS(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZS(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function cX(t,e,n,r){ZS(t.x,e.x,n.x,r),ZS(t.y,e.y,n.y,r)}function uX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dX={duration:.45,ease:[.4,0,.1,1]},eC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tC=eC("applewebkit/")&&!eC("chrome/")?Math.round:Gn;function nC(t){t.min=tC(t.min),t.max=tC(t.max)}function hX(t){nC(t.x),nC(t.y)}function sV(t,e,n){return t==="position"||t==="preserve-aspect"&&!gQ(GS(e),GS(n),.2)}function fX(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const pX=rV({attachResizeListener:(t,e)=>od(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),by={current:void 0},iV=rV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!by.current){const t=new pX({});t.mount(window),t.setOptions({layoutScroll:!0}),by.current=t}return by.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mX={pan:{Feature:DQ},drag:{Feature:NQ,ProjectionNode:iV,MeasureLayout:YM}};function rC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(e,Bd(e)))}class gX extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=WG(e,(n,r)=>(rC(this.node,r,"Start"),s=>rC(this.node,s,"End"))))}unmount(){}}class yX extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jd(od(this.node.current,"focus",()=>this.onFocus()),od(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(e,Bd(e)))}class vX extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=qG(e,(n,r)=>(sC(this.node,r,"Start"),(s,{success:i})=>sC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const K0=new WeakMap,Iy=new WeakMap,wX=t=>{const e=K0.get(t.target);e&&e(t)},_X=t=>{t.forEach(wX)};function xX({root:t,...e}){const n=t||document;Iy.has(n)||Iy.set(n,{});const r=Iy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_X,{root:t,...e})),r[s]}function EX(t,e,n){const r=xX(e);return K0.set(t,n),r.observe(t),()=>{K0.delete(t),r.unobserve(t)}}const TX={some:0,all:1};class bX extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:TX[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return EX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(IX(e,n))&&this.startObserver()}unmount(){}}function IX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SX={inView:{Feature:bX},tap:{Feature:vX},focus:{Feature:yX},hover:{Feature:gX}},CX={layout:{ProjectionNode:iV,MeasureLayout:YM}},H0={current:null},oV={current:!1};function AX(){if(oV.current=!0,!!Ix)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>H0.current=t.matches;t.addEventListener("change",e),e()}else H0.current=!1}const PX=new WeakMap;function RX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Wt(s))t.addValue(r,s);else if(Wt(i))t.addValue(r,Pl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Pl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const iC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=hn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Jm(n),this.isVariantNode=CM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Wt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,PX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oV.current||AX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const n=Rl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iC.length;r++){const s=iC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=RX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(V2(r)||L2(r))?r=parseFloat(r):!YG(r)&&Ni.test(n)&&(r=vM(e,n)),this.setBaseTarget(e,Wt(r)?r.get():r)),Wt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=e1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Px),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aV extends kX{constructor(){super(...arguments),this.KeyframeResolver=FG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lV(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function NX(t){return window.getComputedStyle(t)}class DX extends aV{constructor(){super(...arguments),this.type="html",this.renderInstance=lV}readValueFromInstance(e,n){var r;if(Xl.has(n))return(r=this.projection)!=null&&r.isProjecting?D0(n):sG(e,n);{const s=NX(e),i=(Nx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GM(e,n)}build(e,n,r){Yx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return t1(e,n,r)}}const cV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MX(t,e,n,r){lV(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(cV.has(s)?s:Xx(s),e.attrs[s])}class VX extends aV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xl.has(n)){const r=yM(n);return r&&r.default||0}return n=cV.has(n)?n:Xx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LM(e,n,r)}build(e,n,r){DM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){MX(e,n,r,s)}mount(e){this.isSVGTag=VM(e.tagName),super.mount(e)}}const OX=(t,e)=>Zx(t)?new VX(e):new DX(e,{allowProjection:t!==v.Fragment}),LX=Oq({...lQ,...SX,...mX,...CX},OX),fn=aq(LX),jX=({isDark:t=!0})=>{const e=v.useRef(null),n=v.useRef([]),r=v.useRef();return v.useEffect(()=>{const s=e.current;if(!s)return;const i=s.getContext("2d");if(!i)return;const o=()=>{s.width=window.innerWidth,s.height=window.innerHeight},a=()=>{n.current=[];const f=Math.min(Math.floor(s.width*s.height/15e3),100);for(let m=0;m<f;m++)n.current.push({x:Math.random()*s.width,y:Math.random()*s.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1,opacity:Math.random()*.5+.1})},l=()=>{i.clearRect(0,0,s.width,s.height);const f=n.current,m=t?"59, 130, 246":"99, 102, 241";i.strokeStyle=`rgba(${m}, ${t?.15:.1})`,i.lineWidth=1;for(let w=0;w<f.length;w++)for(let y=w+1;y<f.length;y++){const b=f[w].x-f[y].x,_=f[w].y-f[y].y,x=Math.sqrt(b*b+_*_);if(x<150){const T=(1-x/150)*.3;i.globalAlpha=T,i.beginPath(),i.moveTo(f[w].x,f[w].y),i.lineTo(f[y].x,f[y].y),i.stroke()}}f.forEach(w=>{i.globalAlpha=w.opacity,i.fillStyle=`rgba(${m}, ${w.opacity})`,i.beginPath(),i.arc(w.x,w.y,w.size,0,Math.PI*2),i.fill()}),i.globalAlpha=1},c=()=>{n.current.forEach(f=>{f.x+=f.vx,f.y+=f.vy,(f.x<=0||f.x>=s.width)&&(f.vx*=-1),(f.y<=0||f.y>=s.height)&&(f.vy*=-1),f.x=Math.max(0,Math.min(s.width,f.x)),f.y=Math.max(0,Math.min(s.height,f.y))})},d=()=>{c(),l(),r.current=requestAnimationFrame(d)};o(),a(),d();const h=()=>{o(),a()};return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),r.current&&cancelAnimationFrame(r.current)}},[t]),p.jsx(fn.canvas,{ref:e,className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}})},ad=()=>{const[t,e]=v.useState(!0);return v.useEffect(()=>{const n=new MutationObserver(()=>{e(!document.documentElement.classList.contains("light"))});return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>n.disconnect()},[]),p.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[p.jsx(jX,{isDark:t}),p.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute top-3/4 right-1/4 w-48 h-48 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),p.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-56 h-56 bg-secondary/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]})},FX=Od("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background/50 backdrop-blur-sm hover:bg-accent hover:text-accent-foreground hover:border-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white hover:scale-105 hover:shadow-glow",glass:"bg-background/20 backdrop-blur-md border border-border/50 hover:bg-background/30 hover:border-primary/50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Sl:"button";return p.jsx(o,{className:Ee(FX({variant:e,size:n,className:t})),ref:i,...s})});Pe.displayName="Button";const Lr=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Lr.displayName="Input";var r1="Avatar",[UX,lee]=Vd(r1),[BX,uV]=UX(r1),dV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=v.useState("idle");return p.jsx(BX,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:p.jsx(Se.span,{...r,ref:e})})});dV.displayName=r1;var hV="AvatarImage",fV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=uV(hV,n),a=$X(r,i.referrerPolicy),l=Gt(c=>{s(c),o.onImageLoadingStatusChange(c)});return Ur(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Se.img,{...i,ref:e,src:r}):null});fV.displayName=hV;var pV="AvatarFallback",mV=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=uV(pV,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?p.jsx(Se.span,{...s,ref:e}):null});mV.displayName=pV;function $X(t,e){const[n,r]=v.useState("idle");return Ur(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var gV=dV,yV=fV,vV=mV;const kl=v.forwardRef(({className:t,...e},n)=>p.jsx(gV,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));kl.displayName=gV.displayName;const Nl=v.forwardRef(({className:t,...e},n)=>p.jsx(yV,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));Nl.displayName=yV.displayName;const Dl=v.forwardRef(({className:t,...e},n)=>p.jsx(vV,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Dl.displayName=vV.displayName;const zX=Od("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Es({className:t,variant:e,...n}){return p.jsx("div",{className:Ee(zX({variant:e}),t),...n})}const cn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));cn.displayName="Card";const Wn=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Wn.displayName="CardHeader";const Di=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Di.displayName="CardTitle";const WX=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));WX.displayName="CardDescription";const un=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));un.displayName="CardContent";const wV=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));wV.displayName="CardFooter";const KX=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState([{id:"1",type:"answer",message:"John Doe answered your question about React hooks",time:"2 minutes ago",read:!1},{id:"2",type:"mention",message:"Sarah mentioned you in a comment",time:"1 hour ago",read:!1},{id:"3",type:"upvote",message:"Your answer received 5 upvotes",time:"3 hours ago",read:!1},{id:"4",type:"badge",message:'You earned the "Helper" badge!',time:"1 day ago",read:!0}]),s=v.useRef(null),i=n.filter(c=>!c.read).length;v.useEffect(()=>{const c=d=>{s.current&&!s.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const o=c=>{switch(c){case"answer":return p.jsx(Lz,{className:"w-4 h-4 text-blue-400"});case"mention":return p.jsx(ix,{className:"w-4 h-4 text-green-400"});case"upvote":return p.jsx(Vz,{className:"w-4 h-4 text-red-400"});case"badge":return p.jsx(ex,{className:"w-4 h-4 text-yellow-400"});default:return p.jsx(ay,{className:"w-4 h-4"})}},a=c=>{r(d=>d.map(h=>h.id===c?{...h,read:!0}:h))},l=()=>{r(c=>c.map(d=>({...d,read:!0})))};return p.jsxs("div",{className:"relative",ref:s,children:[p.jsxs(Pe,{variant:"ghost",size:"icon",className:"relative hover:bg-background/50",onClick:()=>e(!t),children:[p.jsx(fn.div,{animate:i>0?{scale:[1,1.1,1]}:{},transition:{duration:.3,repeat:1/0,repeatDelay:2},children:p.jsx(ay,{className:"w-5 h-5"})}),i>0&&p.jsx(fn.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1",children:p.jsx(Es,{className:"w-5 h-5 p-0 text-xs bg-destructive pulse-glow flex items-center justify-center",children:i})})]}),p.jsx(nq,{children:t&&p.jsx(fn.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 z-50",children:p.jsxs(cn,{className:"w-80 glass-strong border shadow-lg",children:[p.jsx(Wn,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Di,{className:"text-lg",children:"Notifications"}),i>0&&p.jsx(Pe,{variant:"ghost",size:"sm",onClick:l,className:"text-xs text-muted-foreground hover:text-primary",children:"Mark all read"})]})}),p.jsxs(un,{className:"space-y-2 max-h-96 overflow-y-auto",children:[n.map((c,d)=>p.jsx(fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},className:`p-3 rounded-lg border transition-all cursor-pointer ${c.read?"bg-background/50 border-border/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"}`,onClick:()=>a(c.id),children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:o(c.type)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:`text-sm ${c.read?"text-muted-foreground":"text-foreground"}`,children:c.message}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.time})]}),!c.read&&p.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-2"})]})},c.id)),n.length===0&&p.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[p.jsx(ay,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No notifications"})]})]})]})})})]})},HX=new ts,GX=async(t,e)=>await pF(Pd,t,e),qX=async()=>await jF(Pd,HX),QX=async(t,e)=>await fF(Pd,t,e),XX=async()=>{await vF(Pd)},ld=()=>{var w;const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(!0),[o,a]=v.useState(""),l=Ss(),c=Wi(),{user:d,loading:h}=Fi();v.useEffect(()=>{const y=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),v.useEffect(()=>{document.documentElement.classList.toggle("light",!s),localStorage.setItem("theme",s?"dark":"light")},[s]),v.useEffect(()=>{const y=localStorage.getItem("theme");y&&i(y==="dark")},[]);const f=async()=>{try{await XX(),c("/")}catch(y){console.error("Logout failed:",y)}},m=[{href:"/",label:"Home"}];return p.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"glass py-2":"bg-transparent py-4"}`,children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs($t,{to:"/",className:"flex items-center space-x-2 group ml-4",children:[" ",p.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:p.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),p.jsx("span",{className:"text-xl font-bold gradient-text hidden sm:block",children:"StackIt"})]}),p.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-md mx-8",children:p.jsxs("div",{className:"relative w-full",children:[p.jsx(yI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(Lr,{type:"text",placeholder:"Search questions, tags, users...",value:o,onChange:y=>a(y.target.value),className:"pl-10 glass border-0 bg-background/50 focus:bg-background/80 transition-all",onKeyDown:y=>{y.key==="Enter"&&o.trim()&&c(`/search?q=${encodeURIComponent(o)}`)}})]})}),p.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:m.map(y=>p.jsx($t,{to:y.href,className:`text-sm font-medium transition-colors hover:text-primary ${l.pathname===y.href?"text-primary":"text-muted-foreground"}`,children:y.label},y.href))}),p.jsxs("div",{className:"flex items-center space-x-3",children:[d&&p.jsx($t,{to:"/ask",children:p.jsxs(Pe,{className:"bg-gradient-primary hover:scale-105 transition-transform glow-hover",children:[p.jsx(rx,{className:"w-4 h-4 mr-2"}),p.jsx("span",{className:"hidden sm:inline",children:"Ask"})]})}),d&&p.jsx(KX,{}),d?p.jsxs("div",{className:"relative group",children:[p.jsx($t,{to:"/profile",children:p.jsxs(kl,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-primary transition-all",children:[p.jsx(Nl,{src:d.photoURL||void 0}),p.jsx(Dl,{children:((w=d.displayName)==null?void 0:w.charAt(0))||p.jsx(ix,{className:"w-4 h-4"})})]})}),p.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-background border border-border rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:p.jsxs("div",{className:"py-1",children:[p.jsx($t,{to:"/profile",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10",children:"Your Profile"}),p.jsx("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-foreground hover:bg-primary/10",children:"Sign Out"})]})})]}):p.jsx($t,{to:"/login",children:p.jsx(Pe,{variant:"outline",size:"sm",children:"Sign In"})}),p.jsx(Pe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),"aria-label":n?"Close menu":"Open menu",children:n?p.jsx(ox,{className:"w-5 h-5"}):p.jsx(Oz,{className:"w-5 h-5"})})]})]}),n&&p.jsxs("div",{className:"md:hidden mt-4 glass rounded-lg p-4 space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(yI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(Lr,{type:"text",placeholder:"Search...",value:o,onChange:y=>a(y.target.value),className:"pl-10"})]}),p.jsxs("div",{className:"space-y-2",children:[m.map(y=>p.jsx($t,{to:y.href,className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${l.pathname===y.href?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-background/50"}`,onClick:()=>r(!1),children:y.label},y.href)),!d&&p.jsx($t,{to:"/login",className:"block px-3 py-2 rounded-md text-sm font-medium bg-primary/10 text-primary",onClick:()=>r(!1),children:"Sign In"}),d&&p.jsx("button",{onClick:f,className:"w-full text-left px-3 py-2 rounded-md text-sm font-medium text-muted-foreground hover:text-primary hover:bg-background/50",children:"Sign Out"})]})]})]})})},YX=({question:t,onVote:e})=>{const[n,r]=v.useState(t.stats.votes),[s,i]=v.useState(null),{user:o}=Fi(),a=Wi(),l=d=>{if(!o){a("/login",{state:{from:window.location.pathname}});return}s===d?(r(n-(d==="up"?1:-1)),i(null)):(r(n+(s?d==="up"?2:-2:d==="up"?1:-1)),i(d)),e==null||e(t.id,d)},c=d=>{const h=new Date(d),m=new Date().getTime()-h.getTime(),w=Math.floor(m/(1e3*60*60)),y=Math.floor(w/24);return y>0?`${y}d ago`:w>0?`${w}h ago`:"Just now"};return p.jsxs(cn,{className:"glass-strong hover:shadow-medium transition-all duration-300 card-hover group",children:[p.jsx(un,{className:"p-6",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-shrink-0",children:[p.jsx(Dp,{children:p.jsxs(x0,{children:[p.jsx(E0,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>l("up"),className:`p-1 transition-colors ${s==="up"?"text-success bg-success/10":"hover:text-success"}`,children:p.jsx(Cp,{className:"w-5 h-5"})})}),!o&&p.jsx(Mp,{children:p.jsx("p",{children:"Login to vote"})})]})}),p.jsx("span",{className:`font-bold text-lg ${n>0?"text-success":n<0?"text-destructive":""}`,children:n}),p.jsx(Dp,{children:p.jsxs(x0,{children:[p.jsx(E0,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>l("down"),className:`p-1 transition-colors ${s==="down"?"text-destructive bg-destructive/10":"hover:text-destructive"}`,children:p.jsx(Sp,{className:"w-5 h-5"})})}),!o&&p.jsx(Mp,{children:p.jsx("p",{children:"Login to vote"})})]})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx($t,{to:`/question/${t.id}`,className:"text-lg font-semibold hover:text-primary transition-colors group-hover:text-primary line-clamp-2",children:t.title}),t.hasAcceptedAnswer&&p.jsx(Es,{variant:"outline",className:"ml-2 text-success border-success bg-success/10 flex-shrink-0",children:"Solved"})]}),p.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:t.content}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(d=>p.jsxs(Es,{variant:"secondary",className:"hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",children:[p.jsx(sx,{className:"w-3 h-3 mr-1"}),d]},d))})]})]})}),p.jsx(wV,{className:"px-6 py-4 bg-background/50 border-t border-border/50",children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(kl,{className:"w-8 h-8",children:[p.jsx(Nl,{src:t.author.avatar}),p.jsx(Dl,{children:p.jsx(ix,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"font-medium",children:t.author.name}),p.jsxs("span",{className:"text-muted-foreground ml-2",children:[t.author.reputation.toLocaleString()," rep"]})]})]}),p.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(nx,{className:"w-4 h-4"}),p.jsx("span",{children:t.stats.answers})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(kD,{className:"w-4 h-4"}),p.jsx("span",{children:t.stats.views})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(tx,{className:"w-4 h-4"}),p.jsx("span",{children:c(t.createdAt)})]})]})]})})]})};var JX=v.createContext(void 0);function _V(t){const e=v.useContext(JX);return t||e||"ltr"}var Sy=0;function ZX(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oC()),document.body.insertAdjacentElement("beforeend",t[1]??oC()),Sy++,()=>{Sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sy--}},[])}function oC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cy="focusScope.autoFocusOnMount",Ay="focusScope.autoFocusOnUnmount",aC={bubbles:!1,cancelable:!0},eY="FocusScope",xV=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=Gt(s),d=Gt(i),h=v.useRef(null),f=bt(e,y=>l(y)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const A=T.target;a.contains(A)?h.current=A:zs(h.current,{select:!0})},b=function(T){if(m.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||zs(h.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&zs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){cC.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(Cy,aC);a.addEventListener(Cy,c),a.dispatchEvent(_),_.defaultPrevented||(tY(oY(EV(a)),{select:!0}),document.activeElement===y&&zs(a))}return()=>{a.removeEventListener(Cy,c),setTimeout(()=>{const _=new CustomEvent(Ay,aC);a.addEventListener(Ay,d),a.dispatchEvent(_),_.defaultPrevented||zs(y??document.body,{select:!0}),a.removeEventListener(Ay,d),cC.remove(m)},0)}}},[a,c,d,m]);const w=v.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const x=y.currentTarget,[T,A]=nY(x);T&&A?!y.shiftKey&&_===A?(y.preventDefault(),n&&zs(T,{select:!0})):y.shiftKey&&_===T&&(y.preventDefault(),n&&zs(A,{select:!0})):_===x&&y.preventDefault()}},[n,r,m.paused]);return p.jsx(Se.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});xV.displayName=eY;function tY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zs(r,{select:e}),document.activeElement!==n)return}function nY(t){const e=EV(t),n=lC(e,t),r=lC(e.reverse(),t);return[n,r]}function EV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lC(t,e){for(const n of t)if(!rY(n,{upTo:e}))return n}function rY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sY(t){return t instanceof HTMLInputElement&&"select"in t}function zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sY(t)&&e&&t.select()}}var cC=iY();function iY(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uC(t,e),t.unshift(e)},remove(e){var n;t=uC(t,e),(n=t[0])==null||n.resume()}}}function uC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function oY(t){return t.filter(e=>e.tagName!=="A")}function aY(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,lY(s,...e)]}function lY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Py="rovingFocusGroup.onEntryFocus",cY={bubbles:!1,cancelable:!0},Zm="RovingFocusGroup",[G0,TV,uY]=G_(Zm),[dY,bV]=aY(Zm,[uY]),[hY,fY]=dY(Zm),IV=v.forwardRef((t,e)=>p.jsx(G0.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(G0.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(pY,{...t,ref:e})})}));IV.displayName=Zm;var pY=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=v.useRef(null),m=bt(e,f),w=_V(i),[y=null,b]=Mm({prop:o,defaultProp:a,onChange:l}),[_,x]=v.useState(!1),T=Gt(c),A=TV(n),k=v.useRef(!1),[V,S]=v.useState(0);return v.useEffect(()=>{const I=f.current;if(I)return I.addEventListener(Py,T),()=>I.removeEventListener(Py,T)},[T]),p.jsx(hY,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(I=>b(I),[b]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>S(I=>I-1),[]),children:p.jsx(Se.div,{tabIndex:_||V===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{k.current=!0}),onFocus:oe(t.onFocus,I=>{const P=!k.current;if(I.target===I.currentTarget&&P&&!_){const R=new CustomEvent(Py,cY);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=A().filter(ne=>ne.focusable),M=D.find(ne=>ne.active),N=D.find(ne=>ne.id===y),le=[M,N,...D].filter(Boolean).map(ne=>ne.ref.current);AV(le,d)}}k.current=!1}),onBlur:oe(t.onBlur,()=>x(!1))})})}),SV="RovingFocusGroupItem",CV=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ap(),l=i||a,c=fY(SV,n),d=c.currentTabStopId===l,h=TV(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return v.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),p.jsx(G0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:oe(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:oe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=yY(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const x=_.indexOf(w.currentTarget);_=c.loop?vY(_,x+1):_.slice(x+1)}setTimeout(()=>AV(_))}})})})});CV.displayName=SV;var mY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yY(t,e,n){const r=gY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mY[r]}function AV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function vY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wY=IV,_Y=CV,xY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},da=new WeakMap,$h=new WeakMap,zh={},Ry=0,PV=function(t){return t&&(t.host||PV(t.parentNode))},EY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=PV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},TY=function(t,e,n,r){var s=EY(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var i=zh[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",y=(da.get(f)||0)+1,b=(i.get(f)||0)+1;da.set(f,y),i.set(f,b),o.push(f),y===1&&w&&$h.set(f,!0),b===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),a.clear(),Ry++,function(){o.forEach(function(h){var f=da.get(h)-1,m=i.get(h)-1;da.set(h,f),i.set(h,m),f||($h.has(h)||h.removeAttribute(r),$h.delete(h)),m||h.removeAttribute(n)}),Ry--,Ry||(da=new WeakMap,da=new WeakMap,$h=new WeakMap,zh={})}},bY=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=xY(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),TY(r,s,n,"aria-hidden")):function(){return null}},Af="right-scroll-bar-position",Pf="width-before-scroll-bar",IY="with-scroll-bars-hidden",SY="--removed-body-scroll-bar-size";function ky(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CY(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var AY=typeof window<"u"?v.useLayoutEffect:v.useEffect,dC=new WeakMap;function PY(t,e){var n=CY(null,function(r){return t.forEach(function(s){return ky(s,r)})});return AY(function(){var r=dC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ky(a,null)}),i.forEach(function(a){s.has(a)||ky(a,o)})}dC.set(n,t)},[t]),n}function RY(t){return t}function kY(t,e){e===void 0&&(e=RY);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function NY(t){t===void 0&&(t={});var e=kY(null);return e.options=Ir({async:!0,ssr:!1},t),e}var RV=function(t){var e=t.sideCar,n=gd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Ir({},n))};RV.isSideCarExport=!0;function DY(t,e){return t.useMedium(e),RV}var kV=NY(),Ny=function(){},eg=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Ny,onWheelCapture:Ny,onTouchMoveCapture:Ny}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,x=t.gapMode,T=gd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,k=PY([n,e]),V=Ir(Ir({},T),s);return v.createElement(v.Fragment,null,d&&v.createElement(A,{sideCar:kV,removeScrollBar:c,shards:h,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Ir(Ir({},V),{ref:k})):v.createElement(_,Ir({},V,{className:l,ref:k}),a))});eg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eg.classNames={fullWidth:Pf,zeroRight:Af};var MY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=MY();return e&&t.setAttribute("nonce",e),t}function OY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=VY())&&(OY(e,n),LY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FY=function(){var t=jY();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NV=function(){var t=FY(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},UY={left:0,top:0,right:0,gap:0},Dy=function(t){return parseInt(t||"",10)||0},BY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Dy(n),Dy(r),Dy(s)]},$Y=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return UY;var e=BY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zY=NV(),qa="data-scroll-locked",WY=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Af,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qa,`] {
    `).concat(SY,": ").concat(a,`px;
  }
`)},hC=function(){var t=parseInt(document.body.getAttribute(qa)||"0",10);return isFinite(t)?t:0},KY=function(){v.useEffect(function(){return document.body.setAttribute(qa,(hC()+1).toString()),function(){var t=hC()-1;t<=0?document.body.removeAttribute(qa):document.body.setAttribute(qa,t.toString())}},[])},HY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;KY();var i=v.useMemo(function(){return $Y(s)},[s]);return v.createElement(zY,{styles:WY(i,!e,s,n?"":"!important")})},q0=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return q0=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{q0=!1}var ha=q0?{passive:!1}:!1,GY=function(t){return t.tagName==="TEXTAREA"},DV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GY(t)&&n[e]==="visible")},qY=function(t){return DV(t,"overflowY")},QY=function(t){return DV(t,"overflowX")},fC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MV(t,r);if(s){var i=VV(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},XY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},YY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MV=function(t,e){return t==="v"?qY(e):QY(e)},VV=function(t,e){return t==="v"?XY(e):YY(e)},JY=function(t,e){return t==="h"&&e==="rtl"?-1:1},ZY=function(t,e,n,r,s){var i=JY(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var m=VV(t,a),w=m[0],y=m[1],b=m[2],_=y-b-i*w;(w||_)&&MV(t,a)&&(h+=_,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},Kh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pC=function(t){return[t.deltaX,t.deltaY]},mC=function(t){return t&&"current"in t?t.current:t},eJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nJ=0,fa=[];function rJ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(nJ++)[0],i=v.useState(NV)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=p4([t.lockRef.current],(t.shards||[]).map(mC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=Kh(y),x=n.current,T="deltaX"in y?y.deltaX:x[0]-_[0],A="deltaY"in y?y.deltaY:x[1]-_[1],k,V=y.target,S=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in y&&S==="h"&&V.type==="range")return!1;var I=fC(S,V);if(!I)return!0;if(I?k=S:(k=S==="v"?"h":"v",I=fC(S,V)),!I)return!1;if(!r.current&&"changedTouches"in y&&(T||A)&&(r.current=k),!k)return!0;var P=r.current||k;return ZY(P,b,y,P==="h"?T:A,!0)},[]),l=v.useCallback(function(y){var b=y;if(!(!fa.length||fa[fa.length-1]!==i)){var _="deltaY"in b?pC(b):Kh(b),x=e.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&eJ(k.delta,_)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(mC).filter(Boolean).filter(function(k){return k.contains(b.target)}),A=T.length>0?a(b,T[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=v.useCallback(function(y,b,_,x){var T={name:y,delta:b,target:_,should:x,shadowParent:sJ(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),d=v.useCallback(function(y){n.current=Kh(y),r.current=void 0},[]),h=v.useCallback(function(y){c(y.type,pC(y),y.target,a(y,t.lockRef.current))},[]),f=v.useCallback(function(y){c(y.type,Kh(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return fa.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ha),document.addEventListener("touchmove",l,ha),document.addEventListener("touchstart",d,ha),function(){fa=fa.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,ha),document.removeEventListener("touchmove",l,ha),document.removeEventListener("touchstart",d,ha)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:tJ(s)}):null,m?v.createElement(HY,{gapMode:t.gapMode}):null)}function sJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iJ=DY(kV,rJ);var OV=v.forwardRef(function(t,e){return v.createElement(eg,Ir({},t,{ref:e,sideCar:iJ}))});OV.classNames=eg.classNames;var Q0=["Enter"," "],oJ=["ArrowDown","PageUp","Home"],LV=["ArrowUp","PageDown","End"],aJ=[...oJ,...LV],lJ={ltr:[...Q0,"ArrowRight"],rtl:[...Q0,"ArrowLeft"]},cJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$d="Menu",[cd,uJ,dJ]=G_($d),[Jo,jV]=Vd($d,[dJ,Bm,bV]),tg=Bm(),FV=bV(),[hJ,Zo]=Jo($d),[fJ,zd]=Jo($d),UV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=tg(e),[l,c]=v.useState(null),d=v.useRef(!1),h=Gt(i),f=_V(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(o2,{...a,children:p.jsx(hJ,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:p.jsx(fJ,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};UV.displayName=$d;var pJ="MenuAnchor",s1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=tg(n);return p.jsx(a2,{...s,...r,ref:e})});s1.displayName=pJ;var i1="MenuPortal",[mJ,BV]=Jo(i1,{forceMount:void 0}),$V=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Zo(i1,e);return p.jsx(mJ,{scope:e,forceMount:n,children:p.jsx(Yo,{present:n||i.open,children:p.jsx(Q_,{asChild:!0,container:s,children:r})})})};$V.displayName=i1;var qn="MenuContent",[gJ,o1]=Jo(qn),zV=v.forwardRef((t,e)=>{const n=BV(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Zo(qn,t.__scopeMenu),o=zd(qn,t.__scopeMenu);return p.jsx(cd.Provider,{scope:t.__scopeMenu,children:p.jsx(Yo,{present:r||i.open,children:p.jsx(cd.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(yJ,{...s,ref:e}):p.jsx(vJ,{...s,ref:e})})})})}),yJ=v.forwardRef((t,e)=>{const n=Zo(qn,t.__scopeMenu),r=v.useRef(null),s=bt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return bY(i)},[]),p.jsx(a1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vJ=v.forwardRef((t,e)=>{const n=Zo(qn,t.__scopeMenu);return p.jsx(a1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a1=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,...y}=t,b=Zo(qn,n),_=zd(qn,n),x=tg(n),T=FV(n),A=uJ(n),[k,V]=v.useState(null),S=v.useRef(null),I=bt(e,S,b.onContentChange),P=v.useRef(0),R=v.useRef(""),D=v.useRef(0),M=v.useRef(null),N=v.useRef("right"),K=v.useRef(0),le=w?OV:v.Fragment,ne=w?{as:Sl,allowPinchZoom:!0}:void 0,te=U=>{var He,yn;const q=R.current+U,Q=A().filter(lt=>!lt.disabled),Y=document.activeElement,se=(He=Q.find(lt=>lt.ref.current===Y))==null?void 0:He.textValue,Ce=Q.map(lt=>lt.textValue),Je=RJ(Ce,q,se),ye=(yn=Q.find(lt=>lt.textValue===Je))==null?void 0:yn.ref.current;(function lt(Nt){R.current=Nt,window.clearTimeout(P.current),Nt!==""&&(P.current=window.setTimeout(()=>lt(""),1e3))})(q),ye&&setTimeout(()=>ye.focus())};v.useEffect(()=>()=>window.clearTimeout(P.current),[]),ZX();const j=v.useCallback(U=>{var Q,Y;return N.current===((Q=M.current)==null?void 0:Q.side)&&NJ(U,(Y=M.current)==null?void 0:Y.area)},[]);return p.jsx(gJ,{scope:n,searchRef:R,onItemEnter:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:v.useCallback(U=>{var q;j(U)||((q=S.current)==null||q.focus(),V(null))},[j]),onTriggerLeave:v.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(U=>{M.current=U},[]),children:p.jsx(le,{...ne,children:p.jsx(xV,{asChild:!0,trapped:s,onMountAutoFocus:oe(i,U=>{var q;U.preventDefault(),(q=S.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(Dm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:p.jsx(wY,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:V,onEntryFocus:oe(l,U=>{_.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(l2,{role:"menu","aria-orientation":"vertical","data-state":iO(b.open),"data-radix-menu-content":"",dir:_.dir,...x,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Y=U.ctrlKey||U.altKey||U.metaKey,se=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!Y&&se&&te(U.key));const Ce=S.current;if(U.target!==Ce||!aJ.includes(U.key))return;U.preventDefault();const ye=A().filter(He=>!He.disabled).map(He=>He.ref.current);LV.includes(U.key)&&ye.reverse(),AJ(ye)}),onBlur:oe(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:oe(t.onPointerMove,ud(U=>{const q=U.target,Q=K.current!==U.clientX;if(U.currentTarget.contains(q)&&Q){const Y=U.clientX>K.current?"right":"left";N.current=Y,K.current=U.clientX}}))})})})})})})});zV.displayName=qn;var wJ="MenuGroup",l1=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Se.div,{role:"group",...r,ref:e})});l1.displayName=wJ;var _J="MenuLabel",WV=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Se.div,{...r,ref:e})});WV.displayName=_J;var Wp="MenuItem",gC="menu.itemSelect",ng=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=zd(Wp,t.__scopeMenu),a=o1(Wp,t.__scopeMenu),l=bt(e,i),c=v.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(gC,{bubbles:!0,cancelable:!0});h.addEventListener(gC,m=>r==null?void 0:r(m),{once:!0}),q_(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(KV,{...s,ref:l,disabled:n,onClick:oe(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:oe(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:oe(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Q0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ng.displayName=Wp;var KV=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=o1(Wp,n),a=FV(n),l=v.useRef(null),c=bt(e,l),[d,h]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[i.children]),p.jsx(cd.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:p.jsx(_Y,{asChild:!0,...a,focusable:!r,children:p.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:oe(t.onPointerMove,ud(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,ud(w=>o.onItemLeave(w))),onFocus:oe(t.onFocus,()=>h(!0)),onBlur:oe(t.onBlur,()=>h(!1))})})})}),xJ="MenuCheckboxItem",HV=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(YV,{scope:t.__scopeMenu,checked:n,children:p.jsx(ng,{role:"menuitemcheckbox","aria-checked":Kp(n)?"mixed":n,...s,ref:e,"data-state":u1(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(Kp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});HV.displayName=xJ;var GV="MenuRadioGroup",[EJ,TJ]=Jo(GV,{value:void 0,onValueChange:()=>{}}),qV=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Gt(r);return p.jsx(EJ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:p.jsx(l1,{...s,ref:e})})});qV.displayName=GV;var QV="MenuRadioItem",XV=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=TJ(QV,t.__scopeMenu),i=n===s.value;return p.jsx(YV,{scope:t.__scopeMenu,checked:i,children:p.jsx(ng,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":u1(i),onSelect:oe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});XV.displayName=QV;var c1="MenuItemIndicator",[YV,bJ]=Jo(c1,{checked:!1}),JV=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=bJ(c1,n);return p.jsx(Yo,{present:r||Kp(i.checked)||i.checked===!0,children:p.jsx(Se.span,{...s,ref:e,"data-state":u1(i.checked)})})});JV.displayName=c1;var IJ="MenuSeparator",ZV=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ZV.displayName=IJ;var SJ="MenuArrow",eO=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=tg(n);return p.jsx(c2,{...s,...r,ref:e})});eO.displayName=SJ;var CJ="MenuSub",[cee,tO]=Jo(CJ),$c="MenuSubTrigger",nO=v.forwardRef((t,e)=>{const n=Zo($c,t.__scopeMenu),r=zd($c,t.__scopeMenu),s=tO($c,t.__scopeMenu),i=o1($c,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(s1,{asChild:!0,...c,children:p.jsx(KV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":iO(n.open),...t,ref:Nm(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,ud(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:oe(t.onPointerLeave,ud(h=>{var m,w;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const y=(w=n.content)==null?void 0:w.dataset.side,b=y==="right",_=b?-5:5,x=f[b?"left":"right"],T=f[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||lJ[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});nO.displayName=$c;var rO="MenuSubContent",sO=v.forwardRef((t,e)=>{const n=BV(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Zo(qn,t.__scopeMenu),o=zd(qn,t.__scopeMenu),a=tO(rO,t.__scopeMenu),l=v.useRef(null),c=bt(e,l);return p.jsx(cd.Provider,{scope:t.__scopeMenu,children:p.jsx(Yo,{present:r||i.open,children:p.jsx(cd.Slot,{scope:t.__scopeMenu,children:p.jsx(a1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=cJ[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});sO.displayName=rO;function iO(t){return t?"open":"closed"}function Kp(t){return t==="indeterminate"}function u1(t){return Kp(t)?"indeterminate":t?"checked":"unchecked"}function AJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function PJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function RJ(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=PJ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function kJ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function NJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return kJ(n,e)}function ud(t){return e=>e.pointerType==="mouse"?t(e):void 0}var DJ=UV,MJ=s1,VJ=$V,OJ=zV,LJ=l1,jJ=WV,FJ=ng,UJ=HV,BJ=qV,$J=XV,zJ=JV,WJ=ZV,KJ=eO,HJ=nO,GJ=sO,d1="DropdownMenu",[qJ,uee]=Vd(d1,[jV]),sn=jV(),[QJ,oO]=qJ(d1),aO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=sn(e),c=v.useRef(null),[d=!1,h]=Mm({prop:s,defaultProp:i,onChange:o});return p.jsx(QJ,{scope:e,triggerId:Ap(),triggerRef:c,contentId:Ap(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:a,children:p.jsx(DJ,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};aO.displayName=d1;var lO="DropdownMenuTrigger",cO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=oO(lO,n),o=sn(n);return p.jsx(MJ,{asChild:!0,...o,children:p.jsx(Se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Nm(e,i.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});cO.displayName=lO;var XJ="DropdownMenuPortal",uO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=sn(e);return p.jsx(VJ,{...r,...n})};uO.displayName=XJ;var dO="DropdownMenuContent",hO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=oO(dO,n),i=sn(n),o=v.useRef(!1);return p.jsx(OJ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hO.displayName=dO;var YJ="DropdownMenuGroup",JJ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(LJ,{...s,...r,ref:e})});JJ.displayName=YJ;var ZJ="DropdownMenuLabel",fO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(jJ,{...s,...r,ref:e})});fO.displayName=ZJ;var eZ="DropdownMenuItem",pO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(FJ,{...s,...r,ref:e})});pO.displayName=eZ;var tZ="DropdownMenuCheckboxItem",mO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(UJ,{...s,...r,ref:e})});mO.displayName=tZ;var nZ="DropdownMenuRadioGroup",rZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(BJ,{...s,...r,ref:e})});rZ.displayName=nZ;var sZ="DropdownMenuRadioItem",gO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx($J,{...s,...r,ref:e})});gO.displayName=sZ;var iZ="DropdownMenuItemIndicator",yO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(zJ,{...s,...r,ref:e})});yO.displayName=iZ;var oZ="DropdownMenuSeparator",vO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(WJ,{...s,...r,ref:e})});vO.displayName=oZ;var aZ="DropdownMenuArrow",lZ=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(KJ,{...s,...r,ref:e})});lZ.displayName=aZ;var cZ="DropdownMenuSubTrigger",wO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(HJ,{...s,...r,ref:e})});wO.displayName=cZ;var uZ="DropdownMenuSubContent",_O=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=sn(n);return p.jsx(GJ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_O.displayName=uZ;var dZ=aO,hZ=cO,fZ=uO,xO=hO,EO=fO,TO=pO,bO=mO,IO=gO,SO=yO,CO=vO,AO=wO,PO=_O;const pZ=dZ,mZ=hZ,gZ=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>p.jsxs(AO,{ref:s,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(Pz,{className:"ml-auto h-4 w-4"})]}));gZ.displayName=AO.displayName;const yZ=v.forwardRef(({className:t,...e},n)=>p.jsx(PO,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));yZ.displayName=PO.displayName;const RO=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(fZ,{children:p.jsx(xO,{ref:r,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));RO.displayName=xO.displayName;const kO=v.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(TO,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));kO.displayName=TO.displayName;const vZ=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>p.jsxs(bO,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(SO,{children:p.jsx(Cz,{className:"h-4 w-4"})})}),e]}));vZ.displayName=bO.displayName;const wZ=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(IO,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(SO,{children:p.jsx(Nz,{className:"h-2 w-2 fill-current"})})}),e]}));wZ.displayName=IO.displayName;const _Z=v.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(EO,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));_Z.displayName=EO.displayName;const xZ=v.forwardRef(({className:t,...e},n)=>p.jsx(CO,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));xZ.displayName=CO.displayName;const EZ=({activeFilter:t,activeSort:e,onFilterChange:n,onSortChange:r,questionCount:s})=>{const i=[{key:"newest",label:"Newest",icon:tx,description:"Most recently asked"},{key:"trending",label:"Trending",icon:h0,description:"Hot questions"},{key:"unanswered",label:"Unanswered",icon:Dz,description:"No answers yet"},{key:"solved",label:"Solved",icon:PD,description:"Has accepted answer"}],o=[{key:"newest",label:"Newest first"},{key:"oldest",label:"Oldest first"},{key:"most-votes",label:"Most votes"},{key:"most-answers",label:"Most answers"},{key:"most-views",label:"Most views"}];return p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs("h2",{className:"text-xl font-semibold",children:["Questions",p.jsx(Es,{variant:"secondary",className:"ml-2",children:s.toLocaleString()})]})}),p.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[p.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2 sm:pb-0",children:i.map(a=>{const l=a.icon,c=t===a.key;return p.jsxs(Pe,{variant:c?"default":"outline",size:"sm",onClick:()=>n(a.key),className:`flex items-center space-x-2 whitespace-nowrap transition-all ${c?"bg-gradient-primary glow-primary scale-105":"hover:bg-primary/10 hover:text-primary hover:scale-105"}`,children:[p.jsx(l,{className:"w-4 h-4"}),p.jsx("span",{children:a.label})]},a.key)})}),p.jsxs(pZ,{children:[p.jsx(mZ,{asChild:!0,children:p.jsxs(Pe,{variant:"outline",size:"sm",className:"flex items-center space-x-2 hover:bg-primary/10",children:[p.jsx(Iz,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Sort"}),p.jsx(Az,{className:"w-4 h-4"})]})}),p.jsx(RO,{className:"glass-strong min-w-[180px]",align:"end",children:o.map(a=>p.jsxs(kO,{className:`hover:bg-primary/10 focus:bg-primary/10 cursor-pointer ${e===a.key?"bg-primary/10 text-primary":""}`,onClick:()=>r(a.key),children:[a.label,e===a.key&&p.jsx("span",{className:"ml-auto",children:""})]},a.key))})]})]})]})},TZ=()=>{const[t,e]=v.useState(null),n=[{name:"JavaScript",count:1240,trending:!0,color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",change:12.5,direction:"up"},{name:"React",count:856,trending:!0,color:"bg-blue-500/20 text-blue-400 border-blue-500/30",change:8.2,direction:"up"},{name:"TypeScript",count:734,trending:!0,color:"bg-blue-600/20 text-blue-300 border-blue-600/30",change:15.7,direction:"up"},{name:"Python",count:623,trending:!1,color:"bg-green-500/20 text-green-400 border-green-500/30",change:-2.1,direction:"down"},{name:"Node.js",count:456,trending:!0,color:"bg-green-600/20 text-green-300 border-green-600/30",change:6.3,direction:"up"},{name:"CSS",count:389,trending:!1,color:"bg-purple-500/20 text-purple-400 border-purple-500/30",change:.5,direction:"stable"},{name:"HTML",count:345,trending:!1,color:"bg-orange-500/20 text-orange-400 border-orange-500/30",change:-1.2,direction:"down"},{name:"Vue.js",count:234,trending:!0,color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",change:9.8,direction:"up"},{name:"SQL",count:198,trending:!1,color:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",change:-3.4,direction:"down"},{name:"Next.js",count:167,trending:!0,color:"bg-gray-500/20 text-gray-300 border-gray-500/30",change:18.9,direction:"up"}];return p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsx(Wn,{className:"pb-4",children:p.jsxs(Di,{className:"flex items-center space-x-2 text-lg",children:[p.jsx(h0,{className:"w-5 h-5 text-primary"}),p.jsx("span",{children:"Trending Tags"})]})}),p.jsxs(un,{className:"space-y-3",children:[n.map((r,s)=>p.jsxs(fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-center justify-between group cursor-pointer",onClick:()=>e(t===r.name?null:r.name),children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsxs("div",{className:"relative",children:[p.jsx(fn.div,{animate:r.trending?{boxShadow:["0 0 0 rgba(59, 130, 246, 0)","0 0 15px rgba(59, 130, 246, 0.4)","0 0 0 rgba(59, 130, 246, 0)"]}:{},transition:{duration:2,repeat:1/0,repeatDelay:1},children:p.jsxs(Es,{variant:"outline",className:`${r.color} transition-all duration-300 group-hover:scale-110 ${t===r.name?"scale-110 glow-primary":""}`,children:[p.jsx(d0,{className:"w-3 h-3 mr-1"}),r.name]})}),r.trending&&p.jsx(fn.div,{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0}})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:r.count.toLocaleString()}),p.jsxs("div",{className:"flex items-center space-x-1",children:[r.direction==="up"&&p.jsx(Cp,{className:"w-3 h-3 text-green-400"}),r.direction==="down"&&p.jsx(Sp,{className:"w-3 h-3 text-red-400"}),r.direction==="stable"&&p.jsx(Sz,{className:"w-3 h-3 text-gray-400"}),p.jsxs("span",{className:`text-xs ${r.direction==="up"?"text-green-400":r.direction==="down"?"text-red-400":"text-gray-400"}`,children:[r.direction==="up"?"+":"",r.change,"%"]})]})]})]}),r.trending&&p.jsx(fn.div,{animate:{rotate:[0,10,0]},transition:{duration:2,repeat:1/0},children:p.jsx(h0,{className:"w-4 h-4 text-destructive"})})]},r.name)),p.jsx("div",{className:"pt-4 border-t border-border/50",children:p.jsxs(Pe,{variant:"ghost",className:"w-full text-sm text-muted-foreground hover:text-primary transition-colors",children:[p.jsx(sx,{className:"w-4 h-4 mr-2"}),"View all tags"]})})]})]})},bZ=()=>{const[t,e]=v.useState({questions:0,answers:0,users:0,badges:0}),n=[{label:"Questions",value:12543,icon:p.jsx(kz,{className:"w-5 h-5"}),color:"text-blue-400"},{label:"Answers",value:34521,icon:p.jsx(nx,{className:"w-5 h-5"}),color:"text-green-400"},{label:"Users",value:8967,icon:p.jsx(zz,{className:"w-5 h-5"}),color:"text-purple-400"},{label:"Badges Earned",value:15234,icon:p.jsx(ex,{className:"w-5 h-5"}),color:"text-yellow-400"}];v.useEffect(()=>{const o=setTimeout(()=>{n.forEach((a,l)=>{const d=a.value/125;let h=0;const f=setInterval(()=>{h+=d,h>=a.value&&(h=a.value,clearInterval(f)),e(m=>({...m,[a.label.toLowerCase().replace(" ","").replace(" earned","")]:Math.floor(h)}))},16);setTimeout(()=>clearInterval(f),2100)})},500);return()=>clearTimeout(o)},[]);const r=i=>i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toLocaleString(),s=i=>{const o=i.toLowerCase().replace(" ","").replace(" earned","");return t[o]||0};return p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx(Di,{className:"flex items-center space-x-2",children:p.jsx("span",{children:"Community Stats"})})}),p.jsx(un,{children:p.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map((i,o)=>p.jsxs(fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"text-center p-4 rounded-lg bg-background/30 border border-border/50 hover:bg-background/50 transition-all duration-300",children:[p.jsx(fn.div,{className:`${i.color} mx-auto mb-2`,whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:i.icon}),p.jsx(fn.div,{className:"text-2xl font-bold gradient-text",initial:{scale:.5},animate:{scale:1},transition:{delay:o*.2,type:"spring",stiffness:200},children:r(s(i.label))}),p.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.label})]},i.label))})})]})},My=[{id:"1",title:"How to join 2 columns in a data set to make a separate column in SQL",content:"I do not know the code for it as I am a beginner. As an example what I need to do is like there is a column 1 containing First name, and column 2 consists of last name I want a column to combine both of them.",tags:["sql","database","mysql"],author:{name:"John Doe",avatar:"https://github.com/shadcn.png",reputation:1250},stats:{votes:5,answers:3,views:127},createdAt:"2025-01-12T10:30:00Z",hasAcceptedAnswer:!0},{id:"2",title:"React useEffect dependency array best practices",content:"What are the best practices for managing dependency arrays in React useEffect hooks? I keep running into infinite re-render issues.",tags:["react","javascript","hooks"],author:{name:"Sarah Wilson",avatar:"",reputation:2890},stats:{votes:12,answers:7,views:342},createdAt:"2025-01-12T08:15:00Z",hasAcceptedAnswer:!1},{id:"3",title:"TypeScript generic constraints with conditional types",content:"I am trying to create a utility type that constrains generics based on certain conditions but I am having trouble with the syntax.",tags:["typescript","generics","types"],author:{name:"Mike Johnson",avatar:"",reputation:5420},stats:{votes:8,answers:2,views:89},createdAt:"2025-01-12T07:45:00Z",hasAcceptedAnswer:!1},{id:"4",title:"How to optimize Python pandas performance for large datasets",content:"Working with a 10GB CSV file and pandas is extremely slow. What are the best strategies for optimizing performance?",tags:["python","pandas","performance"],author:{name:"Alice Brown",avatar:"",reputation:3210},stats:{votes:15,answers:9,views:567},createdAt:"2025-01-11T16:20:00Z",hasAcceptedAnswer:!0},{id:"5",title:"CSS Grid vs Flexbox: When to use which?",content:"I am confused about when to use CSS Grid versus Flexbox. Can someone explain the key differences and use cases?",tags:["css","grid","flexbox"],author:{name:"David Lee",avatar:"",reputation:1890},stats:{votes:22,answers:11,views:1230},createdAt:"2025-01-11T14:10:00Z",hasAcceptedAnswer:!0}],IZ=()=>{const[t,e]=v.useState(My),[n,r]=v.useState("newest"),[s,i]=v.useState("newest"),[o,a]=v.useState(!0),{user:l}=Fi(),c=Wi();v.useEffect(()=>{document.title="StackIt"},[]);const d=()=>{r("newest"),i("newest"),h("newest","newest")},h=(b,_)=>{let x=[...My];switch(b){case"trending":x=[...x].sort((T,A)=>A.stats.views-T.stats.views);break;case"unanswered":x=x.filter(T=>!T.hasAcceptedAnswer);break;case"solved":x=x.filter(T=>T.hasAcceptedAnswer);break;default:x=[...x]}x.sort((T,A)=>{switch(_){case"newest":return new Date(A.createdAt).getTime()-new Date(T.createdAt).getTime();case"oldest":return new Date(T.createdAt).getTime()-new Date(A.createdAt).getTime();case"most-votes":return A.stats.votes-T.stats.votes;case"most-answers":return A.stats.answers-T.stats.answers;case"most-views":return A.stats.views-T.stats.views;default:return 0}}),e(x)},f=b=>{r(b),h(b,s)},m=b=>{i(b),h(n,b)},w=(b,_)=>{if(!l){c("/login",{state:{from:window.location.pathname}});return}e(x=>x.map(T=>T.id===b?{...T,stats:{...T.stats,votes:_==="up"?T.stats.votes+1:T.stats.votes-1}}:T))},y=b=>{const _=My.filter(x=>x.tags.includes(b.toLowerCase()));e(_),r("custom")};return v.useEffect(()=>{const b=setTimeout(()=>{a(!1),h("newest","newest")},1e3);return()=>clearTimeout(b)},[]),o?p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ad,{loading:!0}),p.jsx(ld,{}),p.jsx("div",{className:"pt-24 flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading awesome questions..."})]})})]}):p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ad,{loading:o}),p.jsx(ld,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:p.jsx("span",{className:"gradient-text",children:"Welcome to StackIt"})}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our community of developers, share knowledge, and get answers to your questions."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l?null:p.jsxs(Pe,{size:"lg",className:"bg-gradient-primary glow-hover transition-spring",onClick:()=>c("/login",{state:{from:"/ask"}}),children:[p.jsx(rx,{className:"w-5 h-5 mr-2"}),"Ask Your First Question"]}),p.jsx(Pe,{variant:"outline",size:"lg",className:"glass transition-spring",onClick:d,children:"Browse Questions"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3",children:[p.jsx(EZ,{activeFilter:n,activeSort:s,onFilterChange:f,onSortChange:m,questionCount:t.length}),p.jsx("div",{className:"space-y-6",children:t.map((b,_)=>p.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${_*.1}s`},children:p.jsx(YX,{question:b,onVote:w,onTagClick:y})},b.id))}),p.jsx("div",{className:"text-center mt-12",children:p.jsx(Pe,{variant:"outline",className:"glass hover:scale-105 transition-spring",onClick:d,children:"Reset Filters"})})]}),p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[p.jsx(bZ,{}),p.jsx(TZ,{onTagClick:y})]})]})]})})]})},h1=v.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));h1.displayName="Textarea";var SZ="Label",NO=v.forwardRef((t,e)=>p.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NO.displayName=SZ;var DO=NO;const CZ=Od("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rf=v.forwardRef(({className:t,...e},n)=>p.jsx(DO,{ref:n,className:Ee(CZ(),t),...e}));Rf.displayName=DO.displayName;const AZ=Od("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),MO=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:Ee(AZ({variant:e}),t),...n}));MO.displayName="Alert";const PZ=v.forwardRef(({className:t,...e},n)=>p.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));PZ.displayName="AlertTitle";const VO=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));VO.displayName="AlertDescription";const RZ=()=>{const t=Wi(),{user:e}=Fi();if(v.useEffect(()=>{e||t("/login",{state:{from:"/ask"}})},[e,t]),!e)return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ad,{}),p.jsx(ld,{}),p.jsx("div",{className:"pt-24 flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Redirecting to login..."})]})})]});const[n,r]=v.useState(!1),[s,i]=v.useState({title:"",content:"",tags:[]}),[o,a]=v.useState(""),[l,c]=v.useState({}),d=["javascript","react","typescript","python","css","html","node.js","sql","git","mongodb","express","vue.js"],h=(_,x)=>{i(T=>({...T,[_]:x})),l[_]&&c(T=>({...T,[_]:""}))},f=_=>{const x=_.toLowerCase().trim();x&&!s.tags.includes(x)&&s.tags.length<5&&(i(T=>({...T,tags:[...T.tags,x]})),a(""))},m=_=>{i(x=>({...x,tags:x.tags.filter(T=>T!==_)}))},w=_=>{(_.key==="Enter"||_.key===",")&&(_.preventDefault(),f(o))},y=()=>{const _={};return s.title.trim()?s.title.length<10&&(_.title="Title must be at least 10 characters"):_.title="Title is required",s.content.trim()?s.content.length<30&&(_.content="Description must be at least 30 characters"):_.content="Description is required",s.tags.length===0&&(_.tags="At least one tag is required"),c(_),Object.keys(_).length===0},b=async _=>{_.preventDefault(),y()&&(r(!0),setTimeout(()=>{console.log("Question submitted:",s),r(!1),t("/")},2e3))};return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ad,{}),p.jsx(ld,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs($t,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow transition-colors mb-4",children:[p.jsx(Z_,{className:"w-4 h-4 mr-2"}),"Back to Questions"]}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text mb-2",children:"Ask a Question"}),p.jsx("p",{className:"text-muted-foreground",children:"Get help from our community of developers. Be specific and provide details."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsxs(Di,{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:p.jsx(rx,{className:"w-4 h-4 text-white"})}),p.jsx("span",{children:"Your Question"})]})}),p.jsx(un,{children:p.jsxs("form",{onSubmit:b,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Rf,{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),p.jsx(Lr,{id:"title",placeholder:"What's your programming question? Be specific.",value:s.title,onChange:_=>h("title",_.target.value),className:`transition-all ${l.title?"border-destructive focus:border-destructive":""}`}),l.title&&p.jsx("p",{className:"text-sm text-destructive",children:l.title}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.title.length,"/150 characters"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Rf,{htmlFor:"content",className:"text-sm font-medium",children:"Description *"}),p.jsx(h1,{id:"content",placeholder:"Describe your problem in detail. Include what you've tried and what specific help you need.",value:s.content,onChange:_=>h("content",_.target.value),className:`min-h-[200px] transition-all ${l.content?"border-destructive focus:border-destructive":""}`}),l.content&&p.jsx("p",{className:"text-sm text-destructive",children:l.content}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.content.length," characters (minimum 30)"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Rf,{htmlFor:"tags",className:"text-sm font-medium",children:"Tags * (max 5)"}),s.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.tags.map(_=>p.jsxs(Es,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20 hover:bg-primary/20 transition-colors",children:[p.jsx(d0,{className:"w-3 h-3 mr-1"}),_,p.jsx("button",{type:"button",onClick:()=>m(_),className:"ml-2 hover:text-destructive transition-colors",children:p.jsx(ox,{className:"w-3 h-3"})})]},_))}),p.jsx(Lr,{id:"tags",placeholder:"Add tags (press Enter or comma to add)",value:o,onChange:_=>a(_.target.value),onKeyDown:w,disabled:s.tags.length>=5,className:`transition-all ${l.tags?"border-destructive focus:border-destructive":""}`}),l.tags&&p.jsx("p",{className:"text-sm text-destructive",children:l.tags}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested tags:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.filter(_=>!s.tags.includes(_)).slice(0,8).map(_=>p.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>f(_),disabled:s.tags.length>=5,className:"text-xs hover:bg-primary/10 hover:text-primary transition-colors",children:[p.jsx(d0,{className:"w-3 h-3 mr-1"}),_]},_))})]})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:n,children:"Cancel"}),p.jsx(Pe,{type:"submit",disabled:n,className:"bg-gradient-primary glow-hover transition-all",children:n?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Posting..."]}):p.jsxs(p.Fragment,{children:[p.jsx(jz,{className:"w-4 h-4 mr-2"}),"Post Question"]})})]})]})})]})}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsx(Wn,{children:p.jsx(Di,{className:"text-lg",children:"Writing Tips"})}),p.jsxs(un,{className:"space-y-4",children:[p.jsxs(MO,{children:[p.jsx(Rz,{className:"h-4 w-4"}),p.jsxs(VO,{className:"text-sm",children:[p.jsx("strong",{children:"Be specific:"})," Include error messages, code snippets, and expected vs actual behavior."]})]}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Good question includes:"}),p.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[p.jsx("li",{children:" Clear, specific title"}),p.jsx("li",{children:" What you're trying to do"}),p.jsx("li",{children:" What you've tried"}),p.jsx("li",{children:" Expected vs actual results"}),p.jsx("li",{children:" Relevant code snippets"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Choose tags wisely:"}),p.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[p.jsx("li",{children:" Use specific technology names"}),p.jsx("li",{children:" Include programming language"}),p.jsx("li",{children:" Add framework if relevant"}),p.jsx("li",{children:" Max 5 tags for focus"})]})]})]})]})]})})]})]})})]})};var kZ="Separator",yC="horizontal",NZ=["horizontal","vertical"],OO=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=yC,...s}=t,i=DZ(r)?r:yC,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(Se.div,{"data-orientation":i,...a,...s,ref:e})});OO.displayName=kZ;function DZ(t){return NZ.includes(t)}var LO=OO;const X0=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>p.jsx(LO,{ref:s,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));X0.displayName=LO.displayName;const MZ=()=>{const{id:t}=RK(),[e,n]=v.useState(null),[r,s]=v.useState(!1),[i,o]=v.useState(""),a={id:t||"1",title:"How to join 2 columns in a data set to make a separate column in SQL",content:`I do not know the code for it as I am a beginner. As an example what I need to do is like there is a column 1 containing First name, and column 2 consists of last name I want a column to combine both of them.

Here's what I have so far:

\`\`\`sql
SELECT first_name, last_name 
FROM users;
\`\`\`

But I need a way to combine these into a single column called "full_name". I've tried a few things but keep getting syntax errors. Any help would be appreciated!`,tags:["sql","database","mysql","concatenation"],author:{name:"John Doe",avatar:"https://github.com/shadcn.png",reputation:1250,badges:["bronze","silver"]},stats:{votes:5,views:127,bookmarks:3},createdAt:"2025-01-12T10:30:00Z",lastActivity:"2025-01-12T14:15:00Z"},l=[{id:"1",content:"You can use the `CONCAT()` function to combine columns in SQL. Here's how:\n\n```sql\nSELECT \n    first_name,\n    last_name,\n    CONCAT(first_name, ' ', last_name) AS full_name\nFROM users;\n```\n\nThis will create a new column called `full_name` that combines the first and last name with a space in between.\n\nAlternative approaches:\n- Use the `||` operator (PostgreSQL, SQLite): `first_name || ' ' || last_name`\n- Use the `+` operator (SQL Server): `first_name + ' ' + last_name`\n\nThe `CONCAT()` function is more portable across different database systems.",author:{name:"Sarah Wilson",avatar:"",reputation:2890,badges:["gold","silver","bronze"]},stats:{votes:8},createdAt:"2025-01-12T11:45:00Z",isAccepted:!0},{id:"2",content:"Another approach using `CONCAT_WS()` (concat with separator):\n\n```sql\nSELECT \n    CONCAT_WS(' ', first_name, last_name) AS full_name\nFROM users;\n```\n\nThis is especially useful when some values might be NULL, as `CONCAT_WS()` ignores NULL values.",author:{name:"Mike Johnson",avatar:"",reputation:5420,badges:["gold"]},stats:{votes:3},createdAt:"2025-01-12T12:20:00Z",isAccepted:!1}],c=d=>{const h=new Date(d),m=new Date().getTime()-h.getTime(),w=Math.floor(m/(1e3*60*60)),y=Math.floor(w/24);return y>0?`${y}d ago`:w>0?`${w}h ago`:"Just now"};return p.jsxs("div",{className:"min-h-screen animated-bg",children:[p.jsx(ad,{}),p.jsx(ld,{}),p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[p.jsxs($t,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow transition-colors mb-6",children:[p.jsx(Z_,{className:"w-4 h-4 mr-2"}),"Back to Questions"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs(cn,{className:"glass-strong",children:[p.jsxs(Wn,{className:"pb-4",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold leading-tight pr-4",children:a.title}),p.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:r?"text-warning":"",children:p.jsx(gI,{className:`w-4 h-4 ${r?"fill-current":""}`})}),p.jsx(Pe,{variant:"ghost",size:"sm",children:p.jsx(Fz,{className:"w-4 h-4"})}),p.jsx(Pe,{variant:"ghost",size:"sm",children:p.jsx(Mz,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(tx,{className:"w-4 h-4"}),p.jsxs("span",{children:["Asked ",c(a.createdAt)]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(kD,{className:"w-4 h-4"}),p.jsxs("span",{children:[a.stats.views," views"]})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(nx,{className:"w-4 h-4"}),p.jsxs("span",{children:[l.length," answers"]})]})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(d=>p.jsxs(Es,{variant:"secondary",className:"hover:bg-primary/10 hover:text-primary transition-colors cursor-pointer",children:[p.jsx(sx,{className:"w-3 h-3 mr-1"}),d]},d))})]}),p.jsx(un,{children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-3 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>n(e==="up"?null:"up"),className:`p-2 ${e==="up"?"text-success bg-success/10":"hover:text-success"}`,children:p.jsx(Cp,{className:"w-6 h-6"})}),p.jsx("span",{className:"font-bold text-xl text-success",children:a.stats.votes}),p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>n(e==="down"?null:"down"),className:`p-2 ${e==="down"?"text-destructive bg-destructive/10":"hover:text-destructive"}`,children:p.jsx(Sp,{className:"w-6 h-6"})}),p.jsx(X0,{className:"w-8"}),p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:`p-2 ${r?"text-warning":"hover:text-warning"}`,children:p.jsx(gI,{className:`w-5 h-5 ${r?"fill-current":""}`})}),p.jsx("span",{className:"text-sm text-muted-foreground",children:a.stats.bookmarks})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-foreground",children:a.content})}),p.jsx("div",{className:"flex justify-end mt-8",children:p.jsxs("div",{className:"glass rounded-lg p-4 max-w-sm",children:[p.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["asked ",c(a.createdAt)]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(kl,{className:"w-10 h-10",children:[p.jsx(Nl,{src:a.author.avatar}),p.jsx(Dl,{children:a.author.name[0]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:a.author.name}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.author.reputation.toLocaleString()," reputation"]})]})]})]})})]})]})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h2",{className:"text-2xl font-bold",children:[l.length," Answer",l.length!==1?"s":""]}),l.map(d=>p.jsx(cn,{className:`glass-strong ${d.isAccepted?"ring-2 ring-success/50":""}`,children:p.jsx(un,{className:"p-6",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center space-y-3 flex-shrink-0",children:[p.jsx(Pe,{variant:"ghost",size:"sm",className:"p-2 hover:text-success",children:p.jsx(Cp,{className:"w-6 h-6"})}),p.jsx("span",{className:`font-bold text-xl ${d.stats.votes>0?"text-success":""}`,children:d.stats.votes}),p.jsx(Pe,{variant:"ghost",size:"sm",className:"p-2 hover:text-destructive",children:p.jsx(Sp,{className:"w-6 h-6"})}),d.isAccepted&&p.jsxs(p.Fragment,{children:[p.jsx(X0,{className:"w-8"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(PD,{className:"w-8 h-8 text-success fill-current"}),p.jsx("span",{className:"text-xs text-success font-medium mt-1",children:"Accepted"})]})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx("div",{className:"whitespace-pre-wrap text-foreground",children:d.content})}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsxs("div",{className:"glass rounded-lg p-4 max-w-sm",children:[p.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["answered ",c(d.createdAt)]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs(kl,{className:"w-10 h-10",children:[p.jsx(Nl,{src:d.author.avatar}),p.jsx(Dl,{children:d.author.name[0]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"font-medium",children:d.author.name}),d.author.badges.includes("gold")&&p.jsx(RD,{className:"w-4 h-4 text-yellow-500"})]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.author.reputation.toLocaleString()," reputation"]})]})]})]})})]})]})})},d.id))]}),p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx("h3",{className:"text-xl font-semibold",children:"Your Answer"})}),p.jsx(un,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(h1,{placeholder:"Write your answer here... Use code blocks with ``` for code snippets.",value:i,onChange:d=>o(d.target.value),className:"min-h-[200px]"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," characters (minimum 30)"]}),p.jsx(Pe,{disabled:i.length<30,className:"bg-gradient-primary glow-hover",children:"Post Your Answer"})]})]})})]})]}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs("div",{className:"space-y-6 sticky top-24",children:[p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx("h3",{className:"font-semibold",children:"Question Stats"})}),p.jsxs(un,{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Asked"}),p.jsx("span",{children:c(a.createdAt)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Viewed"}),p.jsxs("span",{children:[a.stats.views," times"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Active"}),p.jsx("span",{children:c(a.lastActivity)})]})]})]}),p.jsxs(cn,{className:"glass-strong",children:[p.jsx(Wn,{children:p.jsx("h3",{className:"font-semibold",children:"Related Questions"})}),p.jsx(un,{className:"space-y-3",children:["How to concatenate strings in MySQL?","SQL CONCAT vs CONCAT_WS differences","Handling NULL values in string concatenation"].map((d,h)=>p.jsx($t,{to:"#",className:"block text-sm hover:text-primary transition-colors",children:d},h))})]})]})})]})]})})]})},VZ=()=>{var w,y,b;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),l=Wi(),c=Ss(),{user:d}=Fi(),h=((y=(w=c.state)==null?void 0:w.from)==null?void 0:y.pathname)||"/";v.useEffect(()=>{d&&l(h,{replace:!0})},[d,l,h]);const f=async _=>{_.preventDefault(),a(!0),i("");try{await GX(t,n),l(h,{replace:!0})}catch{i("Failed to login. Please check your credentials.")}finally{a(!1)}},m=async()=>{a(!0),i("");try{await qX(),l(h,{replace:!0})}catch{i("Failed to login with Google. Please try again.")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 glass rounded-lg",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Welcome back"}),p.jsx("p",{className:"text-muted-foreground",children:"Login to continue to StackIt"})]}),s&&p.jsx("div",{className:"p-4 text-sm text-destructive bg-destructive/10 rounded-lg",children:s}),p.jsxs("form",{className:"space-y-4",onSubmit:f,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),p.jsx(Lr,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:_=>e(_.target.value),required:!0,disabled:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),p.jsx(Lr,{id:"password",type:"password",placeholder:"",value:n,onChange:_=>r(_.target.value),required:!0,disabled:o})]}),p.jsx(Pe,{type:"submit",className:"w-full",disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-border"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),p.jsx(Pe,{variant:"outline",className:"w-full",onClick:m,disabled:o,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin mr-2"}),"Logging in..."]}):"Google"}),p.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",p.jsx($t,{to:"/register",state:{from:(b=c.state)==null?void 0:b.from},className:"text-primary hover:underline",children:"Register here"})]}),p.jsx("div",{className:"text-center text-sm text-muted-foreground",children:p.jsx($t,{to:"/forgot-password",className:"hover:underline",children:"Forgot password?"})})]})})},OZ=()=>{var m,w;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),l=Wi(),c=Ss(),{user:d}=Fi(),h=((w=(m=c.state)==null?void 0:m.from)==null?void 0:w.pathname)||"/",f=async y=>{y.preventDefault();try{const b=await QX(t,n);await EB(b.user.uid,{displayName:s,email:t,createdAt:new Date().toISOString()}),l(h,{replace:!0})}catch(b){a("Registration failed. "+b.message)}};return d?(l(h,{replace:!0}),null):p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 glass rounded-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-center",children:"Create Account"}),o&&p.jsx("div",{className:"text-red-500 text-center",children:o}),p.jsxs("form",{className:"space-y-6",onSubmit:f,children:[p.jsx(Lr,{type:"text",placeholder:"Display Name",value:s,onChange:y=>i(y.target.value),required:!0}),p.jsx(Lr,{type:"email",placeholder:"Email",value:t,onChange:y=>e(y.target.value),required:!0}),p.jsx(Lr,{type:"password",placeholder:"Password",value:n,onChange:y=>r(y.target.value),required:!0,minLength:6}),p.jsx(Pe,{type:"submit",className:"w-full",children:"Register"})]}),p.jsxs("div",{className:"text-center text-sm",children:["Already have an account? ",p.jsx($t,{to:"/login",className:"text-primary",children:"Login here"})]})]})})};function LZ(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:m,...w}=h,y=(f==null?void 0:f[t][l])||a,b=v.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,jZ(s,...e)]}function jZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var f1="Progress",p1=100,[FZ,dee]=LZ(f1),[UZ,BZ]=FZ(f1),jO=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=$Z,...o}=t;(s||s===0)&&!vC(s)&&console.error(zZ(`${s}`,"Progress"));const a=vC(s)?s:p1;r!==null&&!wC(r,a)&&console.error(WZ(`${r}`,"Progress"));const l=wC(r,a)?r:null,c=Hp(l)?i(l,a):void 0;return p.jsx(UZ,{scope:n,value:l,max:a,children:p.jsx(Se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Hp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":BO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});jO.displayName=f1;var FO="ProgressIndicator",UO=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=BZ(FO,n);return p.jsx(Se.div,{"data-state":BO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});UO.displayName=FO;function $Z(t,e){return`${Math.round(t/e*100)}%`}function BO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Hp(t){return typeof t=="number"}function vC(t){return Hp(t)&&!isNaN(t)&&t>0}function wC(t,e){return Hp(t)&&!isNaN(t)&&t<=e&&t>=0}function zZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${p1}\`.`}function WZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${p1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $O=jO,KZ=UO;const Y0=v.forwardRef(({className:t,value:e,...n},r)=>p.jsx($O,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(KZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Y0.displayName=$O.displayName;const HZ=()=>{const[t]=v.useState(2350),[e]=v.useState(3e3),n=[{id:"1",name:"First Answer",description:"Posted your first answer",icon:p.jsx(Bz,{className:"w-4 h-4"}),earned:!0,rarity:"common",xp:50},{id:"2",name:"Helper",description:"Answer 50 questions",icon:p.jsx(Wz,{className:"w-4 h-4"}),earned:!0,progress:45,maxProgress:50,rarity:"rare",xp:200},{id:"3",name:"Expert",description:"Get 100 upvotes on answers",icon:p.jsx(Uz,{className:"w-4 h-4"}),earned:!1,progress:67,maxProgress:100,rarity:"epic",xp:500},{id:"4",name:"Legend",description:"Reach 10K reputation",icon:p.jsx(RD,{className:"w-4 h-4"}),earned:!1,progress:2350,maxProgress:1e4,rarity:"legendary",xp:1e3},{id:"5",name:"Mentor",description:"Help 25 new users",icon:p.jsx($z,{className:"w-4 h-4"}),earned:!1,progress:12,maxProgress:25,rarity:"epic",xp:300}],r=i=>{switch(i){case"common":return"border-gray-400 text-gray-400";case"rare":return"border-blue-400 text-blue-400";case"epic":return"border-purple-400 text-purple-400";case"legendary":return"border-yellow-400 text-yellow-400";default:return"border-gray-400 text-gray-400"}},s=i=>{switch(i){case"common":return"hover:shadow-gray-400/20";case"rare":return"hover:shadow-blue-400/20";case"epic":return"hover:shadow-purple-400/20";case"legendary":return"hover:shadow-yellow-400/20";default:return"hover:shadow-gray-400/20"}};return p.jsx(Dp,{children:p.jsxs(cn,{className:"glass-strong",children:[p.jsxs(Wn,{children:[p.jsxs(Di,{className:"flex items-center space-x-2",children:[p.jsx(ex,{className:"w-5 h-5 text-primary"}),p.jsx("span",{children:"Your Badges"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Level Progress"}),p.jsxs("span",{className:"text-primary font-medium",children:[t," / ",e," XP"]})]}),p.jsx(Y0,{value:t/e*100,className:"h-2"})]})]}),p.jsx(un,{className:"space-y-3",children:n.map((i,o)=>p.jsxs(x0,{children:[p.jsx(E0,{asChild:!0,children:p.jsx(fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:`p-3 rounded-lg border transition-all duration-300 cursor-pointer ${i.earned?`${r(i.rarity)} bg-background/50 ${s(i.rarity)} hover:shadow-lg`:"border-border/50 bg-background/20 opacity-60 hover:opacity-80"}`,children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(fn.div,{className:`p-2 rounded-full border ${r(i.rarity)} ${i.earned?"bg-background/50":"bg-background/20"}`,animate:i.earned?{boxShadow:["0 0 0 rgba(59, 130, 246, 0)","0 0 20px rgba(59, 130, 246, 0.3)","0 0 0 rgba(59, 130, 246, 0)"]}:{},transition:{duration:2,repeat:1/0,repeatDelay:1},children:i.icon}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h4",{className:"font-medium",children:i.name}),p.jsx(Es,{variant:"outline",className:`text-xs ${r(i.rarity)}`,children:i.rarity}),i.earned&&p.jsxs(Es,{variant:"outline",className:"text-xs text-green-400 border-green-400",children:["+",i.xp," XP"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),i.progress!==void 0&&i.maxProgress&&p.jsxs("div",{className:"mt-2 space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-xs",children:[p.jsx("span",{className:"text-muted-foreground",children:"Progress"}),p.jsxs("span",{className:"text-primary",children:[i.progress,"/",i.maxProgress]})]}),p.jsx(Y0,{value:i.progress/i.maxProgress*100,className:"h-1"})]})]})]})})}),p.jsx(Mp,{children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"font-medium",children:i.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),i.progress!==void 0&&i.maxProgress&&p.jsxs("p",{className:"text-sm text-primary mt-1",children:[i.progress,"/",i.maxProgress," completed"]}),p.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["+",i.xp," XP"]})]})})]},i.id))})]})})},GZ=()=>{var e;const{user:t}=Fi();return p.jsx("div",{className:"min-h-screen animated-bg",children:p.jsx("main",{className:"pt-24 pb-12",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[p.jsxs($t,{to:"/",className:"inline-flex items-center text-primary hover:text-primary-glow mb-6",children:[p.jsx(Z_,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(cn,{className:"glass-strong sticky top-24",children:[p.jsxs(Wn,{className:"items-center",children:[p.jsxs(kl,{className:"w-24 h-24 mb-4",children:[p.jsx(Nl,{src:(t==null?void 0:t.photoURL)||""}),p.jsx(Dl,{children:((e=t==null?void 0:t.displayName)==null?void 0:e.charAt(0))||"U"})]}),p.jsx(Di,{className:"text-center",children:(t==null?void 0:t.displayName)||"Anonymous User"}),p.jsx("p",{className:"text-muted-foreground text-center",children:t==null?void 0:t.email})]}),p.jsx(un,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Reputation"}),p.jsx("span",{className:"font-medium",children:"1,250"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Questions"}),p.jsx("span",{className:"font-medium",children:"12"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Answers"}),p.jsx("span",{className:"font-medium",children:"34"})]})]})})]})}),p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsx(HZ,{})})]})]})})})},qZ=()=>{const t=Ss();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},QZ=()=>{const{user:t,loading:e}=Fi();return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?p.jsx(WK,{}):p.jsx(zK,{to:"/login",replace:!0})},XZ=new YW,zO=()=>p.jsx(ZW,{client:XZ,children:p.jsx(ek,{children:p.jsxs(Dp,{children:[p.jsx(S8,{}),p.jsx(t7,{}),p.jsx(ZK,{children:p.jsxs(HK,{children:[p.jsx(Jr,{path:"/",element:p.jsx(IZ,{})}),p.jsx(Jr,{path:"/login",element:p.jsx(VZ,{})}),p.jsx(Jr,{path:"/register",element:p.jsx(OZ,{})}),p.jsx(Jr,{path:"/question/:id",element:p.jsx(MZ,{})}),p.jsxs(Jr,{element:p.jsx(QZ,{}),children:[p.jsx(Jr,{path:"/ask",element:p.jsx(RZ,{})}),p.jsx(Jr,{path:"/profile",element:p.jsx(GZ,{})})]}),p.jsx(Jr,{path:"*",element:p.jsx(qZ,{})})]})})]})})});H_(document.getElementById("root")).render(p.jsx(zO,{}));H_(document.getElementById("root")).render(p.jsx(ek,{children:p.jsx(zO,{})}));
